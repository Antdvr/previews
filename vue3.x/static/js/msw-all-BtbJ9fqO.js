import{A as e,B as t,D as s,E as r,G as n,H as o,I as i,J as a,L as c,K as l,M as u,O as h}from"./vendors-all-CtjYzmNH.js";const d={formatMessage:function(t,...s){return`[MSW] ${e(t,...s)}`},warn:function(e,...t){},error:function(e,...t){}};class p extends Error{constructor(e){super(e),this.name="InternalError"}}const f=/[\/\\]msw[\/\\]src[\/\\](.+)/,g=/(node_modules)?[\/\\]lib[\/\\](core|browser|node|native|iife)[\/\\]|^[^\/\\]*$/;class m{static cache=new WeakMap;__kind;info;isUsed;resolver;resolverIterator;resolverIteratorResult;options;constructor(e){this.resolver=e.resolver,this.options=e.options;const t=function(e){const t=e.stack;if(!t)return;const s=t.split("\n").slice(1).find(e=>!(f.test(e)||g.test(e)));if(!s)return;return s.replace(/\s*at [^()]*\(([^)]+)\)/,"$1").replace(/^@/,"")}(new Error);this.info={...e.info,callFrame:t},this.isUsed=!1,this.__kind="RequestHandler"}async parse(e){return{}}async test(e){const t=await this.parse({request:e.request,resolutionContext:e.resolutionContext});return this.predicate({request:e.request,parsedResult:t,resolutionContext:e.resolutionContext})}extendResolverArgs(e){return{}}cloneRequestOrGetFromCache(e){const t=m.cache.get(e);if(void 0!==t)return t;const s=e.clone();return m.cache.set(e,s),s}async run(e){if(this.isUsed&&this.options?.once)return null;const t=this.cloneRequestOrGetFromCache(e.request),s=await this.parse({request:e.request,resolutionContext:e.resolutionContext});if(!this.predicate({request:e.request,parsedResult:s,resolutionContext:e.resolutionContext}))return null;if(this.isUsed&&this.options?.once)return null;this.isUsed=!0;const r=this.wrapResolver(this.resolver)({...this.extendResolverArgs({request:e.request,parsedResult:s}),requestId:e.requestId,request:e.request}).catch(e=>{if(e instanceof Response)return e;throw e}),n=await r;return this.createExecutionResult({request:t,requestId:e.requestId,response:n,parsedResult:s})}wrapResolver(e){return async t=>{if(!this.resolverIterator){const r=await e(t);if(!(s=r)||!Reflect.has(s,Symbol.iterator)&&!Reflect.has(s,Symbol.asyncIterator))return r;this.resolverIterator=Symbol.iterator in r?r[Symbol.iterator]():r[Symbol.asyncIterator]()}var s;this.isUsed=!1;const{done:r,value:n}=await this.resolverIterator.next(),o=await n;return o&&(this.resolverIteratorResult=o.clone()),r?(this.isUsed=!0,this.resolverIteratorResult?.clone()):o}}createExecutionResult(e){return{handler:this,request:e.request,requestId:e.requestId,response:e.response,parsedResult:e.parsedResult}}}function y(e){if("undefined"==typeof location)return e.toString();const t=e instanceof URL?e:new URL(e);return t.origin===location.origin?t.pathname:t.origin+t.pathname}async function v(e,t="warn"){const s=new URL(e.url),r=y(s)+s.search,n="HEAD"===e.method||"GET"===e.method?null:await e.clone().text(),o=`intercepted a request without a matching request handler:${`\n\n  • ${e.method} ${r}\n\n${n?`  • Request body: ${n}\n\n`:""}`}If you still wish to intercept this unhandled request, please create a request handler for it.\nRead more: https://mswjs.io/docs/http/intercepting-requests`;function i(e){switch(e){case"error":throw d.error("Error: %s",o),new p(d.formatMessage('Cannot bypass a request when using the "error" strategy for the "onUnhandledRequest" option.'));case"warn":d.warn("Warning: %s",o);break;case"bypass":break;default:throw new p(d.formatMessage('Failed to react to an unhandled request: unknown strategy "%s". Please provide one of the supported strategies ("bypass", "warn", "error") or a custom callback function as the value of the "onUnhandledRequest" option.',e))}}"function"!=typeof t?function(e){const t=new URL(e.url);return"file:"===t.protocol||!!/(fonts\.googleapis\.com)/.test(t.hostname)||!!/node_modules/.test(t.pathname)||!!t.pathname.includes("@vite")||/\.(s?css|less|m?jsx?|m?tsx?|html|ttf|otf|woff|woff2|eot|gif|jpe?g|png|avif|webp|svg|mp4|webm|ogg|mov|mp3|wav|ogg|flac|aac|pdf|txt|csv|json|xml|md|zip|tar|gz|rar|7z)$/i.test(t.pathname)}(e)||i(t):t(e,{warning:i.bind(null,"warn"),error:i.bind(null,"error")})}const{Cookie:b,CookieJar:w,Store:E,MemoryCookieStore:k,domainMatch:q,pathMatch:S}=t;const R=new w(s()?new k:new class extends E{storage;storageKey;constructor(){super(),r("undefined"!=typeof localStorage,"Failed to create a WebStorageCookieStore: `localStorage` is not available in this environment. This is likely an issue with MSW. Please report it on GitHub: https://github.com/mswjs/msw/issues"),this.synchronous=!0,this.storage=localStorage,this.storageKey="__msw-cookie-store__"}findCookie(e,t,s,r){try{const n=this.getStore();r(null,this.filterCookiesFromList(n,{domain:e,path:t,key:s})[0]||null)}catch(n){n instanceof Error&&r(n,null)}}findCookies(e,t,s,r){if(e)try{const s=this.getStore();r(null,this.filterCookiesFromList(s,{domain:e,path:t}))}catch(n){n instanceof Error&&r(n,[])}else r(null,[])}putCookie(e,t){try{if(0===e.maxAge)return;const t=this.getStore();t.push(e),this.updateStore(t)}catch(s){s instanceof Error&&t(s)}}updateCookie(e,t,s){0!==t.maxAge?this.putCookie(t,s):this.removeCookie(t.domain||"",t.path||"",t.key,s)}removeCookie(e,t,s,r){try{const n=this.getStore(),o=this.deleteCookiesFromList(n,{domain:e,path:t,key:s});this.updateStore(o),r(null)}catch(n){n instanceof Error&&r(n)}}removeCookies(e,t,s){try{const r=this.getStore(),n=this.deleteCookiesFromList(r,{domain:e,path:t});this.updateStore(n),s(null)}catch(r){r instanceof Error&&s(r)}}getAllCookies(e){try{e(null,this.getStore())}catch(t){t instanceof Error&&e(t,[])}}getStore(){try{const e=this.storage.getItem(this.storageKey);if(null==e)return[];const t=JSON.parse(e),s=[];for(const r of t){const e=b.fromJSON(r);null!=e&&s.push(e)}return s}catch{return[]}}updateStore(e){this.storage.setItem(this.storageKey,JSON.stringify(e.map(e=>e.toJSON())))}filterCookiesFromList(e,t){const s=[];for(const r of e)t.domain&&!q(t.domain,r.domain||"")||t.path&&!S(t.path,r.path||"")||t.key&&r.key!==t.key||s.push(r);return s}deleteCookiesFromList(e,t){const s=this.filterCookiesFromList(e,t);return e.filter(e=>!s.includes(e))}}),{message:L}=n,T=Symbol("kSetCookie");function C(e={}){const t=e?.status||200,s=e?.statusText||L[t]||"",r=new Headers(e?.headers);return{...e,headers:r,status:t,statusText:s}}async function x(e,t,s,r,n,o){if(n.emit("request:start",{request:e,requestId:t}),e.headers.get("accept")?.includes("msw/passthrough"))return n.emit("request:end",{request:e,requestId:t}),void o?.onPassthroughResponse?.(e);const a=await i(()=>(async({request:e,requestId:t,handlers:s,resolutionContext:r})=>{let n=null,o=null;for(const i of s)if(o=await i.run({request:e,requestId:t,resolutionContext:r}),null!==o&&(n=i),o?.response)break;return n?{handler:n,parsedResult:o?.parsedResult,response:o?.response}:null})({request:e,requestId:t,handlers:s,resolutionContext:o?.resolutionContext}));if(a.error)throw n.emit("unhandledException",{error:a.error,request:e,requestId:t}),a.error;if(!a.data)return await v(e,r.onUnhandledRequest),n.emit("request:unhandled",{request:e,requestId:t}),n.emit("request:end",{request:e,requestId:t}),void o?.onPassthroughResponse?.(e);const{response:c}=a.data;if(!c)return n.emit("request:end",{request:e,requestId:t}),void o?.onPassthroughResponse?.(e);if(302===c.status&&"passthrough"===c.headers.get("x-msw-intention"))return n.emit("request:end",{request:e,requestId:t}),void o?.onPassthroughResponse?.(e);!function(e,t){const s=Reflect.get(t,T);s&&R.setCookie(s,e.url)}(e,c),n.emit("request:match",{request:e,requestId:t});const l=a.data;return o?.onMockedResponse?.(c,l),n.emit("request:end",{request:e,requestId:t}),c}function I(e){return t=>null!=t&&"object"==typeof t&&"__kind"in t&&t.__kind===e}function O(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)}function P(e,t){return Object.entries(t).reduce((e,[t,s])=>{const r=e[t];return Array.isArray(r)&&Array.isArray(s)?(e[t]=r.concat(s),e):O(r)&&O(s)?(e[t]=P(r,s),e):(e[t]=s,e)},Object.assign({},e))}class M{subscriptions=[];dispose(){let e;for(;e=this.subscriptions.shift();)e()}}class A{constructor(e){this.initialHandlers=e,this.handlers=[...e]}handlers;prepend(e){this.handlers.unshift(...e)}reset(e){this.handlers=e.length>0?[...e]:[...this.initialHandlers]}currentHandlers(){return this.handlers}}class W extends M{handlersController;emitter;publicEmitter;events;constructor(...e){super(),r(this.validateHandlers(e),d.formatMessage("Failed to apply given request handlers: invalid input. Did you forget to spread the request handlers Array?")),this.handlersController=new A(e),this.emitter=new a,this.publicEmitter=new a,function(e,t){const s=e.emit;if(s._isPiped)return;const r=function(e,...r){return t.emit(e,...r),s.call(this,e,...r)};r._isPiped=!0,e.emit=r}(this.emitter,this.publicEmitter),this.events=this.createLifeCycleEvents(),this.subscriptions.push(()=>{this.emitter.removeAllListeners(),this.publicEmitter.removeAllListeners()})}validateHandlers(e){return e.every(e=>!Array.isArray(e))}use(...e){r(this.validateHandlers(e),d.formatMessage('Failed to call "use()" with the given request handlers: invalid input. Did you forget to spread the array of request handlers?')),this.handlersController.prepend(e)}restoreHandlers(){this.handlersController.currentHandlers().forEach(e=>{"isUsed"in e&&(e.isUsed=!1)})}resetHandlers(...e){this.handlersController.reset(e)}listHandlers(){return function(e){const t=[...e];return Object.freeze(t),t}(this.handlersController.currentHandlers())}createLifeCycleEvents(){return{on:(...e)=>this.publicEmitter.on(...e),removeListener:(...e)=>this.publicEmitter.removeListener(...e),removeAllListeners:(...e)=>this.publicEmitter.removeAllListeners(...e)}}}function j(e){return globalThis[e]||void 0}var D=class{constructor(e){this.symbol=e,this.readyState="INACTIVE",this.emitter=new a,this.subscriptions=[],this.logger=new c(e.description),this.emitter.setMaxListeners(0),this.logger.info("constructing the interceptor...")}checkEnvironment(){return!0}apply(){const e=this.logger.extend("apply");if(e.info("applying the interceptor..."),"APPLIED"===this.readyState)return void e.info("intercepted already applied!");if(!this.checkEnvironment())return void e.info("the interceptor cannot be applied in this environment!");this.readyState="APPLYING";const t=this.getInstance();if(t)return e.info("found a running instance, reusing..."),this.on=(s,r)=>(e.info('proxying the "%s" listener',s),t.emitter.addListener(s,r),this.subscriptions.push(()=>{t.emitter.removeListener(s,r),e.info('removed proxied "%s" listener!',s)}),this),void(this.readyState="APPLIED");e.info("no running instance found, setting up a new instance..."),this.setup(),this.setInstance(),this.readyState="APPLIED"}setup(){}on(e,t){const s=this.logger.extend("on");return"DISPOSING"===this.readyState||"DISPOSED"===this.readyState?(s.info("cannot listen to events, already disposed!"),this):(s.info('adding "%s" event listener:',e,t),this.emitter.on(e,t),this)}once(e,t){return this.emitter.once(e,t),this}off(e,t){return this.emitter.off(e,t),this}removeAllListeners(e){return this.emitter.removeAllListeners(e),this}dispose(){const e=this.logger.extend("dispose");if("DISPOSED"!==this.readyState)if(e.info("disposing the interceptor..."),this.readyState="DISPOSING",this.getInstance()){if(this.clearInstance(),e.info("global symbol deleted:",j(this.symbol)),this.subscriptions.length>0){e.info("disposing of %d subscriptions...",this.subscriptions.length);for(const e of this.subscriptions)e();this.subscriptions=[],e.info("disposed of all subscriptions!",this.subscriptions.length)}this.emitter.removeAllListeners(),e.info("destroyed the listener!"),this.readyState="DISPOSED"}else e.info("no interceptors running, skipping dispose...");else e.info("cannot dispose, already disposed!")}getInstance(){var e;const t=j(this.symbol);return this.logger.info("retrieved global instance:",null==(e=null==t?void 0:t.constructor)?void 0:e.name),t}setInstance(){var e,t;e=this.symbol,t=this,globalThis[e]=t,this.logger.info("set global instance!",this.symbol.description)}clearInstance(){var e;e=this.symbol,delete globalThis[e],this.logger.info("cleared global instance!",this.symbol.description)}};function H(e,t){return Object.defineProperties(t,{target:{value:e,enumerable:!0,writable:!0},currentTarget:{value:e,enumerable:!0,writable:!0}}),t}var U=Symbol("kCancelable"),_=Symbol("kDefaultPrevented"),N=class extends MessageEvent{constructor(e,t){super(e,t),this[U]=!!t.cancelable,this[_]=!1}get cancelable(){return this[U]}set cancelable(e){this[U]=e}get defaultPrevented(){return this[_]}set defaultPrevented(e){this[_]=e}preventDefault(){this.cancelable&&!this[_]&&(this[_]=!0)}},$=class extends Event{constructor(e,t={}){super(e,t),this.code=void 0===t.code?0:t.code,this.reason=void 0===t.reason?"":t.reason,this.wasClean=void 0!==t.wasClean&&t.wasClean}},B=class extends ${constructor(e,t={}){super(e,t),this[U]=!!t.cancelable,this[_]=!1}get cancelable(){return this[U]}set cancelable(e){this[U]=e}get defaultPrevented(){return this[_]}set defaultPrevented(e){this[_]=e}preventDefault(){this.cancelable&&!this[_]&&(this[_]=!0)}},G=Symbol("kEmitter"),F=Symbol("kBoundListener"),z=class{constructor(e,t){this.socket=e,this.transport=t,this.id=Math.random().toString(16).slice(2),this.url=new URL(e.url),this[G]=new EventTarget,this.transport.addEventListener("outgoing",e=>{const t=H(this.socket,new N("message",{data:e.data,origin:e.origin,cancelable:!0}));this[G].dispatchEvent(t),t.defaultPrevented&&e.preventDefault()}),this.transport.addEventListener("close",e=>{this[G].dispatchEvent(H(this.socket,new $("close",e)))})}addEventListener(e,t,s){if(!Reflect.has(t,F)){const e=t.bind(this.socket);Object.defineProperty(t,F,{value:e,enumerable:!1,configurable:!1})}this[G].addEventListener(e,Reflect.get(t,F),s)}removeEventListener(e,t,s){this[G].removeEventListener(e,Reflect.get(t,F),s)}send(e){this.transport.send(e)}close(e,t){this.transport.close(e,t)}},X="InvalidAccessError: close code out of user configurable range",K=Symbol("kPassthroughPromise"),J=Symbol("kOnSend"),V=Symbol("kClose"),Y=class extends EventTarget{constructor(e,t){super(),this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3,this._onopen=null,this._onmessage=null,this._onerror=null,this._onclose=null,this.url=e.toString(),this.protocol="",this.extensions="",this.binaryType="blob",this.readyState=this.CONNECTING,this.bufferedAmount=0,this[K]=new l,queueMicrotask(async()=>{await this[K]||(this.protocol="string"==typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"",this.readyState===this.CONNECTING&&(this.readyState=this.OPEN,this.dispatchEvent(H(this,new Event("open")))))})}set onopen(e){this.removeEventListener("open",this._onopen),this._onopen=e,null!==e&&this.addEventListener("open",e)}get onopen(){return this._onopen}set onmessage(e){this.removeEventListener("message",this._onmessage),this._onmessage=e,null!==e&&this.addEventListener("message",e)}get onmessage(){return this._onmessage}set onerror(e){this.removeEventListener("error",this._onerror),this._onerror=e,null!==e&&this.addEventListener("error",e)}get onerror(){return this._onerror}set onclose(e){this.removeEventListener("close",this._onclose),this._onclose=e,null!==e&&this.addEventListener("close",e)}get onclose(){return this._onclose}send(e){if(this.readyState===this.CONNECTING)throw this.close(),new DOMException("InvalidStateError");this.readyState!==this.CLOSING&&this.readyState!==this.CLOSED&&(this.bufferedAmount+=function(e){if("string"==typeof e)return e.length;if(e instanceof Blob)return e.size;return e.byteLength}(e),queueMicrotask(()=>{var t;this.bufferedAmount=0,null==(t=this[J])||t.call(this,e)}))}close(e=1e3,t){r(e,X),r(1e3===e||e>=3e3&&e<=4999,X),this[V](e,t)}[V](e=1e3,t,s=!0){this.readyState!==this.CLOSING&&this.readyState!==this.CLOSED&&(this.readyState=this.CLOSING,queueMicrotask(()=>{this.readyState=this.CLOSED,this.dispatchEvent(H(this,new $("close",{code:e,reason:t,wasClean:s}))),this._onopen=null,this._onmessage=null,this._onerror=null,this._onclose=null}))}addEventListener(e,t,s){return super.addEventListener(e,t,s)}removeEventListener(e,t,s){return super.removeEventListener(e,t,s)}};Y.CONNECTING=0,Y.OPEN=1,Y.CLOSING=2,Y.CLOSED=3;var Q=Symbol("kEmitter"),Z=Symbol("kBoundListener"),ee=Symbol("kSend"),te=class{constructor(e,t,s){this.client=e,this.transport=t,this.createConnection=s,this[Q]=new EventTarget,this.mockCloseController=new AbortController,this.realCloseController=new AbortController,this.transport.addEventListener("outgoing",e=>{void 0!==this.realWebSocket&&queueMicrotask(()=>{e.defaultPrevented||this[ee](e.data)})}),this.transport.addEventListener("incoming",this.handleIncomingMessage.bind(this))}get socket(){return r(this.realWebSocket,'Cannot access "socket" on the original WebSocket server object: the connection is not open. Did you forget to call `server.connect()`?'),this.realWebSocket}connect(){r(!this.realWebSocket||this.realWebSocket.readyState!==WebSocket.OPEN,'Failed to call "connect()" on the original WebSocket instance: the connection already open');const e=this.createConnection();e.binaryType=this.client.binaryType,e.addEventListener("open",e=>{this[Q].dispatchEvent(H(this.realWebSocket,new Event("open",e)))},{once:!0}),e.addEventListener("message",e=>{this.transport.dispatchEvent(H(this.realWebSocket,new MessageEvent("incoming",{data:e.data,origin:e.origin})))}),this.client.addEventListener("close",e=>{this.handleMockClose(e)},{signal:this.mockCloseController.signal}),e.addEventListener("close",e=>{this.handleRealClose(e)},{signal:this.realCloseController.signal}),e.addEventListener("error",()=>{const t=H(e,new Event("error",{cancelable:!0}));this[Q].dispatchEvent(t),t.defaultPrevented||this.client.dispatchEvent(H(this.client,new Event("error")))}),this.realWebSocket=e}addEventListener(e,t,s){if(!Reflect.has(t,Z)){const e=t.bind(this.client);Object.defineProperty(t,Z,{value:e,enumerable:!1})}this[Q].addEventListener(e,Reflect.get(t,Z),s)}removeEventListener(e,t,s){this[Q].removeEventListener(e,Reflect.get(t,Z),s)}send(e){this[ee](e)}[ee](e){const{realWebSocket:t}=this;r(t,'Failed to call "server.send()" for "%s": the connection is not open. Did you forget to call "server.connect()"?',this.client.url),t.readyState!==WebSocket.CLOSING&&t.readyState!==WebSocket.CLOSED&&(t.readyState!==WebSocket.CONNECTING?t.send(e):t.addEventListener("open",()=>{t.send(e)},{once:!0}))}close(){const{realWebSocket:e}=this;r(e,'Failed to close server connection for "%s": the connection is not open. Did you forget to call "server.connect()"?',this.client.url),this.realCloseController.abort(),e.readyState!==WebSocket.CLOSING&&e.readyState!==WebSocket.CLOSED&&(e.close(),queueMicrotask(()=>{this[Q].dispatchEvent(H(this.realWebSocket,new B("close",{code:1e3,cancelable:!0})))}))}handleIncomingMessage(e){const t=H(e.target,new N("message",{data:e.data,origin:e.origin,cancelable:!0}));this[Q].dispatchEvent(t),t.defaultPrevented||this.client.dispatchEvent(H(this.client,new MessageEvent("message",{data:e.data,origin:e.origin})))}handleMockClose(e){this.realWebSocket&&this.realWebSocket.close()}handleRealClose(e){this.mockCloseController.abort();const t=H(this.realWebSocket,new B("close",{code:e.code,reason:e.reason,wasClean:e.wasClean,cancelable:!0}));this[Q].dispatchEvent(t),t.defaultPrevented||this.client[V](e.code,e.reason)}},se=class extends EventTarget{constructor(e){super(),this.socket=e,this.socket.addEventListener("close",e=>{this.dispatchEvent(H(this.socket,new $("close",e)))}),this.socket[J]=e=>{this.dispatchEvent(H(this.socket,new N("outgoing",{data:e,origin:this.socket.url,cancelable:!0})))}}addEventListener(e,t,s){return super.addEventListener(e,t,s)}dispatchEvent(e){return super.dispatchEvent(e)}send(e){queueMicrotask(()=>{if(this.socket.readyState===this.socket.CLOSING||this.socket.readyState===this.socket.CLOSED)return;const t=()=>{this.socket.dispatchEvent(H(this.socket,new MessageEvent("message",{data:e,origin:this.socket.url})))};this.socket.readyState===this.socket.CONNECTING?this.socket.addEventListener("open",()=>{t()},{once:!0}):t()})}close(e,t){this.socket[V](e,t)}},re=class extends D{constructor(){super(re.symbol)}checkEnvironment(){return function(e){const t=Object.getOwnPropertyDescriptor(globalThis,e);return!(void 0===t||"function"==typeof t.get&&void 0===t.get()||void 0===t.get&&null==t.value||void 0===t.set&&!t.configurable)}("WebSocket")}setup(){const e=Object.getOwnPropertyDescriptor(globalThis,"WebSocket"),t=new Proxy(globalThis.WebSocket,{construct:(e,t,s)=>{const[r,n]=t,o=()=>Reflect.construct(e,t,s),i=new Y(r,n),a=new se(i);return queueMicrotask(()=>{try{const e=new te(i,a,o);this.emitter.emit("connection",{client:new z(i,a),server:e,info:{protocols:n}})?i[K].resolve(!1):(i[K].resolve(!0),e.connect(),e.addEventListener("open",()=>{i.dispatchEvent(H(i,new Event("open"))),e.realWebSocket&&(i.protocol=e.realWebSocket.protocol)}))}catch(e){e instanceof Error&&(i.dispatchEvent(new Event("error")),i.readyState!==WebSocket.CLOSING&&i.readyState!==WebSocket.CLOSED&&i[V](1011,e.message,!1))}}),i}});Object.defineProperty(globalThis,"WebSocket",{value:t,configurable:!0}),this.subscriptions.push(()=>{Object.defineProperty(globalThis,"WebSocket",e)})}},ne=re;ne.symbol=Symbol("websocket");const oe=new ne;function ie(e){return e instanceof Blob?e.size:e instanceof ArrayBuffer?e.byteLength:new Blob([e]).size}function ae(e){return e.length<=24?e:`${e.slice(0,24)}…`}async function ce(e){if(e instanceof Blob){return`Blob(${ae(await e.text())})`}if("object"==typeof e&&"byteLength"in e){return`ArrayBuffer(${ae((new TextDecoder).decode(e))})`}return ae(e)}function le(e){const{client:t,server:s}=e;!function(e){y(e.url)}(t),t.addEventListener("message",e=>{!async function(e){ie(e.data),await ce(e.data),e.defaultPrevented}(e)}),t.addEventListener("close",e=>{!function(e){const t=e.target;y(t.url)}(e)}),t.socket.addEventListener("error",e=>{!function(e){const t=e.target;y(t.url)}(e)}),t.send=new Proxy(t.send,{apply(e,s,r){const[n]=r,o=new MessageEvent("message",{data:n});return Object.defineProperties(o,{currentTarget:{enumerable:!0,writable:!1,value:t.socket},target:{enumerable:!0,writable:!1,value:t.socket}}),queueMicrotask(()=>{!async function(e){ie(e.data),await ce(e.data)}(o)}),Reflect.apply(e,s,r)}}),s.addEventListener("open",()=>{s.addEventListener("message",e=>{!async function(e){ie(e.data),await ce(e.data),e.defaultPrevented}(e)})},{once:!0}),s.send=new Proxy(s.send,{apply(e,t,r){const[n]=r,o=new MessageEvent("message",{data:n});return Object.defineProperties(o,{currentTarget:{enumerable:!0,writable:!1,value:s.socket},target:{enumerable:!0,writable:!1,value:s.socket}}),async function(e){ie(e.data),await ce(e.data)}(o),Reflect.apply(e,t,r)}})}var ue={},he=/(%?)(%([sdijo]))/g;function de(e,...t){if(0===t.length)return e;let s=0,r=e.replace(he,(e,r,n,o)=>{const i=function(e,t){switch(t){case"s":return e;case"d":case"i":return Number(e);case"j":return JSON.stringify(e);case"o":{if("string"==typeof e)return e;const t=JSON.stringify(e);return"{}"===t||"[]"===t||/^\[object .+?\]$/.test(t)?e:t}}}(t[s],o);return r?e:(s++,i)});return s<t.length&&(r+=` ${t.slice(s).join(" ")}`),r=r.replace(/%{2,2}/g,"%"),r}var pe=class extends Error{constructor(e,...t){super(e),this.message=e,this.name="Invariant Violation",this.message=de(e,...t),function(e){if(!e.stack)return;const t=e.stack.split("\n");t.splice(1,2),e.stack=t.join("\n")}(this)}},fe=(e,t,...s)=>{if(!e)throw new pe(t,...s)};function ge(){if("undefined"!=typeof navigator&&"ReactNative"===navigator.product)return!0;if("undefined"!=typeof process){const e=process.type;return"renderer"!==e&&"worker"!==e&&!(!process.versions||!process.versions.node)}return!1}fe.as=(e,t,s,...r)=>{if(!t){const t=0===r.length?s:de(s,...r);let o;try{o=Reflect.construct(e,[t])}catch(n){o=e(t)}throw o}};var me=async e=>{try{return{error:null,data:await e().catch(e=>{throw e})}}catch(t){return{error:t,data:null}}};function ye(e,t,s){return[e.active,e.installing,e.waiting].filter(e=>null!=e).find(e=>s(e.scriptURL,t))||null}var ve=async(e,t={},s)=>{const r=new URL(e,location.href).href;const n=await navigator.serviceWorker.getRegistrations().then(e=>e.filter(e=>ye(e,r,s)));!navigator.serviceWorker.controller&&n.length>0&&location.reload();const[o]=n;if(o)return o.update(),[ye(o,r,s),o];const i=await me(async()=>{const n=await navigator.serviceWorker.register(e,t);return[ye(n,r,s),n]});if(i.error){if(i.error.message.includes("(404)")){const e=new URL(t?.scope||"/",location.href);throw new Error(d.formatMessage(`Failed to register a Service Worker for scope ('${e.href}') with script ('${r}'): Service Worker script does not exist at the given path.\n\nDid you forget to run "npx msw init <PUBLIC_DIR>"?\n\nLearn more about creating the Service Worker script: https://mswjs.io/docs/cli/init`))}throw new Error(d.formatMessage("Failed to register the Service Worker:\n\n%s",i.error.message))}return i.data};function be(e={}){if(e.quiet)return;e.message;e.workerUrl,e.workerScope,e.client}var we=class{constructor(e){this.port=e}postMessage(e,...t){const[s,r]=t;this.port.postMessage({type:e,data:s},{transfer:r})}};function Ee(e){if(!["HEAD","GET"].includes(e.method))return e.body}function ke(e){return new Request(e.url,{...e,body:Ee(e)})}var qe=(e,t)=>async(s,r)=>{const n=new we(s.ports[0]),o=r.payload.id,i=ke(r.payload),a=i.clone(),c=i.clone();m.cache.set(i,c);try{await x(i,o,e.getRequestHandlers().filter(I("RequestHandler")),t,e.emitter,{onPassthroughResponse(){n.postMessage("PASSTHROUGH")},async onMockedResponse(s,{handler:r,parsedResult:o}){const i=s.clone(),c=s.clone(),l=function(e){return{status:e.status,statusText:e.statusText,headers:Object.fromEntries(e.headers.entries())}}(s);if(e.supports.readableStreamTransfer){const e=s.body;n.postMessage("MOCK_RESPONSE",{...l,body:e},e?[e]:void 0)}else{const e=null===s.body?null:await i.arrayBuffer();n.postMessage("MOCK_RESPONSE",{...l,body:e})}t.quiet||e.emitter.once("response:mocked",()=>{r.log({request:a,response:c,parsedResult:o})})}})}catch(l){l instanceof Error&&(d.error('Uncaught exception in the request handler for "%s %s":\n\n%s\n\nThis exception has been gracefully handled as a 500 response, however, it\'s strongly recommended to resolve this error, as it indicates a mistake in your code. If you wish to mock an error response, please see this guide: https://mswjs.io/docs/http/mocking-responses/error-responses',i.method,i.url,l.stack??l),n.postMessage("MOCK_RESPONSE",{status:500,statusText:"Request Handler Error",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l.name,message:l.message,stack:l.stack})}))}};var Se=new TextEncoder;var Re=Symbol("isPatchedModule");function Le(e){try{return new URL(e),!0}catch(t){return!1}}function Te(e,t){const s=Object.getOwnPropertySymbols(t).find(t=>t.description===e);if(s)return Reflect.get(t,s)}var Ce=class extends Response{static isConfigurableStatusCode(e){return e>=200&&e<=599}static isRedirectResponse(e){return Ce.STATUS_CODES_WITH_REDIRECT.includes(e)}static isResponseWithBody(e){return!Ce.STATUS_CODES_WITHOUT_BODY.includes(e)}static setUrl(e,t){if(!e||"about:"===e||!Le(e))return;const s=Te("state",t);s?s.urlList.push(new URL(e)):Object.defineProperty(t,"url",{value:e,enumerable:!0,configurable:!0,writable:!1})}static parseRawHeaders(e){const t=new Headers;for(let s=0;s<e.length;s+=2)t.append(e[s],e[s+1]);return t}constructor(e,t={}){var s;const r=null!=(s=t.status)?s:200,n=Ce.isConfigurableStatusCode(r)?r:200;if(super(Ce.isResponseWithBody(r)?e:null,{status:n,statusText:t.statusText,headers:t.headers}),r!==n){const e=Te("state",this);e?e.status=r:Object.defineProperty(this,"status",{value:r,enumerable:!0,configurable:!0,writable:!1})}Ce.setUrl(t.url,this)}},xe=Ce;xe.STATUS_CODES_WITHOUT_BODY=[101,103,204,205,304],xe.STATUS_CODES_WITH_REDIRECT=[301,302,303,307,308];var Ie=Symbol("kRawRequest");function Oe(e,t){Reflect.set(e,Ie,t)}var Pe=Object.defineProperty,Me={};function Ae(e){return`[33m${e}[0m`}function We(e){return`[34m${e}[0m`}function je(e){return`[90m${e}[0m`}function De(e){return`[31m${e}[0m`}function He(e){return`[32m${e}[0m`}((e,t)=>{for(var s in t)Pe(e,s,{get:t[s],enumerable:!0})})(Me,{blue:()=>We,gray:()=>je,green:()=>He,red:()=>De,yellow:()=>Ae});var Ue=ge(),_e=class{constructor(e){this.name=e,this.prefix=`[${this.name}]`;const t=ze("DEBUG"),s=ze("LOG_LEVEL");"1"===t||"true"===t||void 0!==t&&this.name.startsWith(t)?(this.debug=Xe(s,"debug")?$e:this.debug,this.info=Xe(s,"info")?$e:this.info,this.success=Xe(s,"success")?$e:this.success,this.warning=Xe(s,"warning")?$e:this.warning,this.error=Xe(s,"error")?$e:this.error):(this.info=$e,this.success=$e,this.warning=$e,this.error=$e,this.only=$e)}prefix;extend(e){return new _e(`${this.name}:${e}`)}debug(e,...t){this.logEntry({level:"debug",message:je(e),positionals:t,prefix:this.prefix,colors:{prefix:"gray"}})}info(e,...t){this.logEntry({level:"info",message:e,positionals:t,prefix:this.prefix,colors:{prefix:"blue"}});const s=new Ne;return(e,...t)=>{s.measure(),this.logEntry({level:"info",message:`${e} ${je(`${s.deltaTime}ms`)}`,positionals:t,prefix:this.prefix,colors:{prefix:"blue"}})}}success(e,...t){this.logEntry({level:"info",message:e,positionals:t,prefix:`✔ ${this.prefix}`,colors:{timestamp:"green",prefix:"green"}})}warning(e,...t){this.logEntry({level:"warning",message:e,positionals:t,prefix:`⚠ ${this.prefix}`,colors:{timestamp:"yellow",prefix:"yellow"}})}error(e,...t){this.logEntry({level:"error",message:e,positionals:t,prefix:`✖ ${this.prefix}`,colors:{timestamp:"red",prefix:"red"}})}only(e){e()}createEntry(e,t){return{timestamp:new Date,level:e,message:t}}logEntry(e){const{level:t,message:s,prefix:r,colors:n,positionals:o=[]}=e,i=this.createEntry(t,s),a={timestamp:Me[n?.timestamp||"gray"],prefix:Me[n?.prefix||"gray"]};this.getWriter(t)([a.timestamp(this.formatTimestamp(i.timestamp))].concat(null!=r?a.prefix(r):[]).concat(Ke(s)).join(" "),...o.map(Ke))}formatTimestamp(e){return`${e.toLocaleTimeString("en-GB")}:${e.getMilliseconds()}`}getWriter(e){switch(e){case"debug":case"success":case"info":return Be;case"warning":return Ge;case"error":return Fe}}},Ne=class{startTime;endTime;deltaTime;constructor(){this.startTime=performance.now()}measure(){this.endTime=performance.now();const e=this.endTime-this.startTime;this.deltaTime=e.toFixed(2)}},$e=()=>{};function Be(e,...t){Ue&&process.stdout.write(de(e,...t)+"\n")}function Ge(e,...t){Ue&&process.stderr.write(de(e,...t)+"\n")}function Fe(e,...t){Ue&&process.stderr.write(de(e,...t)+"\n")}function ze(e){return Ue?ue[e]:globalThis[e]?.toString()}function Xe(e,t){return void 0!==e&&e!==t}function Ke(e){return void 0===e?"undefined":null===e?"null":"string"==typeof e?e:"object"==typeof e?JSON.stringify(e):e.toString()}var Je=class extends Error{constructor(e,t,s){super(`Possible EventEmitter memory leak detected. ${s} ${t.toString()} listeners added. Use emitter.setMaxListeners() to increase limit`),this.emitter=e,this.type=t,this.count=s,this.name="MaxListenersExceededWarning"}},Ve=class{static listenerCount(e,t){return e.listenerCount(t)}constructor(){this.events=new Map,this.maxListeners=Ve.defaultMaxListeners,this.hasWarnedAboutPotentialMemoryLeak=!1}_emitInternalEvent(e,t,s){this.emit(e,t,s)}_getListeners(e){return Array.prototype.concat.apply([],this.events.get(e))||[]}_removeListener(e,t){const s=e.indexOf(t);return s>-1&&e.splice(s,1),[]}_wrapOnceListener(e,t){const s=(...r)=>(this.removeListener(e,s),t.apply(this,r));return Object.defineProperty(s,"name",{value:t.name}),s}setMaxListeners(e){return this.maxListeners=e,this}getMaxListeners(){return this.maxListeners}eventNames(){return Array.from(this.events.keys())}emit(e,...t){const s=this._getListeners(e);return s.forEach(e=>{e.apply(this,t)}),s.length>0}addListener(e,t){this._emitInternalEvent("newListener",e,t);const s=this._getListeners(e).concat(t);if(this.events.set(e,s),this.maxListeners>0&&this.listenerCount(e)>this.maxListeners&&!this.hasWarnedAboutPotentialMemoryLeak){this.hasWarnedAboutPotentialMemoryLeak=!0;new Je(this,e,this.listenerCount(e))}return this}on(e,t){return this.addListener(e,t)}once(e,t){return this.addListener(e,this._wrapOnceListener(e,t))}prependListener(e,t){const s=this._getListeners(e);if(s.length>0){const r=[t].concat(s);this.events.set(e,r)}else this.events.set(e,s.concat(t));return this}prependOnceListener(e,t){return this.prependListener(e,this._wrapOnceListener(e,t))}removeListener(e,t){const s=this._getListeners(e);return s.length>0&&(this._removeListener(s,t),this.events.set(e,s),this._emitInternalEvent("removeListener",e,t)),this}off(e,t){return this.removeListener(e,t)}removeAllListeners(e){return e?this.events.delete(e):this.events.clear(),this}listeners(e){return Array.from(this._getListeners(e))}listenerCount(e){return this._getListeners(e).length}rawListeners(e){return this.listeners(e)}},Ye=Ve;Ye.defaultMaxListeners=10;function Qe(e){return globalThis[e]||void 0}var Ze=class{constructor(e){this.symbol=e,this.readyState="INACTIVE",this.emitter=new Ye,this.subscriptions=[],this.logger=new _e(e.description),this.emitter.setMaxListeners(0),this.logger.info("constructing the interceptor...")}checkEnvironment(){return!0}apply(){const e=this.logger.extend("apply");if(e.info("applying the interceptor..."),"APPLIED"===this.readyState)return void e.info("intercepted already applied!");if(!this.checkEnvironment())return void e.info("the interceptor cannot be applied in this environment!");this.readyState="APPLYING";const t=this.getInstance();if(t)return e.info("found a running instance, reusing..."),this.on=(s,r)=>(e.info('proxying the "%s" listener',s),t.emitter.addListener(s,r),this.subscriptions.push(()=>{t.emitter.removeListener(s,r),e.info('removed proxied "%s" listener!',s)}),this),void(this.readyState="APPLIED");e.info("no running instance found, setting up a new instance..."),this.setup(),this.setInstance(),this.readyState="APPLIED"}setup(){}on(e,t){const s=this.logger.extend("on");return"DISPOSING"===this.readyState||"DISPOSED"===this.readyState?(s.info("cannot listen to events, already disposed!"),this):(s.info('adding "%s" event listener:',e,t),this.emitter.on(e,t),this)}once(e,t){return this.emitter.once(e,t),this}off(e,t){return this.emitter.off(e,t),this}removeAllListeners(e){return this.emitter.removeAllListeners(e),this}dispose(){const e=this.logger.extend("dispose");if("DISPOSED"!==this.readyState)if(e.info("disposing the interceptor..."),this.readyState="DISPOSING",this.getInstance()){if(this.clearInstance(),e.info("global symbol deleted:",Qe(this.symbol)),this.subscriptions.length>0){e.info("disposing of %d subscriptions...",this.subscriptions.length);for(const e of this.subscriptions)e();this.subscriptions=[],e.info("disposed of all subscriptions!",this.subscriptions.length)}this.emitter.removeAllListeners(),e.info("destroyed the listener!"),this.readyState="DISPOSED"}else e.info("no interceptors running, skipping dispose...");else e.info("cannot dispose, already disposed!")}getInstance(){var e;const t=Qe(this.symbol);return this.logger.info("retrieved global instance:",null==(e=null==t?void 0:t.constructor)?void 0:e.name),t}setInstance(){var e,t;e=this.symbol,t=this,globalThis[e]=t,this.logger.info("set global instance!",this.symbol.description)}clearInstance(){var e;e=this.symbol,delete globalThis[e],this.logger.info("cleared global instance!",this.symbol.description)}};function et(){return Math.random().toString(16).slice(2)}var tt=class extends Ze{constructor(e){tt.symbol=Symbol(e.name),super(tt.symbol),this.interceptors=e.interceptors}setup(){const e=this.logger.extend("setup");e.info("applying all %d interceptors...",this.interceptors.length);for(const t of this.interceptors)e.info('applying "%s" interceptor...',t.constructor.name),t.apply(),e.info("adding interceptor dispose subscription"),this.subscriptions.push(()=>t.dispose())}on(e,t){for(const s of this.interceptors)s.on(e,t);return this}once(e,t){for(const s of this.interceptors)s.once(e,t);return this}off(e,t){for(const s of this.interceptors)s.off(e,t);return this}removeAllListeners(e){for(const t of this.interceptors)t.removeAllListeners(e);return this}};var st=e=>function(t,s){const r=(async()=>{e.events.removeAllListeners(),e.workerChannel.on("REQUEST",qe(e,t)),e.workerChannel.on("RESPONSE",function(e){return(t,s)=>{const{payload:r}=s,n=ke(r.request);if(r.response.type?.includes("opaque"))return;const o=0===r.response.status?Response.error():new xe(xe.isResponseWithBody(r.response.status)?r.response.body:null,{...r,url:n.url});e.emitter.emit(r.isMockedResponse?"response:mocked":"response:bypass",{requestId:r.request.id,request:n,response:o})}}(e));const r=await ve(t.serviceWorker.url,t.serviceWorker.options,t.findWorker),[n,o]=r;if(!n){const e=s?.findWorker?d.formatMessage('Failed to locate the Service Worker registration using a custom "findWorker" predicate.\n\nPlease ensure that the custom predicate properly locates the Service Worker registration at "%s".\nMore details: https://mswjs.io/docs/api/setup-worker/start#findworker\n',t.serviceWorker.url):d.formatMessage('Failed to locate the Service Worker registration.\n\nThis most likely means that the worker script URL "%s" cannot resolve against the actual public hostname (%s). This may happen if your application runs behind a proxy, or has a dynamic hostname.\n\nPlease consider using a custom "serviceWorker.url" option to point to the actual worker script location, or a custom "findWorker" option to resolve the Service Worker registration manually. More details: https://mswjs.io/docs/api/setup-worker/start',t.serviceWorker.url,location.host);throw new Error(e)}return e.worker=n,e.registration=o,e.events.addListener(window,"beforeunload",()=>{"redundant"!==n.state&&e.workerChannel.send("CLIENT_CLOSED"),window.clearInterval(e.keepAliveInterval),window.postMessage({type:"msw/worker:stop"})}),await async function(e){e.workerChannel.send("INTEGRITY_CHECK_REQUEST");const{payload:t}=await e.events.once("INTEGRITY_CHECK_RESPONSE");"f5825c521429caf22a4dd13b66e243af"!==t.checksum&&d.warn(`The currently registered Service Worker has been generated by a different version of MSW (${t.packageVersion}) and may not be fully compatible with the installed version.\n\nIt's recommended you update your worker script by running this command:\n\n  • npx msw init <PUBLIC_DIR>\n\nYou can also automate this process and make the worker script update automatically upon the library installations. Read more: https://mswjs.io/docs/cli/init.`)}(e).catch(e=>{d.error("Error while checking the worker script integrity. Please report this on GitHub (https://github.com/mswjs/msw/issues), including the original error below.")}),e.keepAliveInterval=window.setInterval(()=>e.workerChannel.send("KEEPALIVE_REQUEST"),5e3),function(e,t){t?.quiet||location.href.startsWith(e.scope)||d.warn(`Cannot intercept requests on this page because it's outside of the worker's scope ("${e.scope}"). If you wish to mock API requests on this page, you must resolve this scope issue.\n\n- (Recommended) Register the worker at the root level ("/") of your application.\n- Set the "Service-Worker-Allowed" response header to allow out-of-scope workers.`)}(o,e.startOptions),o})().then(async s=>{const r=s.installing||s.waiting;return r&&await new Promise(e=>{r.addEventListener("statechange",()=>{if("activated"===r.state)return e()})}),await async function(e,t){e.workerChannel.send("MOCK_ACTIVATE");const{payload:s}=await e.events.once("MOCKING_ENABLED");e.isMockingEnabled?d.warn('Found a redundant "worker.start()" call. Note that starting the worker while mocking is already enabled will have no effect. Consider removing this "worker.start()" call.'):(e.isMockingEnabled=!0,be({quiet:t.quiet,workerScope:e.registration?.scope,workerUrl:e.worker?.scriptURL,client:s.client}))}(e,t).catch(e=>{throw new Error(`Failed to enable mocking: ${e?.message}`)}),s});return r};function rt(e={}){e.quiet}var nt={serviceWorker:{url:"/mockServiceWorker.js",options:null},quiet:!1,waitUntilReady:!0,onUnhandledRequest:"warn",findWorker:(e,t)=>e===t};var ot=class extends Promise{#e;resolve;reject;constructor(e=null){const t=function(){const e=(t,s)=>{e.state="pending",e.resolve=s=>{if("pending"===e.state)return e.result=s,t(s instanceof Promise?s:Promise.resolve(s).then(t=>(e.state="fulfilled",t)))},e.reject=t=>{if("pending"===e.state)return queueMicrotask(()=>{e.state="rejected"}),s(e.rejectionReason=t)}};return e}();super((s,r)=>{t(s,r),e?.(t.resolve,t.reject)}),this.#e=t,this.resolve=this.#e.resolve,this.reject=this.#e.reject}get state(){return this.#e.state}get rejectionReason(){return this.#e.rejectionReason}then(e,t){return this.#t(super.then(e,t))}catch(e){return this.#t(super.catch(e))}finally(e){return this.#t(super.finally(e))}#t(e){return Object.defineProperties(e,{resolve:{configurable:!0,value:this.resolve},reject:{configurable:!0,value:this.reject}})}},it=class extends Error{constructor(e){super(e),this.name="InterceptorError",Object.setPrototypeOf(this,it.prototype)}},at=Symbol("kRequestHandled"),ct=Symbol("kResponsePromise"),lt=class{constructor(e){this.request=e,this[at]=!1,this[ct]=new ot}respondWith(e){fe.as(it,!this[at],'Failed to respond to the "%s %s" request: the "request" event has already been handled.',this.request.method,this.request.url),this[at]=!0,this[ct].resolve(e)}errorWith(e){fe.as(it,!this[at],'Failed to error the "%s %s" request: the "request" event has already been handled.',this.request.method,this.request.url),this[at]=!0,this[ct].resolve(e)}};async function ut(e,t,...s){const r=e.listeners(t);if(0!==r.length)for(const n of r)await n.apply(e,s)}function ht(e,t=!1){return t?Object.prototype.toString.call(e).startsWith("[object "):"[object Object]"===Object.prototype.toString.call(e)}function dt(e,t){try{return e[t],!0}catch(s){return!1}}async function pt(e){const t=async t=>{return t instanceof Error?(e.onError(t),!0):function(e){return null!=e&&e instanceof Response&&dt(e,"type")&&"error"===e.type}(t)?(e.onRequestError(t),!0):ht(s=t,!0)&&dt(s,"status")&&dt(s,"statusText")&&dt(s,"bodyUsed")?(await e.onResponse(t),!0):!!ht(t)&&(e.onError(t),!0);var s},s=async s=>{if(s instanceof it)throw n.error;return function(e){return null!=e&&e instanceof Error&&"code"in e&&"errno"in e}(s)?(e.onError(s),!0):s instanceof Response&&await t(s)};e.emitter.once("request",({requestId:t})=>{t===e.requestId&&"pending"===e.controller[ct].state&&e.controller[ct].resolve(void 0)});const r=new ot;e.request.signal&&(e.request.signal.aborted?r.reject(e.request.signal.reason):e.request.signal.addEventListener("abort",()=>{r.reject(e.request.signal.reason)},{once:!0}));const n=await me(async()=>{const t=ut(e.emitter,"request",{requestId:e.requestId,request:e.request,controller:e.controller});return await Promise.race([r,t,e.controller[ct]]),await e.controller[ct]});if("rejected"===r.state)return e.onError(r.rejectionReason),!0;if(n.error){if(await s(n.error))return!0;if(e.emitter.listenerCount("unhandledException")>0){const r=new lt(e.request);await ut(e.emitter,"unhandledException",{error:n.error,request:e.request,requestId:e.requestId,controller:r}).then(()=>{"pending"===r[ct].state&&r[ct].resolve(void 0)});const o=await me(()=>r[ct]);if(o.error)return s(o.error);if(o.data)return t(o.data)}return e.onResponse((o=n.error,new Response(JSON.stringify(o instanceof Error?{name:o.name,message:o.message,stack:o.stack}:o),{status:500,statusText:"Unhandled Exception",headers:{"Content-Type":"application/json"}}))),!0}var o;return!!n.data&&t(n.data)}function ft(e){const t=Object.getOwnPropertyDescriptor(globalThis,e);return void 0!==t&&(("function"!=typeof t.get||void 0!==t.get())&&((void 0!==t.get||null!=t.value)&&!(void 0===t.set&&!t.configurable)))}function gt(e){return Object.assign(new TypeError("Failed to fetch"),{cause:e})}var mt=["content-encoding","content-language","content-location","content-type","content-length"],yt=Symbol("kRedirectCount");function vt(e,t){return e.origin===t.origin&&"null"===e.origin||e.protocol===t.protocol&&e.hostname===t.hostname&&e.port===t.port}var bt=class extends TransformStream{constructor(){super({transform(e,t){t.enqueue(e)}})}},wt=class extends TransformStream{constructor(e,...t){super({},...t);const s=[super.readable,...e].reduce((e,t)=>e.pipeThrough(t));Object.defineProperty(this,"readable",{get:()=>s})}};function Et(e){if(null===e.body)return null;const t=function(e){if(""===e)return null;const t=function(e){return e.toLowerCase().split(",").map(e=>e.trim())}(e);if(0===t.length)return null;const s=t.reduceRight((e,t)=>"gzip"===t||"x-gzip"===t?e.concat(new DecompressionStream("gzip")):"deflate"===t?e.concat(new DecompressionStream("deflate")):"br"===t?e.concat(new bt):(e.length=0,e),[]);return new wt(s)}(e.headers.get("content-encoding")||"");return t?(e.body.pipeTo(t.writable),t.readable):null}var kt=class extends Ze{constructor(){super(kt.symbol)}checkEnvironment(){return ft("fetch")}async setup(){const e=globalThis.fetch;fe(!e[Re],'Failed to patch the "fetch" module: already patched.'),globalThis.fetch=async(t,s)=>{const r=et(),n="string"!=typeof t||"undefined"==typeof location||Le(t)?t:new URL(t,location.href),o=new Request(n,s);t instanceof Request&&Oe(o,t);const i=new ot,a=new lt(o);this.logger.info("[%s] %s",o.method,o.url),this.logger.info("awaiting for the mocked response..."),this.logger.info('emitting the "request" event for %s listener(s)...',this.emitter.listenerCount("request"));const c=await pt({request:o,requestId:r,emitter:this.emitter,controller:a,onResponse:async e=>{this.logger.info("received mocked response!",{rawResponse:e});const t=Et(e),s=null===t?e:new xe(t,e);if(xe.setUrl(o.url,s),xe.isRedirectResponse(s.status)){if("error"===o.redirect)return void i.reject(gt("unexpected redirect"));if("follow"===o.redirect)return void async function(e,t){if(303!==t.status&&null!=e.body)return Promise.reject(gt());const s=new URL(e.url);let r;try{r=new URL(t.headers.get("location"),e.url)}catch(o){return Promise.reject(gt(o))}if("http:"!==r.protocol&&"https:"!==r.protocol)return Promise.reject(gt("URL scheme must be a HTTP(S) scheme"));if(Reflect.get(e,yt)>20)return Promise.reject(gt("redirect count exceeded"));if(Object.defineProperty(e,yt,{value:(Reflect.get(e,yt)||0)+1}),"cors"===e.mode&&(r.username||r.password)&&!vt(s,r))return Promise.reject(gt('cross origin not allowed for request mode "cors"'));const n={};return([301,302].includes(t.status)&&"POST"===e.method||303===t.status&&!["HEAD","GET"].includes(e.method))&&(n.method="GET",n.body=null,mt.forEach(t=>{e.headers.delete(t)})),vt(s,r)||(e.headers.delete("authorization"),e.headers.delete("proxy-authorization"),e.headers.delete("cookie"),e.headers.delete("host")),n.headers=e.headers,fetch(new Request(r,n))}(o,s).then(e=>{i.resolve(e)},e=>{i.reject(e)})}this.emitter.listenerCount("response")>0&&(this.logger.info('emitting the "response" event...'),await ut(this.emitter,"response",{response:s.clone(),isMockedResponse:!0,request:o,requestId:r})),i.resolve(s)},onRequestError:e=>{this.logger.info("request has errored!",{response:e}),i.reject(gt(e))},onError:e=>{this.logger.info("request has been aborted!",{error:e}),i.reject(e)}});if(c)return this.logger.info("request has been handled, returning mock promise..."),i;this.logger.info("no mocked response received, performing request as-is...");const l=o.clone();return e(o).then(async e=>{if(this.logger.info("original fetch performed",e),this.emitter.listenerCount("response")>0){this.logger.info('emitting the "response" event...');const t=e.clone();await ut(this.emitter,"response",{response:t,isMockedResponse:!1,request:l,requestId:r})}return e})},Object.defineProperty(globalThis.fetch,Re,{enumerable:!0,configurable:!0,value:!0}),this.subscriptions.push(()=>{Object.defineProperty(globalThis.fetch,Re,{value:void 0}),globalThis.fetch=e,this.logger.info('restored native "globalThis.fetch"!',globalThis.fetch.name)})}},qt=kt;qt.symbol=Symbol("fetch");var St=class{constructor(e,t){this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.type="",this.srcElement=null,this.currentTarget=null,this.eventPhase=0,this.isTrusted=!0,this.composed=!1,this.cancelable=!0,this.defaultPrevented=!1,this.bubbles=!0,this.lengthComputable=!0,this.loaded=0,this.total=0,this.cancelBubble=!1,this.returnValue=!0,this.type=e,this.target=(null==t?void 0:t.target)||null,this.currentTarget=(null==t?void 0:t.currentTarget)||null,this.timeStamp=Date.now()}composedPath(){return[]}initEvent(e,t,s){this.type=e,this.bubbles=!!t,this.cancelable=!!s}preventDefault(){this.defaultPrevented=!0}stopPropagation(){}stopImmediatePropagation(){}},Rt=class extends St{constructor(e,t){super(e),this.lengthComputable=(null==t?void 0:t.lengthComputable)||!1,this.composed=(null==t?void 0:t.composed)||!1,this.loaded=(null==t?void 0:t.loaded)||0,this.total=(null==t?void 0:t.total)||0}},Lt="undefined"!=typeof ProgressEvent;function Tt(e,t){if(!(t in e))return null;if(Object.prototype.hasOwnProperty.call(e,t))return e;const s=Reflect.getPrototypeOf(e);return s?Tt(s,t):null}function Ct(e,t){const s=new Proxy(e,function(e){const{constructorCall:t,methodCall:s,getProperty:r,setProperty:n}=e,o={};void 0!==t&&(o.construct=function(e,s,r){const n=Reflect.construct.bind(null,e,s,r);return t.call(r,s,n)});return o.set=function(e,t,s){const r=()=>{const r=Tt(e,t)||e,n=Reflect.getOwnPropertyDescriptor(r,t);return void 0!==(null==n?void 0:n.set)?(n.set.apply(e,[s]),!0):Reflect.defineProperty(r,t,{writable:!0,enumerable:!0,configurable:!0,value:s})};return void 0!==n?n.call(e,[t,s],r):r()},o.get=function(e,t,n){const o=()=>e[t],i=void 0!==r?r.call(e,[t,n],o):o();return"function"==typeof i?(...r)=>{const n=i.bind(e,...r);return void 0!==s?s.call(e,[t,r],n):n()}:i},o}(t));return s}function xt(e){const t=new Headers,s=e.split(/[\r\n]+/);for(const r of s){if(""===r.trim())continue;const[e,...s]=r.split(": "),n=s.join(": ");t.append(e,n)}return t}async function It(e){const t=e.headers.get("content-length");if(null!=t&&""!==t)return Number(t);return(await e.arrayBuffer()).byteLength}var Ot=Symbol("kIsRequestHandled"),Pt=ge(),Mt=Symbol("kFetchRequest"),At=class{constructor(e,t){this.initialRequest=e,this.logger=t,this.method="GET",this.url=null,this[Ot]=!1,this.events=new Map,this.uploadEvents=new Map,this.requestId=et(),this.requestHeaders=new Headers,this.responseBuffer=new Uint8Array,this.request=Ct(e,{setProperty:([e,t],s)=>{if("ontimeout"===e){const r=e.slice(2);return this.request.addEventListener(r,t),s()}return s()},methodCall:([e,t],s)=>{var r,n;switch(e){case"open":{const[e,r]=t;return void 0===r?(this.method="GET",this.url=Wt(e)):(this.method=e,this.url=Wt(r)),this.logger=this.logger.extend(`${this.method} ${this.url.href}`),this.logger.info("open",this.method,this.url.href),s()}case"addEventListener":{const[e,r]=t;return this.registerEvent(e,r),this.logger.info("addEventListener",e,r),s()}case"setRequestHeader":{const[e,r]=t;return this.requestHeaders.set(e,r),this.logger.info("setRequestHeader",e,r),s()}case"send":{const[e]=t;this.request.addEventListener("load",()=>{if(void 0!==this.onResponse){const e=function(e,t){const s=xe.isResponseWithBody(e.status)?t:null;return new xe(s,{url:e.responseURL,status:e.status,statusText:e.statusText,headers:xt(e.getAllResponseHeaders())})}(this.request,this.request.response);this.onResponse.call(this,{response:e,isMockedResponse:this[Ot],request:i,requestId:this.requestId})}});const o="string"==typeof e?(n=e,Se.encode(n)):e,i=this.toFetchApiRequest(o);this[Mt]=i.clone();((null==(r=this.onRequest)?void 0:r.call(this,{request:i,requestId:this.requestId}))||Promise.resolve()).finally(()=>{if(!this[Ot])return this.logger.info("request callback settled but request has not been handled (readystate %d), performing as-is...",this.request.readyState),Pt&&this.request.setRequestHeader("x-interceptors-internal-request-id",this.requestId),s()});break}default:return s()}}}),jt(this.request,"upload",Ct(this.request.upload,{setProperty:([e,t],s)=>{switch(e){case"onloadstart":case"onprogress":case"onaboart":case"onerror":case"onload":case"ontimeout":case"onloadend":{const s=e.slice(2);this.registerUploadEvent(s,t)}}return s()},methodCall:([e,t],s)=>{if("addEventListener"===e){const[e,r]=t;return this.registerUploadEvent(e,r),this.logger.info("upload.addEventListener",e,r),s()}}}))}registerEvent(e,t){const s=(this.events.get(e)||[]).concat(t);this.events.set(e,s),this.logger.info('registered event "%s"',e,t)}registerUploadEvent(e,t){const s=(this.uploadEvents.get(e)||[]).concat(t);this.uploadEvents.set(e,s),this.logger.info('registered upload event "%s"',e,t)}async respondWith(e){if(this[Ot]=!0,this[Mt]){const e=await It(this[Mt]);this.trigger("loadstart",this.request.upload,{loaded:0,total:e}),this.trigger("progress",this.request.upload,{loaded:e,total:e}),this.trigger("load",this.request.upload,{loaded:e,total:e}),this.trigger("loadend",this.request.upload,{loaded:e,total:e})}this.logger.info("responding with a mocked response: %d %s",e.status,e.statusText),jt(this.request,"status",e.status),jt(this.request,"statusText",e.statusText),jt(this.request,"responseURL",this.url.href),this.request.getResponseHeader=new Proxy(this.request.getResponseHeader,{apply:(t,s,r)=>{if(this.logger.info("getResponseHeader",r[0]),this.request.readyState<this.request.HEADERS_RECEIVED)return this.logger.info("headers not received yet, returning null"),null;const n=e.headers.get(r[0]);return this.logger.info('resolved response header "%s" to',r[0],n),n}}),this.request.getAllResponseHeaders=new Proxy(this.request.getAllResponseHeaders,{apply:()=>{if(this.logger.info("getAllResponseHeaders"),this.request.readyState<this.request.HEADERS_RECEIVED)return this.logger.info("headers not received yet, returning empty string"),"";const t=Array.from(e.headers.entries()).map(([e,t])=>`${e}: ${t}`).join("\r\n");return this.logger.info("resolved all response headers to",t),t}}),Object.defineProperties(this.request,{response:{enumerable:!0,configurable:!1,get:()=>this.response},responseText:{enumerable:!0,configurable:!1,get:()=>this.responseText},responseXML:{enumerable:!0,configurable:!1,get:()=>this.responseXML}});const t=await It(e.clone());this.logger.info("calculated response body length",t),this.trigger("loadstart",this.request,{loaded:0,total:t}),this.setReadyState(this.request.HEADERS_RECEIVED),this.setReadyState(this.request.LOADING);const s=()=>{this.logger.info("finalizing the mocked response..."),this.setReadyState(this.request.DONE),this.trigger("load",this.request,{loaded:this.responseBuffer.byteLength,total:t}),this.trigger("loadend",this.request,{loaded:this.responseBuffer.byteLength,total:t})};if(e.body){this.logger.info("mocked response has body, streaming...");const r=e.body.getReader(),n=async()=>{const{value:e,done:o}=await r.read();if(o)return this.logger.info("response body stream done!"),void s();e&&(this.logger.info("read response body chunk:",e),this.responseBuffer=function(e,t){const s=new Uint8Array(e.byteLength+t.byteLength);return s.set(e,0),s.set(t,e.byteLength),s}(this.responseBuffer,e),this.trigger("progress",this.request,{loaded:this.responseBuffer.byteLength,total:t})),n()};n()}else s()}responseBufferToText(){return e=this.responseBuffer,new TextDecoder(t).decode(e);var e,t}get response(){if(this.logger.info("getResponse (responseType: %s)",this.request.responseType),this.request.readyState!==this.request.DONE)return null;switch(this.request.responseType){case"json":{const e=function(e){try{return JSON.parse(e)}catch(t){return null}}(this.responseBufferToText());return this.logger.info("resolved response JSON",e),e}case"arraybuffer":{const t=(e=this.responseBuffer).buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return this.logger.info("resolved response ArrayBuffer",t),t}case"blob":{const e=this.request.getResponseHeader("Content-Type")||"text/plain",t=new Blob([this.responseBufferToText()],{type:e});return this.logger.info("resolved response Blob (mime type: %s)",t,e),t}default:{const e=this.responseBufferToText();return this.logger.info('resolving "%s" response type as text',this.request.responseType,e),e}}var e}get responseText(){if(fe(""===this.request.responseType||"text"===this.request.responseType,"InvalidStateError: The object is in invalid state."),this.request.readyState!==this.request.LOADING&&this.request.readyState!==this.request.DONE)return"";const e=this.responseBufferToText();return this.logger.info('getResponseText: "%s"',e),e}get responseXML(){if(fe(""===this.request.responseType||"document"===this.request.responseType,"InvalidStateError: The object is in invalid state."),this.request.readyState!==this.request.DONE)return null;const e=this.request.getResponseHeader("Content-Type")||"";return"undefined"==typeof DOMParser?null:(t=e,["application/xhtml+xml","application/xml","image/svg+xml","text/html","text/xml"].some(e=>t.startsWith(e))?(new DOMParser).parseFromString(this.responseBufferToText(),e):null);var t}errorWith(e){this[Ot]=!0,this.logger.info("responding with an error"),this.setReadyState(this.request.DONE),this.trigger("error",this.request),this.trigger("loadend",this.request)}setReadyState(e){this.logger.info("setReadyState: %d -> %d",this.request.readyState,e),this.request.readyState!==e?(jt(this.request,"readyState",e),this.logger.info("set readyState to: %d",e),e!==this.request.UNSENT&&(this.logger.info('triggerring "readystatechange" event...'),this.trigger("readystatechange",this.request))):this.logger.info("ready state identical, skipping transition...")}trigger(e,t,s){const r=t[`on${e}`],n=function(e,t,s){const r=Lt?ProgressEvent:Rt;return["error","progress","loadstart","loadend","load","timeout","abort"].includes(t)?new r(t,{lengthComputable:!0,loaded:(null==s?void 0:s.loaded)||0,total:(null==s?void 0:s.total)||0}):new St(t,{target:e,currentTarget:e})}(t,e,s);this.logger.info('trigger "%s"',e,s||""),"function"==typeof r&&(this.logger.info('found a direct "%s" callback, calling...',e),r.call(t,n));const o=t instanceof XMLHttpRequestUpload?this.uploadEvents:this.events;for(const[i,a]of o)i===e&&(this.logger.info('found %d listener(s) for "%s" event, calling...',a.length,e),a.forEach(e=>e.call(t,n)))}toFetchApiRequest(e){this.logger.info("converting request to a Fetch API Request...");const t=e instanceof Document?e.documentElement.innerText:e,s=new Request(this.url.href,{method:this.method,headers:this.requestHeaders,credentials:this.request.withCredentials?"include":"same-origin",body:["GET","HEAD"].includes(this.method.toUpperCase())?null:t});return jt(s,"headers",Ct(s.headers,{methodCall:([e,t],s)=>{switch(e){case"append":case"set":{const[e,s]=t;this.request.setRequestHeader(e,s);break}case"delete":{const[e]=t;break}}return s()}})),Oe(s,this.request),this.logger.info("converted request to a Fetch API Request!",s),s}};function Wt(e){return"undefined"==typeof location?new URL(e):new URL(e.toString(),location.href)}function jt(e,t,s){Reflect.defineProperty(e,t,{writable:!0,enumerable:!0,value:s})}var Dt=class extends Ze{constructor(){super(Dt.interceptorSymbol)}checkEnvironment(){return ft("XMLHttpRequest")}setup(){const e=this.logger.extend("setup");e.info('patching "XMLHttpRequest" module...');const t=globalThis.XMLHttpRequest;fe(!t[Re],'Failed to patch the "XMLHttpRequest" module: already patched.'),globalThis.XMLHttpRequest=function({emitter:e,logger:t}){return new Proxy(globalThis.XMLHttpRequest,{construct(s,r,n){t.info("constructed new XMLHttpRequest");const o=Reflect.construct(s,r,n),i=Object.getOwnPropertyDescriptors(s.prototype);for(const e in i)Reflect.defineProperty(o,e,i[e]);const a=new At(o,t);return a.onRequest=async function({request:t,requestId:s}){const r=new lt(t);this.logger.info("awaiting mocked response..."),this.logger.info('emitting the "request" event for %s listener(s)...',e.listenerCount("request")),await pt({request:t,requestId:s,controller:r,emitter:e,onResponse:async e=>{await this.respondWith(e)},onRequestError:()=>{this.errorWith(new TypeError("Network error"))},onError:e=>{this.logger.info("request errored!",{error:e}),e instanceof Error&&this.errorWith(e)}})||this.logger.info("no mocked response received, performing request as-is...")},a.onResponse=async function({response:t,isMockedResponse:s,request:r,requestId:n}){this.logger.info('emitting the "response" event for %s listener(s)...',e.listenerCount("response")),e.emit("response",{response:t,isMockedResponse:s,request:r,requestId:n})},a.request}})}({emitter:this.emitter,logger:this.logger}),e.info('native "XMLHttpRequest" module patched!',globalThis.XMLHttpRequest.name),Object.defineProperty(globalThis.XMLHttpRequest,Re,{enumerable:!0,configurable:!0,value:!0}),this.subscriptions.push(()=>{Object.defineProperty(globalThis.XMLHttpRequest,Re,{value:void 0}),globalThis.XMLHttpRequest=t,e.info('native "XMLHttpRequest" module restored!',globalThis.XMLHttpRequest.name)})}},Ht=Dt;function Ut(e){return async function(t){e.fallbackInterceptor=function(e,t){const s=new tt({name:"fallback",interceptors:[new qt,new Ht]});return s.on("request",async({request:s,requestId:r,controller:n})=>{const o=s.clone(),i=await x(s,r,e.getRequestHandlers().filter(I("RequestHandler")),t,e.emitter,{onMockedResponse(s,{handler:r,parsedResult:n}){t.quiet||e.emitter.once("response:mocked",({response:e})=>{r.log({request:o,response:e,parsedResult:n})})}});i&&n.respondWith(i)}),s.on("response",({response:t,isMockedResponse:s,request:r,requestId:n})=>{e.emitter.emit(s?"response:mocked":"response:bypass",{response:t,request:r,requestId:n})}),s.apply(),s}(e,t),be({message:"Mocking enabled (fallback mode).",quiet:t.quiet})}}function _t(){try{const e=new ReadableStream({start:e=>e.close()});return(new MessageChannel).port1.postMessage(e,[e]),!0}catch{return!1}}Ht.interceptorSymbol=Symbol("xhr");var Nt=class extends W{context;startHandler=null;stopHandler=null;listeners;constructor(...e){super(...e),fe(!ge(),d.formatMessage("Failed to execute `setupWorker` in a non-browser environment. Consider using `setupServer` for Node.js environment instead.")),this.listeners=[],this.context=this.createWorkerContext()}createWorkerContext(){const e={isMockingEnabled:!1,startOptions:null,worker:null,getRequestHandlers:()=>this.handlersController.currentHandlers(),registration:null,emitter:this.emitter,workerChannel:{on:(e,t)=>{this.context.events.addListener(navigator.serviceWorker,"message",s=>{if(s.source!==this.context.worker)return;const r=s.data;r&&r.type===e&&t(s,r)})},send:e=>{this.context.worker?.postMessage(e)}},events:{addListener:(e,t,s)=>(e.addEventListener(t,s),this.listeners.push({eventType:t,target:e,callback:s}),()=>{e.removeEventListener(t,s)}),removeAllListeners:()=>{for(const{target:e,eventType:t,callback:s}of this.listeners)e.removeEventListener(t,s);this.listeners=[]},once:e=>{const t=[];return new Promise((s,r)=>{t.push(this.context.events.addListener(navigator.serviceWorker,"message",t=>{try{const r=t.data;r.type===e&&s(r)}catch(n){r(n)}}),this.context.events.addListener(navigator.serviceWorker,"messageerror",r))}).finally(()=>{t.forEach(e=>e())})}},supports:{serviceWorkerApi:!("serviceWorker"in navigator)||"file:"===location.protocol,readableStreamTransfer:_t()}};return this.startHandler=e.supports.serviceWorkerApi?Ut(e):st(e),this.stopHandler=e.supports.serviceWorkerApi?function(e){return function(){e.fallbackInterceptor?.dispose(),rt({quiet:e.startOptions?.quiet})}}(e):(e=>function(){e.isMockingEnabled?(e.workerChannel.send("MOCK_DEACTIVATE"),e.isMockingEnabled=!1,window.clearInterval(e.keepAliveInterval),window.postMessage({type:"msw/worker:stop"}),rt({quiet:e.startOptions?.quiet})):d.warn('Found a redundant "worker.stop()" call. Note that stopping the worker while mocking already stopped has no effect. Consider removing this "worker.stop()" call.')})(e),e}async start(e={}){return!0===e.waitUntilReady&&d.warn('The "waitUntilReady" option has been deprecated. Please remove it from this "worker.start()" call. Follow the recommended Browser integration (https://mswjs.io/docs/integrations/browser) to eliminate any race conditions between the Service Worker registration and any requests made by your application on initial render.'),this.context.startOptions=P(nt,e),function(e){oe.on("connection",async t=>{const s=e.getHandlers().filter(I("EventHandler"));if(s.length>0)return e?.onMockedConnection(t),void(await Promise.all(s.map(e=>e.run(t))));const r=new Request(t.client.url,{headers:{upgrade:"websocket",connection:"upgrade"}});await v(r,e.getUnhandledRequestStrategy()).catch(e=>{const s=new Event("error");Object.defineProperty(s,"cause",{enumerable:!0,configurable:!1,value:e}),t.client.socket.dispatchEvent(s)}),e?.onPassthroughConnection(t),t.server.connect()})}({getUnhandledRequestStrategy:()=>this.context.startOptions.onUnhandledRequest,getHandlers:()=>this.handlersController.currentHandlers(),onMockedConnection:e=>{this.context.startOptions.quiet||le(e)},onPassthroughConnection(){}}),oe.apply(),this.subscriptions.push(()=>{oe.dispose()}),await this.startHandler(this.context.startOptions,e)}stop(){super.dispose(),this.context.events.removeAllListeners(),this.context.emitter.removeAllListeners(),this.stopHandler()}};function $t(...e){return new Nt(...e)}const{message:Bt}=n;function Gt(e,t){const s=Object.getOwnPropertySymbols(t).find(t=>t.description===e);if(s)return Reflect.get(t,s)}new TextEncoder;var Ft=class extends Response{static isConfigurableStatusCode(e){return e>=200&&e<=599}static isRedirectResponse(e){return Ft.STATUS_CODES_WITH_REDIRECT.includes(e)}static isResponseWithBody(e){return!Ft.STATUS_CODES_WITHOUT_BODY.includes(e)}static setUrl(e,t){if(!e||"about:"===e||!function(e){try{return new URL(e),!0}catch(t){return!1}}(e))return;const s=Gt("state",t);s?s.urlList.push(new URL(e)):Object.defineProperty(t,"url",{value:e,enumerable:!0,configurable:!0,writable:!1})}static parseRawHeaders(e){const t=new Headers;for(let s=0;s<e.length;s+=2)t.append(e[s],e[s+1]);return t}constructor(e,t={}){var s;const r=null!=(s=t.status)?s:200,n=Ft.isConfigurableStatusCode(r)?r:200;if(super(Ft.isResponseWithBody(r)?e:null,{status:n,statusText:t.statusText,headers:t.headers}),r!==n){const e=Gt("state",this);e?e.status=r:Object.defineProperty(this,"status",{value:r,enumerable:!0,configurable:!0,writable:!1})}Ft.setUrl(t.url,this)}},zt=Ft;zt.STATUS_CODES_WITHOUT_BODY=[101,103,204,205,304],zt.STATUS_CODES_WITH_REDIRECT=[301,302,303,307,308];const Xt=/[\?|#].*$/g;function Kt(e){return e.endsWith("?")?e:e.replace(Xt,"")}function Jt(e,t){if(e instanceof RegExp)return e;const s=function(e,t){if(/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e))return e;if(e.startsWith("*"))return e;const s=t||"undefined"!=typeof location&&location.href;return s?decodeURI(new URL(encodeURI(e),s).href):e}(e,t);return Kt(s)}function Vt(e,t,s){const r=Jt(t,s),n="string"==typeof r?function(e){return e.replace(/([:a-zA-Z_-]*)(\*{1,2})+/g,(e,t,s)=>{const r="(.*)";return t?t.startsWith(":")?`${t}${s}`:`${t}${r}`:r}).replace(/([^\/])(:)(?=\d+)/,"$1\\$2").replace(/^([^\/]+)(:)(?=\/\/)/,"$1\\$2")}(r):r,o=function(e,t=!0){return[t&&e.origin,e.pathname].filter(Boolean).join("")}(e),i=u(n,{decode:decodeURIComponent})(o);return{matches:!1!==i,params:i&&i.params||{}}}function Yt(e){const t=h.parse(e),s={};for(const r in t)void 0!==t[r]&&(s[r]=t[r]);return s}function Qt(){return Yt(document.cookie)}function Zt(e){const t=e.headers.get("cookie"),s=t?Yt(t):{},r=function(e){if("undefined"==typeof document||"undefined"==typeof location)return{};switch(e.credentials){case"same-origin":{const t=new URL(e.url);return location.origin===t.origin?Qt():{}}case"include":return Qt();default:return{}}}(e);for(const i in r)e.headers.append("cookie",h.serialize(i,r[i]));const n=R.getCookiesSync(e.url),o=Object.fromEntries(n.map(e=>[e.key,e.value]));for(const i of n)e.headers.append("cookie",i.toString());return{...r,...o,...s}}var es=(e=>(e.HEAD="HEAD",e.GET="GET",e.POST="POST",e.PUT="PUT",e.PATCH="PATCH",e.OPTIONS="OPTIONS",e.DELETE="DELETE",e))(es||{});class ts extends m{constructor(e,t,s,r){super({info:{header:`${e} ${t}`,path:t,method:e},resolver:s,options:r}),this.checkRedundantQueryParameters()}checkRedundantQueryParameters(){const{method:e,path:t}=this.info;if(t instanceof RegExp)return;if(Kt(t)===t)return;const s=function(e){return new URL(`/${e}`,"http://localhost").searchParams}(t);s.forEach((e,t)=>{}),d.warn(`Found a redundant usage of query parameters in the request handler URL for "${e} ${t}". Please match against a path instead and access query parameters using "new URL(request.url).searchParams" instead. Learn more: https://mswjs.io/docs/http/intercepting-requestsquery-parameters`)}async parse(e){return{match:Vt(new URL(e.request.url),this.info.path,e.resolutionContext?.baseUrl),cookies:Zt(e.request)}}predicate(e){const t=this.matchMethod(e.request.method),s=e.parsedResult.match.matches;return t&&s}matchMethod(e){return this.info.method instanceof RegExp?this.info.method.test(e):(t=this.info.method,s=e,t.toLowerCase()===s.toLowerCase());var t,s}extendResolverArgs(e){return{params:e.parsedResult.match?.params||{},cookies:e.parsedResult.cookies}}async log(e){y(e.request.url),await async function(e){const t=e.clone(),s=await t.text();return{url:new URL(e.url),method:e.method,headers:Object.fromEntries(e.headers.entries()),body:s}}(e.request);const t=await async function(e){const t=e.clone(),s=await t.text(),r=t.status||200;return{status:r,statusText:t.statusText||Bt[r]||"OK",headers:Object.fromEntries(t.headers.entries()),body:s}}(e.response);s=t.status;var s}}function ss(e){return(t,s,r={})=>new ts(e,t,s,r)}const rs={all:ss(/.+/),head:ss(es.HEAD),get:ss(es.GET),post:ss(es.POST),put:ss(es.PUT),delete:ss(es.DELETE),patch:ss(es.PATCH),options:ss(es.OPTIONS)},ns=Symbol("bodyType");class os extends zt{[ns]=null;constructor(e,t){const s=C(t);super(e,s),function(e,t){t.type&&Object.defineProperty(e,"type",{value:t.type,enumerable:!0,writable:!1});const s=t.headers.get("set-cookie");if(s&&(Object.defineProperty(e,T,{value:s,enumerable:!1,writable:!1}),"undefined"!=typeof document)){const e=o.prototype.getSetCookie.call(t.headers);for(const t of e)document.cookie=t}}(this,s)}static error(){return super.error()}static text(e,t){const s=C(t);return s.headers.has("Content-Type")||s.headers.set("Content-Type","text/plain"),s.headers.has("Content-Length")||s.headers.set("Content-Length",e?new Blob([e]).size.toString():"0"),new os(e,s)}static json(e,t){const s=C(t);s.headers.has("Content-Type")||s.headers.set("Content-Type","application/json");const r=JSON.stringify(e);return s.headers.has("Content-Length")||s.headers.set("Content-Length",r?new Blob([r]).size.toString():"0"),new os(r,s)}static xml(e,t){const s=C(t);return s.headers.has("Content-Type")||s.headers.set("Content-Type","text/xml"),new os(e,s)}static html(e,t){const s=C(t);return s.headers.has("Content-Type")||s.headers.set("Content-Type","text/html"),new os(e,s)}static arrayBuffer(e,t){const s=C(t);return s.headers.has("Content-Type")||s.headers.set("Content-Type","application/octet-stream"),e&&!s.headers.has("Content-Length")&&s.headers.set("Content-Length",e.byteLength.toString()),new os(e,s)}static formData(e,t){return new os(e,C(t))}}r("undefined"!=typeof URL,d.formatMessage('Global "URL" class is not defined. This likely means that you\'re running MSW in an environment that doesn\'t support all Node.js standard API (e.g. React Native). If that\'s the case, please use an appropriate polyfill for the "URL" class, like "react-native-url-polyfill".'));export{os as H,rs as h,$t as s};
