import{k as e,l as t,n as l,o as n,p as o,q as r,t as a,v as i,T as s}from"./vendors-all-B2Pvedt7.js";import{A as d,v as c,a as p,w as u,x as f,y as b,z as h,G as g,H as y,J as m,P as v}from"./ant-design-icons-vue-OUqVA5yR.js";import{d as x,c as w,Q as k,r as S,R as C,o as N,k as T,a as A,w as I,J as z,n as P,h as R,s as E,u as K,S as O,q as F,A as L,b as M,U as W,F as H,V as j,j as D,f as V,G as $,i as B,W as Y,p as U}from"./vue-all-DTco6533.js";import{A as G,u as q,S as X,I as _,B as Q,a as J,D as Z,b as ee,C as te,R as le,T as ne,c as oe,d as re,e as ae,_ as ie,f as se,g as de,F as ce,h as pe,i as ue,j as fe,k as be,l as he,P as ge,E as ye,m as me,n as ve,M as xe}from"./antdv-all-BdsrxCwl.js";import{d as we,i as ke,f as Se,g as Ce,o as Ne,a as Te,c as Ae,q as Ie,b as ze}from"./date-all-CtlRm6R5.js";const Pe=e=>Re(e)&&e.length>0,Re=e=>Array.isArray(e),Ee=e=>"[object Map]"===Object.prototype.toString.call(e),Ke=e=>"[object Object]"===Object.prototype.toString.call(e),Oe=e=>"[object Set]"===Object.prototype.toString.call(e),Fe=e=>"[object Undefined]"===Object.prototype.toString.call(e),Le=e=>"[object Number]"===Object.prototype.toString.call(e),Me=e=>Le(e)&&Number.isFinite(e),We=e=>He(e)&&!!e.trim(),He=e=>"[object String]"===Object.prototype.toString.call(e),je=e=>"[object Date]"===Object.prototype.toString.call(e),De=e=>"[object RegExp]"===Object.prototype.toString.call(e),Ve=e=>(e=>"[object AsyncFunction]"===Object.prototype.toString.call(e))(e)||(e=>"[object Function]"===Object.prototype.toString.call(e))(e)||(e=>"[object GeneratorFunction]"===Object.prototype.toString.call(e))(e),$e=e=>"[object Promise]"===Object.prototype.toString.call(e),Be=(e,t,l=!1)=>{if(e===t)return!0;if(Object.is(e,t))return!0;if(Me(e)&&Me(t))return Math.abs(e-t)<Number.EPSILON;if(De(e)&&De(t))return e.source===t.source&&e.flags===t.flags&&e.lastIndex===t.lastIndex;if(Ke(e)&&Ke(t)){const n=Ke(l)&&!Fe(l.deep)?l.deep:l,o=Ke(l)&&Re(l.strict)?l.strict.filter(e=>De(e)||Me(e)||He(e)):[],r=Ke(l)&&Re(l.exclude)?l.exclude.filter(e=>De(e)||Me(e)||He(e)):[],a=Ke(l)&&Re(l.include)?l.include.filter(e=>De(e)||Me(e)||He(e)):[/(?:)/],i=Object.keys(e).filter(e=>{const t=r.length>0&&r.some(t=>De(t)?t.test(String(e)):String(t)===String(e)),l=0===a.length||a.some(t=>De(t)?t.test(String(e)):String(t)===String(e));return!t&&l}),s=Object.keys(t).filter(e=>{const t=r.length>0&&r.some(t=>De(t)?t.test(String(e)):String(t)===String(e)),l=0===a.length||a.some(t=>De(t)?t.test(String(e)):String(t)===String(e));return!t&&l});if(i.length!==s.length)return!1;for(const l of Object.keys(e)){const i=e[l],s=t[l],d=Le(n)?n:!0===n?1/0:0,c=o.length>0&&o.some(e=>De(e)?e.test(String(l)):String(e)===String(l)),p=r.length>0&&r.some(e=>De(e)?e.test(String(l)):String(e)===String(l)),u=0===a.length||a.some(e=>De(e)?e.test(String(l)):String(e)===String(l));if(!p&&u&&i!==s){if(c)return!1;if(!(d>=1&&Be(i,s,{strict:o,include:a,exclude:r,deep:d-1})))return!1}}return!0}if(Re(e)&&Re(t)){const n=Ke(l)&&!Fe(l.deep)?l.deep:l,o=Ke(l)&&Re(l.strict)?l.strict.filter(e=>De(e)||Me(e)||He(e)):[],r=Ke(l)&&Re(l.exclude)?l.exclude.filter(e=>De(e)||Me(e)||He(e)):[],a=Ke(l)&&Re(l.include)?l.include.filter(e=>De(e)||Me(e)||He(e)):[/(?:)/],i=Object.keys(e).filter(e=>{const t=r.length>0&&r.some(t=>De(t)?t.test(String(e)):String(t)===String(e)),l=0===a.length||a.some(t=>De(t)?t.test(String(e)):String(t)===String(e));return!t&&l}),s=Object.keys(t).filter(e=>{const t=r.length>0&&r.some(t=>De(t)?t.test(String(e)):String(t)===String(e)),l=0===a.length||a.some(t=>De(t)?t.test(String(e)):String(t)===String(e));return!t&&l});if(i.length!==s.length)return!1;for(const l of e.keys()){const i=e[l],s=t[l],d=Le(n)?n:!0===n?1/0:0,c=o.length>0&&o.some(e=>De(e)?e.test(String(l)):String(e)===String(l)),p=r.length>0&&r.some(e=>De(e)?e.test(String(l)):String(e)===String(l)),u=0===a.length||a.some(e=>De(e)?e.test(String(l)):String(e)===String(l));if(!p&&u&&i!==s){if(c)return!1;if(!(d>=1&&Be(i,s,{strict:o,include:a,exclude:r,deep:d-1})))return!1}}return!0}return je(e)&&je(t)?+e==+t:Ee(e)&&Ee(t)?e.size===t.size&&Be([...e.entries()],[...t.entries()],l):!(!Oe(e)||!Oe(t))&&e.size===t.size&&Be([...e.values()],[...t.values()],l)},Ye=(e,t=!1)=>{const l=Ke(t)&&!Fe(t.deep)?t.deep:t,n=Ke(t)&&Re(t.omits)?t.omits.filter(e=>De(e)||He(e)||Me(e)):[],o=Ke(t)&&Re(t.picks)?t.picks.filter(e=>De(e)||He(e)||Me(e)):[],r=Ke(t)&&(e=>"[object WeakMap]"===Object.prototype.toString.call(e))(t.cache)?t.cache:new WeakMap,a=Le(l)?l:!0===l?1/0:1,i=(e,t)=>{const l=Re(e)?[]:{};for(const[i,s]of Ke(a=e)?Object.entries(a):a.entries()){if(o.length>0&&!o.some(e=>De(e)?e.test(String(i)):String(e)===String(i)))continue;if(n.length>0&&n.some(e=>De(e)?e.test(String(i)):String(e)===String(i)))continue;let e=s;const a=Oe(s),d=Ee(s),c=je(s),p=Re(s),u=Ke(s),f=De(s);a||d||c||p||u||f?(t>1&&!r.has(s)&&r.set(s,Ye(s,{omits:n,picks:o,cache:r,deep:t-1})),t>1&&r.has(s)&&(e=r.get(s)),Re(l)?l.push(e):l[i]=e):Re(l)?l.push(e):l[i]=e}var a;return l};if((e=>Number.isNaN(e))(a)||a<1)return e;if(De(e)){const t=e.flags,l=e.source,n=new RegExp(l,t);return n.lastIndex=e.lastIndex,n}if(Ke(e))return i(e,a);if(Re(e))return i(e,a);if(je(e))return new Date(+e);if(Ee(e)){const t=Array.from(e.entries());return new Map(i(t,a))}if(Oe(e)){const t=Array.from(e.values());return new Set(i(t,a))}return e},Ue=(e,...t)=>{const l={},n=new WeakMap,o=t.slice(-1)[0],r=Le(o)?o:!0===o?1/0:1,a=(e,t,o)=>{const r=Ee(e)?Array.from(e.entries()):Oe(e)?Array.from(e.values()):e,i=Ee(t)?Array.from(t.entries()):Oe(t)?Array.from(t.values()):t;for(const[d,c]of Ke(s=i)?Object.entries(s):s.entries()){if(o<1){r[d]=c;continue}const e=Oe(c),t=Ee(c),s=je(c),p=Re(c),u=Ke(c),f=De(c),b=l.toString.call(r[d])!==l.toString.call(c);e||t||s||p||u||f?(n.has(c)||n.set(c,Ye(c,{deep:o,cache:n})),b?r[d]=n.get(c):a(r[d],i[d],o-1)):r[d]=c}var s;if((Ee(e)||Oe(e))&&e.clear(),Ee(e))for(const[l,n]of r)e.set(l,n);if(Oe(e))for(const l of r)e.add(l)};if(Ke(e)||Re(e)||Ee(e)||Oe(e))for(const i of t)l.toString.call(e)===l.toString.call(i)&&a(e,i,r-1);return e},Ge=(e,t,l="value",n="children")=>{if(Re(e)&&(He(t)||Le(t)))for(const o of e){if(t===o[l])return o;if(Pe(o[n])){const e=Ge(o[n],t,l,n);if(e)return e}}return null};var qe={isArray:Re,isObject:Ke,isString:He,isNumber:Le,isRegExp:De,isPromise:$e,isBoolean:e=>!0===e||!1===e,isFunction:Ve,isPrimitive:e=>He(e)||Me(e),isReference:e=>Re(e)||Ke(e),isEmptyArray:e=>Re(e)&&0===e.length,isEmptyObject:e=>Ke(e)&&0===Object.keys(e).length,isEmptyString:e=>He(e)&&!e.trim(),isNonEmptyArray:Pe,isNonEmptyObject:e=>Ke(e)&&Object.keys(e).length>0,isNonEmptyString:We,isFiniteNumber:Me,takeTreeByKey:Ge,takeTextByKey:(e,t,l="label",n="value",o="children")=>Ge(e,t,n,o)?.[l]||t,deepAssign:(e,...t)=>Ue(e,...t,!0),deepClone:(e,t={})=>Ye(e,{...t,deep:!0}),deepEqual:(e,t,l={})=>Be(e,t,{...l,deep:!0}),toPromise:e=>$e(e)?e:Ve(e)?Promise.resolve(e()):Me(e)?new Promise((t,l)=>{e>=0&&setTimeout(t,e),e<0&&setTimeout(l,-e)}):Promise.resolve(e),hyphenCase:(e,t=!1)=>!0===t?We(e)?e.replace(/([A-Z])/g,"-$1").replace(/([_-])([a-zA-Z])/g,"-$2").toLowerCase().replace(/^[_-]+/,""):e:We(e)?e.replace(/([A-Z])/g,"-$1").replace(/([_-])([a-zA-Z])/g,"-$2").toLowerCase():e,camelCase:(e,t=!1)=>!0===t?We(e)?e.replace(/(^|[_-])([a-z])/g,(e,t,l)=>l&&l.toUpperCase()):e:We(e)?e.replace(/[_-]([a-z])/g,(e,t)=>t&&t.toUpperCase()):e,underCase:(e,t=!1)=>!0===t?We(e)?e.replace(/([A-Z])/g,"_$1").replace(/([_-])([a-zA-Z])/g,"_$2").toLowerCase().replace(/^[_-]+/,""):e:We(e)?e.replace(/([A-Z])/g,"_$1").replace(/([_-])([a-zA-Z])/g,"_$2").toLowerCase():e,upperCase:e=>We(e)?e.replace(/[a-z]/g,e=>e&&e.toUpperCase()):e,lowerCase:e=>We(e)?e.replace(/[A-Z]/g,e=>e&&e.toLowerCase()):e,assign:Ue,clone:Ye,equal:Be};const Xe=e=>"default"!==e&&"getTwoToneColor"!==e&&"setTwoToneColor"!==e&&"createFromIconfontCN"!==e&&e&&!!d[e],_e=x({name:"SIcon",props:{spin:n().def(!1),type:t().isRequired,style:e().def(void 0),class:e().def(void 0),rotate:l().def(void 0),iconPrefix:t().def(void 0),iconfontUrl:t().def(void 0),twoToneColor:e().def()},emits:{click:e=>!0},setup:(e,t)=>()=>{const l=e.type,n=(e=>qe.isString(e)?e.replace(/(^|-)(\w)/g,(e,t,l)=>l&&l.toUpperCase()):e)(l),o={...e,type:void 0},r=e.iconPrefix??"",a=e.iconfontUrl??"",i=Xe(n)?d[n]:null;if(i)return w(i,k(o,{onClick:e=>t.emit("click",e)}),null);if(r&&a&&l.startsWith(r)){const l=c({scriptUrl:a}),n={...e};return delete n.iconfontUrl,delete n.iconPrefix,w(l,k(n,{onClick:e=>t.emit("click",e)}),null)}return null}}),Qe=x({name:"SEllipsis",props:{open:n().def(void 0),title:t().def(void 0),color:t().def(void 0),trigger:t().def("hover"),inspect:n().def(!0),tooltip:n().def(!0),ellipsis:n().def(!1),placement:t().def("top"),mouseEnterDelay:l().def(.3),mouseLeaveDelay:l().def(.1)},emits:{"update:open":e=>"boolean"==typeof e},slots:{},setup(e,{emit:t,slots:l}){const n=S(!1),o=S(!1),r=C("element"),a=e=>{if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement){const t=e.getBoundingClientRect().height,l=e.getBoundingClientRect().width,n=e.scrollHeight>t+1,r=e.scrollWidth>l+1;return o.value=n||r}return!1};return N(()=>{const e=new ResizeObserver(e=>{for(const t of e)a(t.target)});r.value instanceof HTMLElement&&(e.observe(r.value),a(r.value))}),()=>{if(!0===e.tooltip){const i={...e,open:void 0!==e.open?e.open:n.value,"onUpdate:open":void 0,onVisibleChange:void 0};return w(G,k(i,{"onUpdate:open":l=>{return t("update:open",!0===(o=l)&&!0===e.inspect?n.value=a(r.value):n.value=o);var o}}),{default:()=>[w("div",{ref:"element",style:{width:"100%",height:"100%",display:"block",whiteSpace:!0===e.ellipsis?"nowrap":"inherit",textOverflow:o.value&&!0===e.ellipsis?"ellipsis":"initial",overflow:o.value&&!0===e.ellipsis?"hidden":"visible"}},[l.default?.()])],title:l.title||l.default})}return l.default?.()}}});const Je=Object.keys(d).filter(e=>e.endsWith("Outlined")),Ze=[];for(const dl of Je){const e=dl[0],t=Ze.find(t=>t.value===e);t||Ze.push({label:`字母${e.toUpperCase()}`,value:e,options:[{label:dl,value:dl}]}),t&&t.options.push({label:dl,value:dl})}Ze&&Ze.sort((e,t)=>e.value<t.value?-1:1);const et=x({name:"SIconSelect",inheritAttrs:!0,props:{style:e().def(void 0),class:e().def(void 0),iconClass:e().def(void 0),iconStyle:r().def(void 0),iconPrefix:t().def(void 0),iconfontUrl:t().def(void 0),optionFilterProp:t().def(),optionLabelProp:t().def(),placeholder:t().def(""),showSearch:n().def(!0),allowClear:n().def(!0),showArrow:n().def(!0),multiple:n().def(!1),disabled:n().def(!1),options:o().def(void 0),value:e().def(),mode:t().def(),size:t().def()},emits:{"update:value":e=>!0,change:(e,t)=>!0,search:e=>!0,click:e=>!0,blur:e=>!0},setup(e,{emit:t}){const l=t=>Xe(t.value)?w("span",null,[w(_e,{type:t.value,class:e.iconClass,style:{margin:"0px 3px 0 0",fontSize:"18px",verticalAlign:"middle",...e.iconStyle}},null),t.label]):e.iconPrefix&&e.iconfontUrl&&t.value.startsWith(e.iconPrefix)?w("span",null,[w(_e,{type:t.value,iconPrefix:e.iconPrefix,iconfontUrl:e.iconfontUrl,class:e.iconClass,style:{margin:"0px 3px 0 0",fontSize:"18px",verticalAlign:"middle",...e.iconStyle}},null),t.label]):w("span",null,[t.label]),n=t=>Xe(t.value)?w("span",null,[w(_e,{type:t.value,class:e.iconClass,style:{margin:"0px 3px 2px 2px",fontSize:"18px",verticalAlign:"middle",...e.iconStyle}},null),t.label]):e.iconPrefix&&e.iconfontUrl&&t.value.startsWith(e.iconPrefix)?w("span",null,[w(_e,{type:t.value,iconPrefix:e.iconPrefix,iconfontUrl:e.iconfontUrl,class:e.iconClass,style:{margin:"0px 3px 2px 2px",fontSize:"18px",verticalAlign:"middle",...e.iconStyle}},null),t.label]):w("span",null,[t.label]),o=S(void 0),r=C("selector"),a=S([]),i="tags"===e.mode||"multiple"===e.mode,s=!1!==e.multiple,d=q(),c=(e,l)=>{const n=Array.isArray(e),a=i&&n&&!s;t("update:value",a?e.slice(-1)[0]:e),a&&r.value?.blur(),i||r.value?.blur(),a&&(o.value=!1),i||(o.value=!1),t("change",a?e.slice(-1)[0]:e,l)};return T(async()=>{e.options||e.iconPrefix&&e.iconfontUrl||(a.value=Ze),!e.options&&e.iconPrefix&&e.iconfontUrl&&(a.value=await(async(e,t="icon-")=>{const l=[],n=new RegExp(`(?<=<symbol id=["'])${t}[^"']+`,"g"),o=await fetch(e).then(e=>e.text()),r=Array.from(o.matchAll(n),e=>e[0]);for(const a of r){const e=t.length,n=a.slice(e,e+1),o=l.find(e=>e.value===n);o||l.push({label:`字母${n.toUpperCase()}`,value:n,options:[{label:a,value:a}]}),o&&o.options.push({label:a,value:a})}return l&&l.sort((e,t)=>e.value<t.value?-1:1),l})(e.iconfontUrl,e.iconPrefix)),e.options&&(a.value=e.options)}),()=>{const r=s||i?qe.isArray(e.value)?e.value:qe.isNonEmptyString(e.value)?[e.value]:[]:qe.isArray(e.value)?e.value[0]:e.value;return w(X,{ref:"selector",open:o.value,size:e.size||d.componentSize?.value,mode:e.mode,value:r,style:e.style,class:e.class,options:a.value,disabled:e.disabled,showArrow:e.showArrow,allowClear:e.allowClear,showSearch:e.showSearch,placeholder:e.placeholder,optionLabelProp:e.optionLabelProp,optionFilterProp:e.optionFilterProp,onSearch:e=>{o.value=!0,t("search",e)},onClick:e=>{o.value=!0,t("click",e)},onBlur:e=>{o.value=!1,t("blur",e)},onChange:c},{option:l,tagRender:n})}}});function tt(e,t){void 0===t&&(t={});var l=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===l&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}tt(".s-editable-cell-container {\n  width: 100%;\n  position: relative;\n}\n.s-editable-cell-container.editabled {\n  min-width: 90px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper {\n  position: relative;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-input {\n  width: 100%;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-button-check {\n  position: absolute;\n  top: 52%;\n  right: 2px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper {\n  width: 100%;\n  min-height: 20px;\n  position: relative;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  word-break: break-all;\n  overflow: hidden;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper > .s-editable-cell-button-edit {\n  position: absolute;\n  top: 52%;\n  right: 8px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n");const lt=x({name:"SEditCellInput",inheritAttrs:!1,props:{text:t().def(""),empty:t().def(""),edit:n().def(!0),check:n().def(!0),synced:n().def(!1),opened:n().def(!1),status:n().def(!1),tooltip:r().def(()=>({enable:!0,ellipsis:!1})),disabled:n().def(!1),allowClear:n().def(!1),placeholder:t().def(),cellStyle:r().def(()=>({}))},emits:{edit:e=>!0,blur:e=>!0,focus:e=>!0,change:e=>!0,confirm:e=>!0,"update:status":e=>!0,"update:text":e=>!0},slots:{},setup(e,{emit:t,slots:l}){const n=e=>{d.editable=!1,t("confirm",z(d)),e.stopPropagation()},o=()=>!e.disabled&&e.check?w(Q,{class:"s-editable-cell-button-check",type:"link",icon:w(p,null,null),style:{...e.cellStyle.check},onClick:e=>n(e)},null):null,r=()=>!e.disabled&&e.edit?w(Q,{class:"s-editable-cell-button-edit",type:"link",icon:w(u,null,null),style:e.cellStyle.edit},null):null,a=()=>!e.disabled&&d.editable?w("div",{class:["s-editable-cell-input-wrapper",{"disabled-icon":e.disabled||!e.check}],style:e.cellStyle.inputWrapper},[w(_,{value:d.value,"onUpdate:value":e=>d.value=e,size:s.componentSize?.value,class:"s-editable-cell-input",style:e.cellStyle.input,allowClear:e.allowClear,placeholder:e.placeholder,onPressEnter:e=>n(e),onChange:e=>(e=>{t("update:text",d.value),t("change",z(d)),e.stopPropagation()})(e),onFocus:e=>(e=>{t("focus",z(d)),e.stopPropagation()})(e),onBlur:e=>(e=>{t("blur",z(d)),e.stopPropagation()})(e)},null),w(o,null,null)]):w(Qe,{title:e.text?String(e.text):"",ellipsis:!0===e.tooltip.ellipsis,tooltip:!1!==e.tooltip.enable},{default:()=>[w("div",{style:e.cellStyle.textWrapper,class:["s-editable-cell-text-wrapper",{"disabled-icon":e.disabled||!e.edit}],onClick:l=>!e.disabled&&e.edit&&(l=>{d.editable=!0,d.value=e.text,t("update:status",!0),t("edit",z(d)),l.stopPropagation()})(l)},[i(),w(r,null,null)])]}),i=()=>{const t=(l.editableCellText?l.editableCellText({text:e.text,...z(d)}):null)??e.text,n=e.empty;return t||0===t?t:n},s=q(),d=A({value:e.text,editable:!1});return T(()=>{e.disabled&&(d.editable=!1),e.disabled||(d.editable=e.opened)}),I(()=>e.text,()=>!e.disabled&&e.synced&&(d.value=e.text)),I(()=>e.status,()=>!e.disabled&&!1===e.status&&(d.editable=!1)),()=>w("div",{style:e.cellStyle.container,class:["s-editable-cell-container",{editabled:d.editable}],onDblclick:e=>e.stopPropagation(),onClick:e=>e.stopPropagation()},[w(a,null,null)])}});tt(".s-editable-cell-container {\n  width: 100%;\n  position: relative;\n}\n.s-editable-cell-container.editabled {\n  min-width: 90px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper {\n  position: relative;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-input {\n  width: 100%;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-button-check {\n  position: absolute;\n  top: 52%;\n  right: 2px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper {\n  width: 100%;\n  min-height: 20px;\n  position: relative;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  word-break: break-all;\n  overflow: hidden;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper > .s-editable-cell-button-edit {\n  position: absolute;\n  top: 52%;\n  right: 8px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n");const nt=x({name:"SEditCellSelect",inheritAttrs:!1,props:{text:t().def(""),empty:t().def(""),edit:n().def(!0),check:n().def(!0),synced:n().def(!1),opened:n().def(!1),status:n().def(!1),tooltip:r().def(()=>({enable:!0,ellipsis:!1})),disabled:n().def(!1),options:o().def(()=>[]),showArrow:n().def(!0),allowClear:n().def(!1),showSearch:n().def(!1),fieldNames:r().def(()=>({label:"label",value:"value",options:"options"})),placeholder:t().def(),optionFilterProp:t().def(),cellStyle:r().def(()=>({}))},emits:{edit:e=>!0,blur:e=>!0,focus:e=>!0,change:e=>!0,confirm:e=>!0,"update:text":e=>!0,"update:status":e=>!0},slots:{},setup(e,{emit:t,slots:l}){const n=()=>!e.disabled&&e.check?w(Q,{class:"s-editable-cell-button-check",type:"link",icon:w(p,null,null),style:{...e.cellStyle.check},onClick:e=>(e=>{s.editable=!1,t("confirm",z(s)),e.stopPropagation()})(e)},null):null,o=()=>!e.disabled&&e.edit?w(Q,{class:"s-editable-cell-button-edit",type:"link",icon:w(u,null,null),style:e.cellStyle.edit},null):null,r=()=>{if(!e.disabled&&s.editable)return w("div",{class:["s-editable-cell-input-wrapper",{"disabled-icon":e.disabled||!e.check}],style:e.cellStyle.inputWrapper},[w(X,{value:s.value,"onUpdate:value":e=>s.value=e,size:i.componentSize?.value,class:"s-editable-cell-input",style:e.cellStyle.input,options:e.options,showArrow:e.showArrow,allowClear:e.allowClear,showSearch:e.showSearch,fieldNames:e.fieldNames,placeholder:e.placeholder,optionFilterProp:e.optionFilterProp,onChange:(e,l)=>(t("update:text",s.value),void t("change",z(s))),onFocus:e=>(e=>{t("focus",z(s)),e.stopPropagation()})(e),onBlur:e=>(e=>{t("blur",z(s)),e.stopPropagation()})(e)},null),w(n,null,null)]);const l=e.text,r=e.fieldNames.label||"label",d=e.fieldNames.value||"value",c=e.fieldNames.options||"options",p="string"==typeof l||"number"==typeof l?qe.takeTextByKey(e.options,l,r,d,c)||e.text:void 0;return w(Qe,{title:p||0===p?String(p):"",ellipsis:!0===e.tooltip.ellipsis,tooltip:!1!==e.tooltip.enable},{default:()=>[w("div",{style:e.cellStyle.textWrapper,class:["s-editable-cell-text-wrapper",{"disabled-icon":e.disabled||!e.edit}],onClick:l=>!e.disabled&&e.edit&&(l=>{s.editable=!0,s.value=e.text,t("update:status",!0),t("edit",z(s)),l.stopPropagation()})(l)},[a(),w(o,null,null)])]})},a=()=>{const t=e.text,n=e.fieldNames.label,o=e.fieldNames.value,r=e.fieldNames.options,a="string"==typeof t||"number"==typeof t,i=(l.editableCellText?l.editableCellText({text:e.text,...z(s)}):null)??(a&&qe.takeTextByKey(e.options,t,n,o,r)||e.text),d=e.empty;return i||0===i?i:d},i=q(),s=A({value:e.text,editable:!1});return T(()=>{e.disabled&&(s.editable=!1),e.disabled||(s.editable=e.opened)}),I(()=>e.text,()=>!e.disabled&&e.synced&&(s.value=e.text)),I(()=>e.status,()=>!e.disabled&&!1===e.status&&(s.editable=!1)),()=>w("div",{style:e.cellStyle.container,class:["s-editable-cell-container",{editabled:s.editable}],onDblclick:e=>e.stopPropagation(),onClick:e=>e.stopPropagation()},[w(r,null,null)])}});tt(".s-editable-cell-container {\n  width: 100%;\n  position: relative;\n}\n.s-editable-cell-container.editabled {\n  min-width: 90px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper {\n  position: relative;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-input {\n  width: 100%;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-button-check {\n  position: absolute;\n  top: 52%;\n  right: 2px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper {\n  width: 100%;\n  min-height: 20px;\n  position: relative;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  word-break: break-all;\n  overflow: hidden;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper > .s-editable-cell-button-edit {\n  position: absolute;\n  top: 52%;\n  right: 8px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n");const ot=x({name:"SEditCellTextarea",inheritAttrs:!1,props:{text:t().def(""),empty:t().def(""),edit:n().def(!0),check:n().def(!0),synced:n().def(!1),opened:n().def(!1),status:n().def(!1),tooltip:r().def(()=>({enable:!0,ellipsis:!1})),disabled:n().def(!1),autoSize:a([n(),r()]).def(!0),allowClear:n().def(!1),placeholder:t().def(),cellStyle:r().def(()=>({}))},emits:{edit:e=>!0,blur:e=>!0,focus:e=>!0,change:e=>!0,confirm:e=>!0,"update:status":e=>!0,"update:text":e=>!0},slots:{},setup(e,{emit:t,slots:l}){const n=e=>{d.editable=!1,t("confirm",z(d)),e.stopPropagation()},o=()=>!e.disabled&&e.check?w(Q,{class:"s-editable-cell-button-check",type:"link",icon:w(p,null,null),style:{...e.cellStyle.check},onClick:e=>n(e)},null):null,r=()=>!e.disabled&&e.edit?w(Q,{class:"s-editable-cell-button-edit",type:"link",icon:w(u,null,null),style:e.cellStyle.edit},null):null,a=()=>!e.disabled&&d.editable?w("div",{class:["s-editable-cell-input-wrapper",{"disabled-icon":e.disabled||!e.check}],style:e.cellStyle.inputWrapper},[w(_.TextArea,{value:d.value,"onUpdate:value":e=>d.value=e,size:s.componentSize?.value,class:"s-editable-cell-input",style:e.cellStyle.input,autoSize:e.autoSize,allowClear:e.allowClear,placeholder:e.placeholder,onPressEnter:e=>n(e),onChange:e=>(e=>{t("update:text",d.value),t("change",z(d)),e.stopPropagation()})(e),onFocus:e=>(e=>{t("focus",z(d)),e.stopPropagation()})(e),onBlur:e=>(e=>{t("blur",z(d)),e.stopPropagation()})(e)},null),w(o,null,null)]):w(Qe,{title:e.text?String(e.text):"",ellipsis:!0===e.tooltip.ellipsis,tooltip:!1!==e.tooltip.enable},{default:()=>[w("div",{style:e.cellStyle.textWrapper,class:["s-editable-cell-text-wrapper",{"disabled-icon":e.disabled||!e.edit}],onClick:l=>!e.disabled&&e.edit&&(l=>{d.editable=!0,d.value=e.text,t("update:status",!0),t("edit",z(d)),l.stopPropagation()})(l)},[i(),w(r,null,null)])]}),i=()=>{const t=(l.editableCellText?l.editableCellText({text:e.text,...z(d)}):null)??e.text,n=e.empty;return t||0===t?t:n},s=q(),d=A({value:e.text,editable:!1});return T(()=>{e.disabled&&(d.editable=!1),e.disabled||(d.editable=e.opened)}),I(()=>e.text,()=>!e.disabled&&e.synced&&(d.value=e.text)),I(()=>e.status,()=>!e.disabled&&!1===e.status&&(d.editable=!1)),()=>w("div",{style:e.cellStyle.container,class:["s-editable-cell-container",{editabled:d.editable}],onDblclick:e=>e.stopPropagation(),onClick:e=>e.stopPropagation()},[w(a,null,null)])}});tt(".s-editable-cell-container {\n  width: 100%;\n  position: relative;\n}\n.s-editable-cell-container.editabled {\n  min-width: 90px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper {\n  position: relative;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-input {\n  width: 100%;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-button-check {\n  position: absolute;\n  top: 52%;\n  right: 2px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper {\n  width: 100%;\n  min-height: 20px;\n  position: relative;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  word-break: break-all;\n  overflow: hidden;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper > .s-editable-cell-button-edit {\n  position: absolute;\n  top: 52%;\n  right: 8px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n");const rt=x({name:"SEditCellSelectIcon",inheritAttrs:!1,props:{text:t().def(""),empty:t().def(""),edit:n().def(!0),check:n().def(!0),synced:n().def(!1),opened:n().def(!1),status:n().def(!1),tooltip:r().def(()=>({enable:!0,ellipsis:!1})),disabled:n().def(!1),options:o().def(void 0),iconClass:e().def(void 0),iconStyle:r().def(void 0),iconPrefix:t().def(void 0),iconfontUrl:t().def(void 0),showArrow:n().def(!0),allowClear:n().def(!1),showSearch:n().def(!0),fieldNames:r().def(()=>({label:"label",value:"value",options:"options"})),placeholder:t().def(),optionLabelProp:t().def(),optionFilterProp:t().def(),cellStyle:r().def(()=>({}))},emits:{edit:e=>!0,blur:e=>!0,focus:e=>!0,change:e=>!0,confirm:e=>!0,"update:text":e=>!0,"update:status":e=>!0},slots:{},setup(e,{emit:t,slots:l}){const n=()=>!e.disabled&&e.check?w(Q,{class:"s-editable-cell-button-check",type:"link",icon:w(p,null,null),style:{...e.cellStyle.check},onClick:e=>(e=>{s.editable=!1,t("confirm",z(s)),e.stopPropagation()})(e)},null):null,o=()=>!e.disabled&&e.edit?w(Q,{class:"s-editable-cell-button-edit",type:"link",icon:w(u,null,null),style:e.cellStyle.edit},null):null,r=()=>{if(!e.disabled&&s.editable)return w("div",{class:["s-editable-cell-input-wrapper",{"disabled-icon":e.disabled||!e.check}],style:e.cellStyle.inputWrapper},[w(et,{value:s.value,"onUpdate:value":e=>s.value=e,size:i.componentSize?.value,class:"s-editable-cell-input",style:e.cellStyle.input,options:e.options,mode:"tags",multiple:!1,iconStyle:e.iconStyle,iconClass:e.iconClass,iconPrefix:e.iconPrefix,iconfontUrl:e.iconfontUrl,showArrow:e.showArrow,allowClear:e.allowClear,showSearch:e.showSearch,placeholder:e.placeholder,optionLabelProp:e.optionLabelProp,optionFilterProp:e.optionFilterProp,onChange:(e,l)=>(t("update:text",s.value),void t("change",z(s))),onFocus:e=>(e=>{t("focus",z(s)),e.stopPropagation()})(e),onBlur:e=>(e=>{t("blur",z(s)),e.stopPropagation()})(e)},null),w(n,null,null)]);const l=e.text,r=e.fieldNames.label||"label",d=e.fieldNames.value||"value",c=e.fieldNames.options||"options",p="string"==typeof l||"number"==typeof l?qe.takeTextByKey(e.options,l,r,d,c)||e.text:void 0;return w(Qe,{title:p||0===p?String(p):"",ellipsis:!0===e.tooltip.ellipsis,tooltip:!1!==e.tooltip.enable},{default:()=>[w("div",{style:e.cellStyle.textWrapper,class:["s-editable-cell-text-wrapper",{"disabled-icon":e.disabled||!e.edit}],onClick:l=>!e.disabled&&e.edit&&(l=>{s.editable=!0,s.value=e.text,t("update:status",!0),t("edit",z(s)),l.stopPropagation()})(l)},[a(),w(o,null,null)])]})},a=()=>{const t=e.text,n=e.iconClass,o=e.iconStyle,r=e.iconPrefix,a=e.iconfontUrl,i=e.fieldNames.label,d=e.fieldNames.value,c=e.fieldNames.options,p="string"==typeof t||"number"==typeof t,u=l.editableCellText?l.editableCellText({text:e.text,...z(s)}):null,f=p&&qe.takeTextByKey(e.options,t,i,d,c)||e.text,b=u??(Xe(f)||qe.isNonEmptyString(r)&&qe.isNonEmptyString(a)&&f.startsWith(r)?w("span",null,[w(_e,{type:f,iconPrefix:r,iconfontUrl:a,class:n,style:o??"margin-right: 5px;"},null),f]):f),h=e.empty;return b||0===b?b:h},i=q(),s=A({value:e.text,editable:!1});return T(()=>{e.disabled&&(s.editable=!1),e.disabled||(s.editable=e.opened)}),I(()=>e.text,()=>!e.disabled&&e.synced&&(s.value=e.text)),I(()=>e.status,()=>!e.disabled&&!1===e.status&&(s.editable=!1)),()=>w("div",{style:e.cellStyle.container,class:["s-editable-cell-container",{editabled:s.editable}],onDblclick:e=>e.stopPropagation(),onClick:e=>e.stopPropagation()},[w(r,null,null)])}});tt(".s-editable-cell-container {\n  width: 100%;\n  position: relative;\n}\n.s-editable-cell-container.editabled {\n  min-width: 90px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper {\n  position: relative;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-input {\n  width: 100%;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-button-check {\n  position: absolute;\n  top: 52%;\n  right: 2px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper {\n  width: 100%;\n  min-height: 20px;\n  position: relative;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  word-break: break-all;\n  overflow: hidden;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper > .s-editable-cell-button-edit {\n  position: absolute;\n  top: 52%;\n  right: 8px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n");const at=x({name:"SEditCellTreeSelect",props:{text:t().def(""),empty:t().def(""),edit:n().def(!0),check:n().def(!0),synced:n().def(!1),opened:n().def(!1),status:n().def(!1),tooltip:r().def(()=>({enable:!0,ellipsis:!1})),disabled:n().def(!1),treeData:o().def(()=>[]),showArrow:n().def(!0),allowClear:n().def(!1),showSearch:n().def(!1),fieldNames:r().def(()=>({label:"title",value:"value",children:"children"})),placeholder:t().def(),treeNodeFilterProp:t().def(),treeDefaultExpandAll:n().def(!0),cellStyle:r().def(()=>({}))},emits:{edit:e=>!0,blur:e=>!0,focus:e=>!0,change:e=>!0,confirm:e=>!0,"update:status":e=>!0,"update:text":e=>!0},slots:{},setup(e,{emit:t,slots:l}){const n=()=>!e.disabled&&e.check?w(Q,{class:"s-editable-cell-button-check",type:"link",icon:w(p,null,null),style:{...e.cellStyle.check},onClick:e=>(e=>{s.editable=!1,t("confirm",z(s)),e.stopPropagation()})(e)},null):null,o=()=>!e.disabled&&e.edit?w(Q,{class:"s-editable-cell-button-edit",type:"link",icon:w(u,null,null),style:e.cellStyle.edit},null):null,r=()=>{if(!e.disabled&&s.editable)return w("div",{class:["s-editable-cell-input-wrapper",{"disabled-icon":e.disabled||!e.check}],style:e.cellStyle.inputWrapper},[w(J,{value:s.value,"onUpdate:value":e=>s.value=e,size:i.componentSize?.value,class:"s-editable-cell-input",style:e.cellStyle.input,treeData:e.treeData,showArrow:e.showArrow,allowClear:e.allowClear,showSearch:e.showSearch,fieldNames:e.fieldNames,placeholder:e.placeholder,treeNodeFilterProp:e.treeNodeFilterProp,treeDefaultExpandAll:e.treeDefaultExpandAll,dropdownStyle:{maxHeight:"400px",overflow:"auto",padding:"0 18px 0 0",...e.cellStyle.dropdown},onChange:e=>(t("update:text",s.value),void t("change",z(s))),onFocus:e=>(e=>{t("focus",z(s)),e.stopPropagation()})(e),onBlur:e=>(e=>{t("blur",z(s)),e.stopPropagation()})(e)},null),w(n,null,null)]);const l=e.text,r=e.fieldNames.label||"label",d=e.fieldNames.value||"value",c=e.fieldNames.children||"children",p="string"==typeof l||"number"==typeof l?qe.takeTextByKey(e.treeData,l,r,d,c)||e.text:void 0;return w(Qe,{title:p||0===p?String(p):"",ellipsis:!0===e.tooltip.ellipsis,tooltip:!1!==e.tooltip.enable},{default:()=>[w("div",{style:e.cellStyle.textWrapper,class:["s-editable-cell-text-wrapper",{"disabled-icon":e.disabled||!e.edit}],onClick:l=>!e.disabled&&e.edit&&(l=>{s.editable=!0,s.value=e.text,t("update:status",!0),t("edit",z(s)),l.stopPropagation()})(l)},[a(),w(o,null,null)])]})},a=()=>{const t=e.text,n=e.fieldNames.label,o=e.fieldNames.value,r=e.fieldNames.children,a="string"==typeof t||"number"==typeof t,i=(l.editableCellText?l.editableCellText({text:e.text,...z(s)}):null)??(a&&qe.takeTextByKey(e.treeData,t,n,o,r)||e.text),d=e.empty;return i||0===i?i:d},i=q(),s=A({value:e.text,editable:!1});return T(()=>{e.disabled&&(s.editable=!1),e.disabled||(s.editable=e.opened)}),I(()=>e.text,()=>!e.disabled&&e.synced&&(s.value=e.text)),I(()=>e.status,()=>!e.disabled&&!1===e.status&&(s.editable=!1)),()=>w("div",{style:e.cellStyle.container,class:["s-editable-cell-container",{editabled:s.editable}],onDblclick:e=>e.stopPropagation(),onClick:e=>e.stopPropagation()},[w(r,null,null)])}});tt(".s-editable-cell-container {\n  width: 100%;\n  position: relative;\n}\n.s-editable-cell-container.editabled {\n  min-width: 90px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper {\n  position: relative;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-input {\n  width: 100%;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-button-check {\n  position: absolute;\n  top: 52%;\n  right: 2px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper {\n  width: 100%;\n  min-height: 20px;\n  position: relative;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  word-break: break-all;\n  overflow: hidden;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper > .s-editable-cell-button-edit {\n  position: absolute;\n  top: 52%;\n  right: 8px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n");const it=x({name:"SEditCellDatePicker",inheritAttrs:!1,props:{mode:t().def("date"),picker:t().def("date"),format:t().def(),showTime:n().def(!1),valueFormat:t().def(),inputReadOnly:n().def(!1),empty:t().def(""),text:t().def(""),edit:n().def(!0),check:n().def(!0),synced:n().def(!1),opened:n().def(!1),status:n().def(!1),tooltip:r().def(()=>({enable:!0,ellipsis:!1})),disabled:n().def(!1),allowClear:n().def(!1),placeholder:t().def(),cellStyle:r().def(()=>({}))},emits:{edit:e=>!0,blur:e=>!0,focus:e=>!0,change:e=>!0,confirm:e=>!0,"update:status":e=>!0,"update:text":e=>!0},slots:{},setup(e,{emit:t,slots:l}){const n=e=>e?we(e):null,o=l=>{c.value=(t=>t?we(t).format(e.valueFormat||e.format||(!0===e.showTime?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD")):"")(c.date),t("update:text",c.value),t("change",z(c))},r=()=>!e.disabled&&e.check?w(Q,{class:"s-editable-cell-button-check",type:"link",icon:w(p,null,null),style:{...e.cellStyle.check},onClick:e=>(e=>{c.editable=!1,t("confirm",z(c)),e.stopPropagation()})(e)},null):null,a=()=>!e.disabled&&e.edit?w(Q,{class:"s-editable-cell-button-edit",type:"link",icon:w(u,null,null),style:e.cellStyle.edit},null):null,i=()=>!e.disabled&&c.editable?w("div",{class:["s-editable-cell-input-wrapper",{"disabled-icon":e.disabled||!e.check}],style:e.cellStyle.inputWrapper},[w(Z,{value:c.date,"onUpdate:value":e=>c.date=e,size:d.componentSize?.value,class:"s-editable-cell-input",style:e.cellStyle.input,mode:e.mode,picker:e.picker,format:e.format,allowClear:e.allowClear,valueFormat:e.valueFormat,placeholder:e.placeholder,inputReadOnly:e.inputReadOnly,onChange:e=>o(),onFocus:e=>(e=>{t("focus",z(c)),e.stopPropagation()})(e),onBlur:e=>(e=>{t("blur",z(c)),e.stopPropagation()})(e)},null),w(r,null,null)]):w(Qe,{title:e.text?String(e.text):"",ellipsis:!0===e.tooltip.ellipsis,tooltip:!1!==e.tooltip.enable},{default:()=>[w("div",{style:e.cellStyle.textWrapper,class:["s-editable-cell-text-wrapper",{"disabled-icon":e.disabled||!e.edit}],onClick:l=>!e.disabled&&e.edit&&(l=>{c.editable=!0,c.value=e.text,c.date=n(e.text),t("update:status",!0),t("edit",z(c)),l.stopPropagation()})(l)},[s(),w(a,null,null)])]}),s=()=>{const t=(l.editableCellText?l.editableCellText({text:e.text,...z(c)}):null)??e.text,n=e.empty;return t||0===t?t:n},d=q(),c=A({date:n(e.text),value:e.text,editable:!1});return T(()=>{e.disabled&&(c.editable=!1),e.disabled||(c.editable=e.opened)}),I(()=>e.text,()=>!e.disabled&&e.synced&&(c.value=e.text)),I(()=>e.text,()=>!e.disabled&&e.synced&&(c.date=n(e.text))),I(()=>e.status,()=>!e.disabled&&!1===e.status&&(c.editable=!1)),()=>w("div",{style:e.cellStyle.container,class:["s-editable-cell-container",{editabled:c.editable}],onDblclick:e=>e.stopPropagation(),onClick:e=>e.stopPropagation()},[w(i,null,null)])}});tt(".s-editable-cell-container {\n  width: 100%;\n  position: relative;\n}\n.s-editable-cell-container.editabled {\n  min-width: 90px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper {\n  position: relative;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-input {\n  width: 100%;\n}\n.s-editable-cell-container .s-editable-cell-input-wrapper > .s-editable-cell-button-check {\n  position: absolute;\n  top: 52%;\n  right: 2px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper {\n  width: 100%;\n  min-height: 20px;\n  position: relative;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  word-break: break-all;\n  overflow: hidden;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper:not(.disabled-icon) {\n  padding-right: 24px;\n  cursor: pointer;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper.disabled-icon {\n  padding-right: 5px;\n}\n.s-editable-cell-container .s-editable-cell-text-wrapper > .s-editable-cell-button-edit {\n  position: absolute;\n  top: 52%;\n  right: 8px;\n  width: 20px;\n  transform: translateY(-50%);\n  cursor: pointer;\n  border: none;\n}\n");const st=x({name:"SEditCellAutoComplete",inheritAttrs:!1,props:{text:t().def(""),empty:t().def(""),edit:n().def(!0),check:n().def(!0),synced:n().def(!1),opened:n().def(!1),status:n().def(!1),tooltip:r().def(()=>({enable:!0,ellipsis:!1})),disabled:n().def(!1),options:o().def(()=>[]),allowClear:n().def(!1),placeholder:t().def(),filterOption:e().def(),cellStyle:r().def(()=>({}))},emits:{edit:e=>!0,blur:e=>!0,focus:e=>!0,change:e=>!0,confirm:e=>!0,"update:text":e=>!0,"update:status":e=>!0},slots:{},setup(e,{emit:t,slots:l}){const n=()=>!e.disabled&&e.check?w(Q,{class:"s-editable-cell-button-check",type:"link",icon:w(p,null,null),style:{...e.cellStyle.check},onClick:e=>(e=>{s.editable=!1,t("confirm",z(s)),e.stopPropagation()})(e)},null):null,o=()=>!e.disabled&&e.edit?w(Q,{class:"s-editable-cell-button-edit",type:"link",icon:w(u,null,null),style:e.cellStyle.edit},null):null,r=()=>!e.disabled&&s.editable?w("div",{class:["s-editable-cell-input-wrapper",{"disabled-icon":e.disabled||!e.check}],style:e.cellStyle.inputWrapper},[w(ee,{value:s.value,"onUpdate:value":e=>s.value=e,size:i.componentSize?.value,class:"s-editable-cell-input",style:e.cellStyle.input,options:e.options,allowClear:e.allowClear,placeholder:e.placeholder,filterOption:e.filterOption,onChange:e=>(t("update:text",s.value),void t("change",z(s))),onFocus:e=>(e=>{t("focus",z(s)),e.stopPropagation()})(e),onBlur:e=>(e=>{t("blur",z(s)),e.stopPropagation()})(e)},null),w(n,null,null)]):w(Qe,{title:e.text?String(e.text):"",ellipsis:!0===e.tooltip.ellipsis,tooltip:!1!==e.tooltip.enable},{default:()=>[w("div",{style:e.cellStyle.textWrapper,class:["s-editable-cell-text-wrapper",{"disabled-icon":e.disabled||!e.edit}],onClick:l=>!e.disabled&&e.edit&&(l=>{s.editable=!0,s.value=e.text,t("update:status",!0),t("edit",z(s)),l.stopPropagation()})(l)},[a(),w(o,null,null)])]}),a=()=>{const t=(l.editableCellText?l.editableCellText({text:e.text,...z(s)}):null)??e.text,n=e.empty;return t||0===t?t:n},i=q(),s=A({value:e.text,editable:!1});return T(()=>{e.disabled&&(s.editable=!1),e.disabled||(s.editable=e.opened)}),I(()=>e.text,()=>!e.disabled&&e.synced&&(s.value=e.text)),I(()=>e.status,()=>!e.disabled&&!1===e.status&&(s.editable=!1)),()=>w("div",{style:e.cellStyle.container,class:["s-editable-cell-container",{editabled:s.editable}],onDblclick:e=>e.stopPropagation(),onClick:e=>e.stopPropagation()},[w(r,null,null)])}});tt(".s-form-container {\n  width: 100%;\n  height: auto;\n}\n.s-form-container .s-form-group-container {\n  width: 100%;\n  height: auto;\n}\n.s-form-container .s-form-group-container > .s-form-group-item-header[border='no'] {\n  border-bottom: none;\n}\n.s-form-container .s-form-group-container > .s-form-group-item-header {\n  display: flex;\n  width: 100%;\n  padding-left: 5px;\n  margin: 12px 0;\n  line-height: 30px;\n  font-size: 13px;\n  color: #303133;\n  border-bottom: dashed 1px #e8e8e8;\n}\n.s-form-container .s-form-group-container > .s-form-group-item-header > .s-form-group-item-header-title {\n  flex: 1 1 auto;\n  font-size: 14px;\n  font-weight: 600;\n  color: #808399;\n  padding-left: 8px;\n  line-height: 32px;\n}\n.s-form-container .s-form-group-container > .s-form-group-item-content {\n  padding: 0 3px;\n  margin-bottom: 10px;\n}\n.s-form-container .s-form-group-container > .s-form-group-item-content .s-form-group-item-template {\n  width: 100%;\n  height: auto;\n}\n.s-form-container .s-form-group-container > .s-form-group-item-content .s-form-group-item-template .ant-form-item-explain > * {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n"),we.extend(ke),we.extend(Se),we.extend(Ce),we.extend(Ne),we.extend(Te),we.extend(Ae),we.extend(Ie),we.extend(ze);const dt={ARate:{type:"ARate",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:void 0},transfer:{input:(e,{helper:t})=>void 0!==e?e&&t.isFiniteNumber(+e)?+e:0:void 0,output:(e,{helper:t})=>void 0!==e?e&&t.isFiniteNumber(+e)?+e:0:void 0},readonly:!1,disabled:!1,render:!0,show:!0},AInput:{type:"AInput",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:void 0},transfer:{input:(e,{helper:t})=>void 0!==e?t.isPrimitive(e)?String(e):"":void 0,output:(e,{helper:t})=>void 0!==e?t.isPrimitive(e)?String(e):"":void 0},readonly:!1,disabled:!1,render:!0,show:!0},ASwitch:{type:"ASwitch",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:({self:e})=>void 0!==e.props.unCheckedValue?e.props.unCheckedValue:void 0,output:({self:e})=>void 0!==e.props.unCheckedValue?e.props.unCheckedValue:void 0},transfer:{input:(e,{self:t})=>void 0!==e?e===t.props.checkedValue||e===t.props.unCheckedValue?e:void 0!==t.props.unCheckedValue?t.props.unCheckedValue:!0===e:void 0,output:(e,{self:t})=>void 0!==e?e===t.props.checkedValue||e===t.props.unCheckedValue?e:void 0!==t.props.unCheckedValue?t.props.unCheckedValue:!0===e:void 0},readonly:!1,disabled:!1,render:!0,show:!0},ASlider:{type:"ASlider",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:({self:e})=>!0===e.props.range?[]:void 0,output:({self:e})=>!0===e.props.range?[]:void 0},transfer:{input:(e,{helper:t,self:l})=>!0===l.props.range?t.isArray(e)?e.filter((e,t)=>t<2).map(e=>void 0!==e?t.isFiniteNumber(e)?e:0:void 0):[]:void 0!==e?t.isFiniteNumber(e)?e:0:void 0,output:(e,{helper:t,self:l})=>!0===l.props.range?t.isArray(e)?e.filter((e,t)=>t<2).map(e=>void 0!==e?t.isFiniteNumber(e)?e:0:void 0):[]:void 0!==e?t.isFiniteNumber(e)?e:0:void 0},readonly:!1,disabled:!1,render:!0,show:!0},ASelect:{type:"ASelect",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:({self:e})=>["multiple","tags"].includes(e.props.mode)?[]:void 0,output:({self:e})=>["multiple","tags"].includes(e.props.mode)?[]:void 0},transfer:{input:(e,{helper:t,self:l})=>["multiple","tags"].includes(l.props.mode)?t.isArray(e)?e.filter(e=>t.isPrimitive(e)):t.isPrimitive(e)?[e]:[]:t.isPrimitive(e)?e:void 0,output:(e,{helper:t,self:l})=>["multiple","tags"].includes(l.props.mode)?t.isArray(e)?e.filter(e=>t.isPrimitive(e)):t.isPrimitive(e)?[e]:[]:t.isPrimitive(e)?e:void 0},readonly:!1,disabled:!1,render:!0,show:!0},ACascader:{type:"ACascader",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:[],output:[]},transfer:{input:(e,{helper:t})=>t.isArray(e)?e.filter(e=>t.isPrimitive(e)):[],output:(e,{helper:t})=>t.isArray(e)?e.filter(e=>t.isPrimitive(e)):[]},readonly:!1,disabled:!1,render:!0,show:!0},ATreeSelect:{type:"ATreeSelect",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:({self:e})=>!0===e.props.multiple?[]:void 0,output:({self:e})=>!0===e.props.multiple?[]:void 0},transfer:{input:(e,{helper:t,self:l})=>!0===l.props.multiple?t.isArray(e)?e.filter(e=>t.isPrimitive(e)):t.isPrimitive(e)?[e]:[]:t.isPrimitive(e)?e:void 0,output:(e,{helper:t,self:l})=>!0===l.props.multiple?t.isArray(e)?e.filter(e=>t.isPrimitive(e)):t.isPrimitive(e)?[e]:[]:t.isPrimitive(e)?e:void 0},readonly:!1,disabled:!1,render:!0,show:!0},ARadioGroup:{type:"ARadioGroup",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:void 0},transfer:{input:(e,{helper:t})=>t.isPrimitive(e)?e:void 0,output:(e,{helper:t})=>t.isPrimitive(e)?e:void 0},readonly:!1,disabled:!1,render:!0,show:!0},ACheckboxGroup:{type:"ACheckboxGroup",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:[],output:[]},transfer:{input:(e,{helper:t})=>t.isArray(e)?e.filter(e=>t.isPrimitive(e)):[],output:(e,{helper:t})=>t.isArray(e)?e.filter(e=>t.isPrimitive(e)):[]},readonly:!1,disabled:!1,render:!0,show:!0},AAutoComplete:{type:"AAutoComplete",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:void 0},transfer:{input:(e,{helper:t})=>t.isPrimitive(e)?String(e):void 0,output:(e,{helper:t})=>t.isPrimitive(e)?String(e):void 0},readonly:!1,disabled:!1,render:!0,show:!0},AInputSearch:{type:"AInputSearch",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:void 0},transfer:{input:(e,{helper:t})=>t.isPrimitive(e)?String(e):void 0,output:(e,{helper:t})=>t.isPrimitive(e)?String(e):void 0},readonly:!1,disabled:!1,render:!0,show:!0},AInputPassword:{type:"AInputPassword",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:void 0},transfer:{input:(e,{helper:t})=>t.isPrimitive(e)?String(e):void 0,output:(e,{helper:t})=>t.isPrimitive(e)?String(e):void 0},readonly:!1,disabled:!1,render:!0,show:!0},AInputTextarea:{type:"AInputTextarea",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:void 0},transfer:{input:(e,{helper:t})=>t.isPrimitive(e)?String(e):void 0,output:(e,{helper:t})=>t.isPrimitive(e)?String(e):void 0},readonly:!1,disabled:!1,render:!0,show:!0},AInputNumber:{type:"AInputNumber",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:void 0},transfer:{input:(e,{helper:t})=>t.isFiniteNumber(+e)?+e:void 0,output:(e,{helper:t})=>t.isFiniteNumber(+e)?+e:void 0},readonly:!1,disabled:!1,render:!0,show:!0},ARangePicker:{type:"ARangePicker",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:[],output:[]},transfer:{input:(e,{helper:t,self:l})=>{const n=t.isArray(e)?e:[],o=l.props.valueFormat||(!0===l.props.showTime?"YYYY-M-D H:m:s":"YYYY-M-D");return n.map(e=>void 0!==e?e instanceof Date&&we(e).isValid()?we(e):we(e,o).isValid()?we(e,o):void 0:void 0)},output:(e,{helper:t,self:l})=>{const n=t.isArray(e)?e:[],o=l.props.valueFormat||(!0===l.props.showTime?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD");return n.map(e=>void 0!==e?"string"!=typeof e&&we(e).isValid()?we(e).format(o):"string"==typeof e?e:"":void 0)}},readonly:!1,disabled:!1,render:!0,show:!0},ADatePicker:{type:"ADatePicker",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:""},transfer:{input:(e,{self:t})=>{if(void 0===e)return;const l=t.props.showTime,n=t.props.valueFormat||(!0===l?"YYYY-M-D H:m:s":"YYYY-M-D");return e instanceof Date&&we(e).isValid()?we(e):we(e,n).isValid()?we(e,n):void 0},output:(e,{self:t})=>{if(void 0===e)return;const l=t.props.showTime,n=t.props.valueFormat||(!0===l?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD");return"string"!=typeof e&&we(e).isValid()?we(e).format(n):"string"==typeof e?e:""}},readonly:!1,disabled:!1,render:!0,show:!0},AYearPicker:{type:"AYearPicker",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:""},transfer:{input:(e,{self:t})=>{if(void 0===e)return;const l=t.props.valueFormat||"YYYY";return e instanceof Date&&we(e).isValid()?we(e):we(e,l).isValid()?we(e,l):void 0},output:(e,{self:t})=>{if(void 0===e)return;const l=t.props.valueFormat||"YYYY";return"string"!=typeof e&&we(e).isValid()?we(e).format(l):"string"==typeof e?e:""}},readonly:!1,disabled:!1,render:!0,show:!0},AMonthPicker:{type:"AMonthPicker",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:""},transfer:{input:(e,{self:t})=>{if(void 0===e)return;const l=t.props.valueFormat||"YYYY-M";return e instanceof Date&&we(e).isValid()?we(e):we(e,l).isValid()?we(e,l):void 0},output:(e,{self:t})=>{if(void 0===e)return;const l=t.props.valueFormat||"YYYY-MM";return"string"!=typeof e&&we(e).isValid()?we(e).format(l):"string"==typeof e?e:""}},readonly:!1,disabled:!1,render:!0,show:!0},AQuarterPicker:{type:"AQuarterPicker",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:""},transfer:{input:(e,{self:t})=>{if(void 0===e)return;const l=t.props.valueFormat;if(e instanceof Date&&we(e).isValid())return we(e);if(l&&we(e,l).isValid())return we(e,l);const n=/^(\d{4})-(\d{1,2})$/,o=we("string"==typeof e?e.replace(n,"$1"):e||null);return o&&o.isValid()?"string"==typeof e?o.quarter(+e.replace(n,"$2")):o:void 0},output:(e,{self:t})=>{if(void 0===e)return;const l=t.props.valueFormat||"YYYY-Q";return"string"!=typeof e&&we(e).isValid()?we(e).format(l):"string"==typeof e?e:""}},readonly:!1,disabled:!1,render:!0,show:!0},AWeekPicker:{type:"AWeekPicker",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:""},transfer:{input:(e,{self:t})=>{if(void 0===e)return;const l=t.props.valueFormat;if(e instanceof Date&&we(e).isValid())return we(e);if(l&&we(e,l).isValid())return we(e,l);const n=/^(\d{4})-(\d{1,2})$/,o=we("string"==typeof e?e.replace(n,"$1"):e||null);return o&&o.isValid()?"string"==typeof e?o.week(+e.replace(n,"$2")):o:void 0},output:(e,{self:t})=>{if(void 0===e)return;const l=t.props.valueFormat||"YYYY-ww";return"string"!=typeof e&&we(e).isValid()?we(e).format(l):"string"==typeof e?e:""}},readonly:!1,disabled:!1,render:!0,show:!0},ATimePicker:{type:"ATimePicker",slot:"",label:"",field:[],grid:{},layer:{},rules:void 0,props:{},slots:{},default:{input:void 0,output:""},transfer:{input:(e,{self:t})=>{if(void 0===e)return;const l=t.props.use12Hours,n=t.props.valueFormat||(!0===l?"h:m:s a":"H:m:s");return e instanceof Date&&we(e).isValid()?we(e):we(e,n).isValid()?we(e,n):void 0},output:(e,{self:t})=>{if(void 0===e)return;const l=t.props.use12Hours,n=t.props.valueFormat||(!0===l?"hh:mm:ss a":"HH:mm:ss");return"string"!=typeof e&&we(e).isValid()?we(e).format(n):"string"==typeof e?e:""}},readonly:!1,disabled:!1,render:!0,show:!0}};tt(".s-form-container .ant-select.ant-select-disabled .ant-select-selection-overflow-item-suffix,\n.s-form-container .ant-tree-select.ant-select-disabled .ant-select-selection-overflow-item-suffix,\n.s-form-container .ant-select.ant-select-multiple.ant-select-disabled .ant-select-selection-overflow-item-suffix,\n.s-form-container .ant-tree-select.ant-select-multiple.ant-select-disabled .ant-select-selection-overflow-item-suffix {\n  display: none;\n}\n.s-form-container .ant-input,\n.s-form-container .ant-select,\n.s-form-container .ant-picker,\n.s-form-container .ant-input-number,\n.s-form-container .ant-input-number-affix-wrapper {\n  width: 100%;\n}\n.s-form-container [off-disabled],\n.s-form-container [off-disabled] * {\n  cursor: default !important;\n  pointer-events: none;\n}\n");const ct={ARate:se,AInput:_,ASwitch:ie,ASelect:X,ASlider:ae,ACascader:re,ATreeSelect:J,ARadioGroup:le.Group,AAutoComplete:ee,AInputNumber:oe,AInputSearch:_.Search,ACheckboxGroup:te.Group,AInputPassword:_.Password,AInputTextarea:_.TextArea,ARangePicker:Z.RangePicker,AYearPicker:Z.YearPicker,AMonthPicker:Z.MonthPicker,AQuarterPicker:Z.QuarterPicker,AWeekPicker:Z.WeekPicker,ADatePicker:Z,ATimePicker:ne},pt=x({name:"SFormComponent",inheritAttrs:!1,props:{type:t().isRequired,disabled:n().isRequired,readonly:n().isRequired,source:r().isRequired,field:t().isRequired,attrs:r().isRequired},setup(e,t){const l=C("component");return()=>{const n=e.type,o=e.field,r=e.source,a=e.disabled,i=e.readonly,s=ct[n];let d={};return"ASwitch"===n&&(d={checked:r[o],"onUpdate:checked":e=>{r[o]=e},...e.attrs},d.size="small"!==d.size?"default":"small"),"ARadioGroup"!==n&&"ACheckboxGroup"!==n||(d={value:r[o],"onUpdate:value":e=>{r[o]=e},...e.attrs},d.size="middle"!==d.size?d.size:"default"),"ASwitch"!==n&&"ARadioGroup"!==n&&"ACheckboxGroup"!==n&&(d={value:r[o],"onUpdate:value":e=>{r[o]=e},...e.attrs}),("AQuarterPicker"===n||"ADatePicker"===n&&"quarter"===d.picker||"ARangePicker"===n&&"quarter"===d.picker)&&(d.valueFormat=d.valueFormat??"YYYY-Q",d.format=d.format??"YYYY-Q"),("AMonthPicker"===n||"ADatePicker"===n&&"month"===d.picker||"ARangePicker"===n&&"month"===d.picker)&&(d.valueFormat=d.valueFormat??"YYYY-MM",d.format=d.format??"YYYY-MM"),("AYearPicker"===n||"ADatePicker"===n&&"year"===d.picker||"ARangePicker"===n&&"year"===d.picker)&&(d.valueFormat=d.valueFormat??"YYYY",d.format=d.format??"YYYY"),("AWeekPicker"===n||"ADatePicker"===n&&"week"===d.picker||"ARangePicker"===n&&"week"===d.picker)&&(d.valueFormat=d.valueFormat??"YYYY-ww",d.format=d.format??"YYYY-ww"),"ADatePicker"!==n&&"ARangePicker"!==n||(d.valueFormat=d.valueFormat??(!0===d.showTime?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD"),d.format=d.format??(!0===d.showTime?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD")),"ATimePicker"===n&&(d.valueFormat=d.valueFormat??(!0===d.use12Hours?"h:mm:ss a":"HH:mm:ss"),d.format=d.format??(!0===d.use12Hours?"h:mm:ss a":"HH:mm:ss")),i&&!a&&P(()=>{const e=l.value?.querySelectorAll('[disabled],[class*="-disabled"]');e?.forEach(e=>{if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement){for(const t of Array.from(e.classList))/-disabled(\b|$)/.test(t)&&e.classList.remove(t);e.hasAttribute("disabled")&&e.removeAttribute("disabled")}})}),w("div",{ref:"component",style:"display: inherit; display: contents;"},[s?R(s,d,t.slots):null])}}}),ut=e=>e,ft=e=>S(e),bt=e=>S(e),ht={password(e){const t=e.message,l=e.pattern,n=e.validator;return qe.isString(n)&&(qe.isRegExp(l)||Object.assign(e,{pattern:/.{6,}/iu}),e.validator=(e,l)=>l||0===l||!0===e.required?l||0===l||!0!==e.required?e.pattern?.test(l)?Promise.resolve():Promise.reject(new Error(n||t||"密码过短")):Promise.reject(new Error(t||"密码为必填项")):Promise.resolve(),Object.assign(e,{message:void 0})),e},number(e){const t=e.message,l=e.pattern,n=e.validator;return qe.isString(n)&&(qe.isRegExp(l)||Object.assign(e,{pattern:/^[+-]?\d+\.?\d*$/i}),e.validator=(e,l)=>l||0===l||!0===e.required?l||0===l||!0!==e.required?e.pattern?.test(l)?Promise.resolve():Promise.reject(new Error(n||t||"格式有误")):Promise.reject(new Error(t||"该项为必填项")):Promise.resolve(),Object.assign(e,{message:void 0})),e}};const gt=x({name:"SForm",inheritAttrs:!1,props:{rules:{type:Object,default:()=>({})},grid:r().def(()=>({})),border:e().def(!1),groups:o().def(()=>[]),modelValue:r().def(()=>{}),model:r().def(()=>{}),disabled:n().def(!1),readonly:n().def(!1),spinning:n().def(!1)},slots:{},setup(e,t){const l=(e,t)=>{const l=t.oldModel,n=t.newModel,o=t.refModel,r=qe.isFunction(e.default.input)?e.default.input({helper:qe,self:O(e)}):e.default.input;let a=t.first,i=l,s=n,d=o.value;for(const[c,p]of e.field.entries())i=c===e.field.length-1||qe.isObject(i?.[p])?i?.[p]:void 0,s=c===e.field.length-1||qe.isObject(s?.[p])?s?.[p]:void 0,a||(a=c<e.field.length-1?!qe.isObject(i)||!qe.isObject(s):!qe.deepEqual(i,s)),c<e.field.length-1&&(d=d[p]=qe.isObject(d[p])?d[p]:{}),c===e.field.length-1&&(d[p]=a?void 0!==s?s:r:d[p],d[p]=a?e.transfer.input(d[p],{helper:qe,self:O(e)}):d[p])},n=(e,t)=>{const l=t.refModel,n=t.syncModel,o=qe.isFunction(e.default.output)?e.default.output({helper:qe,self:O(e)}):e.default.output;let r=K(l),a=n;for(const[i,s]of e.field.entries())if(i<e.field.length-1&&(a=qe.isObject(a?.[s])?a[s]:a[s]={},r=qe.isObject(r?.[s])?r[s]:r[s]={}),i===e.field.length-1){const t=z(a[s]),l=z(void 0!==r?.[s]?r[s]:o),n=e.transfer.output(l,{helper:qe,self:O(e)});qe.deepEqual(t,n)||(a[s]=n),void 0===a[s]&&(a[s]=void 0)}},o=C("form"),r=S(!0),a=E([]),i=E({}),s=S({}),d=S([]),c=(e,t)=>{const l=e.group,n=K(l.border)??e.border,o=[K(e.disabled),K(l.disabled)].includes(!0),r=[K(e.readonly),K(l.readonly)].includes(!0),a=t.slots[`s-header-${l.slot.replace(/^s-header-/,"")}`],i={border:!1!==n&&"no"!==n?void 0:"no"};return l.label||l.slot?w("div",k({class:"s-form-group-item-header"},i),[a?a({className:"s-form-group-item-header-title",group:l,disabled:o,readonly:r}):w("div",{class:"s-form-group-item-header-title"},[l.label])]):w("div",null,null)},p=(e,t)=>{const l=(t,l,n)=>{const o=[K(e.disabled),K(n.disabled),K(l.disabled),qe.isBoolean(K(t.props.disabled))?K(t.props.disabled):K(t.disabled)].includes(!0),r=[K(e.readonly),K(n.readonly),K(l.readonly),qe.isBoolean(K(t.props.readonly))?K(t.props.readonly):K(t.readonly)].includes(!0);return{...t.layer,disabled:r||o,"off-disabled":r&&!o||void 0}};return w("div",{class:"s-form-group-item-content"},[e.group.items.filter(e=>e.items.some(e=>K(e.render))).map(n=>{let o;return F(w(pe,((t,l)=>({type:t.grid.type||l.grid.type||e.grid.type,align:t.grid.align||l.grid.align||e.grid.align,gutter:t.grid.gutter||l.grid.gutter||e.grid.gutter,justify:t.grid.justify||l.grid.justify||e.grid.justify}))(n,e.group),"function"==typeof(r=o=n.items.filter(e=>K(e.render)).map(o=>{const r=e.group,a=[K(e.disabled),K(r.disabled),K(n.disabled),qe.isBoolean(K(o.props.disabled))?K(o.props.disabled):K(o.disabled)].includes(!0),i=[K(e.readonly),K(r.readonly),K(n.readonly),qe.isBoolean(K(o.props.readonly))?K(o.props.readonly):K(o.readonly)].includes(!0),s=t.slots[`s-component-${o.slot.replace(/^s-component-/,"")}`],d=q(),c=o.type,p=o.slots,u=((t,l,n)=>{const o=[K(e.disabled),K(n.disabled),K(l.disabled),qe.isBoolean(K(t.props.disabled))?K(t.props.disabled):K(t.disabled)].includes(!0);return{disabled:[K(e.readonly),K(n.readonly),K(l.readonly),qe.isBoolean(K(t.props.readonly))?K(t.props.readonly):K(t.readonly)].includes(!0)||o}})(o,n,r),f=Object.fromEntries(Object.entries({size:d.componentSize?.value,...o.props,...u}).map(([e,t])=>[e,K(t)])),b=o.field.slice(0,-1).reduce((e,t)=>e[t],e.model),h=o.field[o.field.length-1];return F(w(ue,((t,l,n)=>({span:t.grid.span||l.grid.span||n.grid.span||e.grid.span,pull:t.grid.pull||l.grid.pull||n.grid.pull||e.grid.pull,push:t.grid.push||l.grid.push||n.grid.push||e.grid.push,flex:t.grid.flex||l.grid.flex||n.grid.flex||e.grid.flex,order:t.grid.order||l.grid.order||n.grid.order||e.grid.order,offset:t.grid.offset||l.grid.offset||n.grid.offset||e.grid.offset,xxxl:t.grid.xxxl||l.grid.xxxl||n.grid.xxxl||e.grid.xxxl,xxl:t.grid.xxl||l.grid.xxl||n.grid.xxl||e.grid.xxl,xl:t.grid.xl||l.grid.xl||n.grid.xl||e.grid.xl,lg:t.grid.lg||l.grid.lg||n.grid.lg||e.grid.lg,md:t.grid.md||l.grid.md||n.grid.md||e.grid.md,sm:t.grid.sm||l.grid.sm||n.grid.sm||e.grid.sm,xs:t.grid.xs||l.grid.xs||n.grid.xs||e.grid.xs}))(o,n,r),{default:()=>[w(fe,k(l(o,n,r),{class:"s-form-group-item-template",rules:o.layer.rules||o.rules,label:o.layer.label||o.label,name:o.layer.name||o.field}),{default:()=>[s?s({col:o,row:n,group:r,attrs:f,slots:p,disabled:a,readonly:i,source:b,field:h}):w(pt,{type:c,attrs:f,disabled:a,readonly:i,source:b,field:h},p)]})]}),[[L,K(o.show)]])}))||"[object Object]"===Object.prototype.toString.call(r)&&!M(r)?o:{default:()=>[o]}),[[L,n.items.some(e=>K(e.show))]]);var r})])},u=(e,t)=>w("div",null,[e.groups.filter(e=>K(e.render)).map(l=>F(w("div",{class:"s-form-group-container"},[w(c,{group:l,grid:e.grid,model:e.model,border:e.border,readonly:e.readonly,disabled:e.disabled},t.slots),w(p,{group:l,grid:e.grid,model:e.model,readonly:e.readonly,disabled:e.disabled},t.slots)]),[[L,K(l.show)]]))]);return I(s,()=>{const t=e.modelValue,l=K(t);if(l)for(const e of a.value)qe.isNonEmptyArray(e.field)&&n(e,{syncModel:l,refModel:s})},{deep:!0}),T(()=>{const t=e.modelValue||e.model||{},n=e.groups,o=i.value;i.value=qe.deepClone(t),d.value=(e=>{const t=[];let l={type:"AGroup",grid:{},slot:"",label:"",field:"",items:[],readonly:!1,disabled:!1,render:!0,show:!0},n={type:"ARow",grid:{},items:[],readonly:!1,disabled:!1};for(const o of e)if("AGroup"===o.type&&(l={type:"AGroup",grid:o.grid||l.grid||{},slot:o.slot||"",label:o.label||"",field:o.field||"",items:[],border:o.border,disabled:void 0!==o.disabled&&o.disabled,readonly:void 0!==o.readonly&&o.readonly,render:void 0===o.render||o.render,show:void 0===o.show||o.show},n={type:"ARow",grid:o.grid||n.grid||l.grid||{},items:[],readonly:!1,disabled:!1}),"ARow"===o.type&&(n={type:"ARow",grid:o.grid||n.grid||{},items:[],disabled:void 0!==o.disabled&&o.disabled,readonly:void 0!==o.readonly&&o.readonly}),"AGroup"!==o.type&&"ARow"!==o.type){const e={type:o.type,slot:o.slot||dt[o.type].slot,label:o.label||dt[o.type].label,field:qe.isArray(o.field)?o.field:o.field.trim()?o.field.split(".").filter(e=>!!e.trim()):[],grid:o.grid||qe.deepClone(dt[o.type].grid),rules:o.rules||qe.deepClone(dt[o.type].rules),layer:o.layer||qe.deepClone(dt[o.type].layer),props:o.props||qe.deepClone(dt[o.type].props),slots:o.slots||qe.deepClone(dt[o.type].slots),default:{input:o?.default?.input||dt[o.type].default.input,output:o?.default?.output||dt[o.type].default.output},transfer:{input:o?.transfer?.input||dt[o.type].transfer.input,output:o?.transfer?.output||dt[o.type].transfer.output},readonly:void 0!==o.readonly?o.readonly:dt[o.type].readonly,disabled:void 0!==o.disabled?o.disabled:dt[o.type].disabled,render:void 0!==o.render?o.render:dt[o.type].render,show:void 0!==o.show?o.show:dt[o.type].show};n.items.includes(e)||n.items.push(e),l.items.includes(n)||l.items.push(n),t.includes(l)||t.push(l)}return t})(n),a.value=n.filter(e=>"AGroup"!==e.type&&"ARow"!==e.type).map(e=>({type:e.type,slot:e.slot||dt[e.type].slot,label:e.label||dt[e.type].label,field:qe.isArray(e.field)?e.field:e.field.trim()?e.field.split(".").filter(e=>!!e.trim()):[],grid:e.grid||qe.deepClone(dt[e.type].grid),rules:e.rules||qe.deepClone(dt[e.type].rules),layer:e.layer||qe.deepClone(dt[e.type].layer),props:e.props||qe.deepClone(dt[e.type].props),slots:e.slots||qe.deepClone(dt[e.type].slots),default:{input:e?.default?.input||qe.isFunction(dt[e.type].default.input)?dt[e.type].default.input:qe.deepClone(dt[e.type].default.input),output:e?.default?.output||qe.isFunction(dt[e.type].default.output)?dt[e.type].default.output:qe.deepClone(dt[e.type].default.output)},transfer:{input:e?.transfer?.input||dt[e.type].transfer.input,output:e?.transfer?.output||dt[e.type].transfer.output},readonly:void 0!==e.readonly?e.readonly:dt[e.type].readonly,disabled:void 0!==e.disabled?e.disabled:dt[e.type].disabled,render:void 0!==e.render?e.render:dt[e.type].render,show:void 0!==e.show?e.show:dt[e.type].show}));for(const e of a.value)qe.isNonEmptyArray(e.field)&&l(e,{first:r.value,oldModel:o,newModel:i.value,refModel:s});r.value=!1}),t.expose({resetFields:e=>o.value.resetFields(e),clearValidate:e=>o.value.clearValidate(e),getFieldsValue:e=>o.value.getFieldsValue(e),scrollToField:(e,t)=>o.value.scrollToField(e,t),validateFields:(e,t)=>o.value.validateFields(e,t),validate:(e,t)=>o.value.validate(e,t)}),()=>{const l=S(e.grid||{}),n=S(e.border||!1),o=S(e.disabled||!1),r=S(e.readonly||!1),a=S(e.spinning||!1);return w("div",{class:"s-form-container"},[w(de,{spinning:a.value},{default:()=>[w(ce,k(t.attrs,{model:s.value,rules:e.rules,ref:"form"}),{default:()=>[t.slots.before?.(),w(u,{grid:l.value,border:n.value,model:s.value,groups:d.value,disabled:o.value,readonly:r.value},t.slots),t.slots.after?.()],...t.slots})]})])}},methods:{}});function yt(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!M(e)}tt(".s-tree-container {\n  --tree-background-color: 'transparent';\n}\n.s-tree-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  background-color: var(--tree-background-color, 'transparent');\n}\n.s-tree-container .ant-spin-container,\n.s-tree-container .ant-spin-nested-loading {\n  width: 100%;\n  height: 100%;\n}\n.s-tree-container .ant-tree,\n.s-tree-container .ant-tree-treenode,\n.s-tree-container .ant-spin-container,\n.s-tree-container .ant-spin-nested-loading,\n.s-tree-container .ant-tree-node-content-wrapper {\n  background-color: var(--tree-background-color, 'transparent');\n}\n.s-tree-container .ant-tree-switcher {\n  height: 24px;\n  background-color: transparent;\n}\n.s-tree-container .ant-tree-switcher > .anticon,\n.s-tree-container .ant-tree-switcher > .ant-tree-switcher-icon {\n  display: inline-block;\n  width: 24px;\n  height: 24px;\n  line-height: 24px;\n}\n.s-tree-container .ant-tree-checkbox {\n  margin: 0 6px 0 0;\n  margin-inline-end: 6px;\n  margin-block-start: 0;\n}\n.s-tree-container .ant-tree .ant-tree-title,\n.s-tree-container .ant-tree .s-tree-title-node {\n  width: 100%;\n  height: 24px;\n  display: flex;\n  flex: 1 1 auto;\n}\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-label {\n  width: 100%;\n  height: 24px;\n  font-size: 14px;\n  line-height: 24px;\n  vertical-align: middle;\n  flex: 1 1 auto;\n}\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button {\n  flex: 0 0 auto;\n  height: 24px;\n  margin: 0;\n  padding: 0;\n  font-size: 15px;\n  line-height: 24px;\n}\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button .button,\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button .ant-btn {\n  vertical-align: top;\n}\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button .button:not(.always-show-title-button),\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button .ant-btn:not(.always-show-title-button) {\n  display: none;\n}\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button.always-show-title-button .button,\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button .always-show-title-button .button,\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button > .always-show-title-button .button,\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button.always-show-title-button .ant-btn,\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button .always-show-title-button .ant-btn,\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button > .always-show-title-button .ant-btn {\n  display: inline-block;\n}\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button .button:not(.ant-btn-background-ghost):not(:hover),\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button .ant-btn:not(.ant-btn-background-ghost):not(:hover),\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button > .button:not(.ant-btn-background-ghost):not(:hover),\n.s-tree-container .ant-tree .s-tree-title-node .s-tree-title-button > .ant-btn:not(.ant-btn-background-ghost):not(:hover) {\n  border: none;\n}\n.s-tree-container .ant-tree .s-tree-title-node:hover .s-tree-title-button button,\n.s-tree-container .ant-tree .s-tree-title-node:hover .s-tree-title-button .button,\n.s-tree-container .ant-tree .s-tree-title-node:hover .s-tree-title-button .ant-btn {\n  display: inline-block;\n}\n.s-tree-container .ant-tree.ant-tree-block-node .ant-tree-list-holder-inner .s-tree-title-node .s-tree-title-label {\n  width: 0;\n}\n.s-tree-container .ant-tree .ant-tree-treenode:has(.s-tree-title-root-node.s-tree-title-sticky-node) {\n  position: sticky;\n  z-index: 10;\n  top: 0;\n}\n.s-tree-container .ant-tree .ant-tree-list-holder-inner .ant-tree-node-content-wrapper {\n  width: 100%;\n  display: flex;\n  flex: 1 1 auto;\n}\n.s-tree-container .ant-tree .ant-tree-node-content-wrapper .ant-tree-iconEle {\n  flex: 0 0 auto;\n  padding-right: 5px;\n  margin-left: -4px;\n}\n.s-tree-container .ant-tree .ant-tree-checkbox + span .ant-tree-iconEle {\n  flex: 0 0 auto;\n  padding-right: 5px;\n  margin-left: -4px;\n}\n.s-tree-container .ant-tree .ant-tree-list-holder-inner {\n  padding-right: 5px;\n  box-sizing: border-box;\n}\n");const mt=x({name:"STree",inheritAttrs:!1,props:{class:e().def(void 0),style:e().def(void 0),height:l().def(void 0),bgColor:t().def("transparent"),treeData:o().def(()=>[]),loadData:i().def(void 0),dropHandler:i().def(void 0),checkedKeys:o().def(()=>[]),selectedKeys:o().def(()=>[]),expandedKeys:o().def(()=>[]),selectedMode:t().def("default"),checkedMode:t().def("default"),filterField:t().def("title"),filterValue:e().def(""),fieldNames:r().def(()=>({})),allowCheckedLevel:e().def(1),allowSelectedLevel:e().def(1),forceCleanWhenNotInTreeNodes:n().def(!1),forceCleanWhenRemoveTreeNode:n().def(!0),forceApplyDisableCheckbox:n().def(!1),forceApplyDisabled:n().def(!1),alwaysShowTitleButton:n().def(!1),allowSelectToCheck:n().def(!1),allowAutoCollapsed:n().def(!0),allowMultiExpanded:n().def(!0),allowAutoExpandLoad:n().def(!1),allowAutoExpanded:n().def(!0),defaultExpandAll:n().def(!1),allowUnExpanded:n().def(!1),allowUnSelected:n().def(!1),allowUnChecked:n().def(!0),iconfontUrl:t().def(void 0),iconPrefix:t().def(void 0),iconStyle:r().def(void 0),iconClass:r().def(void 0),selectable:n().def(!0),checkable:n().def(!1),blockNode:n().def(!1),draggable:n().def(!1),disabled:n().def(!1),showIcon:n().def(!1),showLine:n().def(!1),loading:n().def(!1),virtual:n().def(!0),tooltip:n().def(!0),sticky:n().def(!1)},emits:{check:e=>!0,select:e=>!0,expand:e=>!0,change:e=>!0,"update:treeData":e=>!0,"update:filterField":e=>!0,"update:filterValue":e=>!0,"update:expandedKeys":e=>!0,"update:selectedKeys":e=>!0,"update:checkedKeys":e=>!0},slots:{},setup(e,t){const l={treeData:W([]),checkedKeys:W([]),selectedKeys:W([]),expandedKeys:W([]),treeContainer:C("treeContainer")},n={loadKeys:W([]),loadedKeys:W([]),checkedKeys:W([]),selectedKeys:W([]),expandedKeys:W([]),outCheckedKeys:W([]),halfCheckedKeys:W([]),parentTreeNodes:E({}),childTreeNodes:E({}),flatTreeNodes:W([]),linkTreeNodes:W([]),propTreeNodes:W([]),filterField:E("title"),filterValue:E("")},o={selectedNode:E(null),selectedLinkNode:E(null),checkedLinkNode:E(null),checkedHalfNode:E(null),checkedNode:E(null),selectedNodes:W([]),selectedLinkNodes:W([]),checkedLinkNodes:W([]),checkedHalfNodes:W([]),checkedNodes:W([])},r={selectedNode:E(null),selectedLinkNode:E(null),checkedLinkNode:E(null),checkedHalfNode:E(null),checkedNode:E(null),selectedNodes:W([]),selectedLinkNodes:W([]),checkedLinkNodes:W([]),checkedHalfNodes:W([]),checkedNodes:W([])},a={getVNodes:e=>qe.isNonEmptyObject(e)&&e.type===H?qe.isNonEmptyArray(e.children)?e:null:e,renderSwitcher(t){const l=n.loadKeys,o=n.expandedKeys,r=!(!0===t.isLeaf)&&qe.isFunction(e.loadData),a=l.includes(t.key);return r&&a?"LoadingOutlined":e.showLine?qe.isNonEmptyArray(t.children)||r&&!a?o.includes(t.key)?"MinusSquareOutlined":"PlusSquareOutlined":"FileOutlined":qe.isNonEmptyArray(t.children)||r&&!a?"CaretDownOutlined":""},triggerSwitcher(e){const t=n.expandedKeys;n.flatTreeNodes.some(t=>t.key===e.key)&&(t.includes(e.key)?a.doTreePopExpanded([e.key]):a.doTreePushExpanded([e.key]))},cleanTreeStater(t,l){!0===t&&(n.loadKeys.splice(0,n.loadKeys.length),n.loadedKeys.splice(0,n.loadedKeys.length),n.checkedKeys.splice(0,n.checkedKeys.length),n.selectedKeys.splice(0,n.selectedKeys.length),n.expandedKeys.splice(0,n.expandedKeys.length),n.outCheckedKeys.splice(0,n.outCheckedKeys.length),n.halfCheckedKeys.splice(0,n.halfCheckedKeys.length),r.selectedNodes.splice(0,r.selectedNodes.length),r.selectedLinkNodes.splice(0,r.selectedLinkNodes.length),r.checkedLinkNodes.splice(0,r.checkedLinkNodes.length),r.checkedHalfNodes.splice(0,r.checkedHalfNodes.length),r.checkedNodes.splice(0,r.checkedNodes.length),r.selectedNode.value=null,r.selectedLinkNode.value=null,r.checkedLinkNode.value=null,r.checkedHalfNode.value=null,r.checkedNode.value=null,o.selectedNodes.splice(0,o.selectedNodes.length),o.selectedLinkNodes.splice(0,o.selectedLinkNodes.length),o.checkedLinkNodes.splice(0,o.checkedLinkNodes.length),o.checkedHalfNodes.splice(0,o.checkedHalfNodes.length),o.checkedNodes.splice(0,o.checkedNodes.length),o.selectedNode.value=null,o.selectedLinkNode.value=null,o.checkedLinkNode.value=null,o.checkedHalfNode.value=null,o.checkedNode.value=null);const a=n.checkedKeys,i=n.selectedKeys,s=n.expandedKeys,d=n.flatTreeNodes,c=n.outCheckedKeys,p=n.halfCheckedKeys,u=e.forceCleanWhenRemoveTreeNode,f=e.forceCleanWhenNotInTreeNodes;if(!1!==u&&(l&&!l.includes("checked")||(a.splice(0,n.checkedKeys.length,...a.filter(e=>d.some(t=>t.key===e))),p.splice(0,n.halfCheckedKeys.length,...p.filter(e=>d.some(t=>t.key===e)))),l&&!l.includes("selected")||i.splice(0,n.selectedKeys.length,...i.filter(e=>d.some(t=>t.key===e))),l&&!l.includes("expanded")||s.splice(0,n.expandedKeys.length,...s.filter(e=>d.some(t=>t.key===e)))),!l||l.includes("checked")){const e=Array.from(new Set([...a,...p,...c])),t=Array.from(new Set([...a,...c]));p.splice(0,p.length),c.splice(0,c.length,...e.filter(e=>!f&&!d.some(t=>t.key===e))),a.splice(0,a.length,...t.filter(e=>d.some(t=>t.key===e&&(t.disabled||t.disableCheckbox||t.checkable)))),a.sort((e,t)=>d.findIndex(t=>t.key===e)-d.findIndex(e=>e.key===t)),c.splice(0,c.length,...Array.from(new Set(c))),a.splice(0,a.length,...Array.from(new Set(a)))}l&&!l.includes("selected")||(i.sort((e,t)=>d.findIndex(t=>t.key===e)-d.findIndex(e=>e.key===t)),i.splice(0,i.length,...i.filter(e=>d.some(t=>t.key===e&&!t.disabled&&t.isSelectable))),i.splice(0,i.length,...Array.from(new Set(i)))),l&&!l.includes("expanded")||(s.splice(0,s.length,...s.filter(e=>d.some(t=>t.key===e&&qe.isNonEmptyArray(t.children)))),s.sort((e,t)=>d.findIndex(t=>t.key===e)-d.findIndex(e=>e.key===t)),s.splice(0,s.length,...Array.from(new Set(s))))},checkTreeStater(e,t){t&&!t.includes("checked")||a.doTreeOnlyChecked([...n.checkedKeys,...n.outCheckedKeys]),t&&!t.includes("selected")||a.doTreeSelected([...n.selectedKeys]),t&&!t.includes("expanded")||a.doTreeOnlyExpanded([...n.expandedKeys])},resetTreeStater(t,l){const i=n.checkedKeys,s=n.selectedKeys,d=n.expandedKeys,c=n.linkTreeNodes,p=n.flatTreeNodes,u=n.childTreeNodes,f=n.parentTreeNodes,b=n.halfCheckedKeys,h=r.selectedNodes,g=r.selectedLinkNodes,y=r.checkedLinkNodes,m=r.checkedHalfNodes,v=r.checkedNodes;if(!l||l.includes("checked")){if(v.splice(0,v.length),b.splice(0,b.length),y.splice(0,y.length),m.splice(0,m.length),i.splice(0,i.length,...i.filter(e=>p.some(t=>t.key===e))),v.push(...i.map(e=>p.find(t=>t.key===e))),qe.isNonEmptyArray(v)){let e=[...v],t=[...v];if(qe.isNonEmptyArray(t))for(;t.length>0;){const l=t.shift(),n=u.value[l.key]||[];!l.disabled&&!l.disableCheckbox&&e.push(...n.filter(t=>!t.disabled&&!t.disableCheckbox&&t.checkable&&!e.some(e=>e===t))),t=t.filter(e=>!n.some(t=>e===t))}if(qe.isNonEmptyArray(e)){let t,l=[];for(v.splice(0,v.length,...e),e.sort((e,t)=>e.level-t.level),t=e.pop(),l=e.filter(e=>e.level===t.level),e=e.filter(e=>e.level!==t.level);t;){if(t.parentNode){const n=t.parentNode,o=t.parentNode.children||[],r=(u.value[n.key]||[]).filter(e=>!e.disabled&&!e.disableCheckbox&&e.checkable),a=(f.value[t.key]||[]).filter(e=>!e.disabled&&!e.disableCheckbox&&e.checkable),i=a.map(e=>e.key)||[];r.every(e=>v.some(t=>t===e))?n.disabled||n.disableCheckbox||!n.checkable||v.some(e=>e===n)||v.push(n):(r.some(e=>v.some(t=>t===e))&&m.push(...a.filter(e=>!m.some(t=>e===t))),v.splice(0,v.length,...v.filter(e=>e.disabled||e.disableCheckbox||e.checkable&&!i.includes(e.key)))),e.some(e=>e===n)||e.push(n),l=l.filter(e=>!o.some(t=>t===e))}qe.isNonEmptyArray(l)?t=l.pop():qe.isNonEmptyArray(e)?(t=e.pop(),l=e.filter(e=>e.level===t.level),e=e.filter(e=>e.level!==t.level)):t=void 0}}}qe.isArray(v)&&v.sort((e,t)=>p.findIndex(t=>t===e)-p.findIndex(e=>e===t)),qe.isArray(m)&&m.sort((e,t)=>p.findIndex(t=>t===e)-p.findIndex(e=>e===t)),qe.isArray(y)&&(y.push(...v,...m),y.sort((e,t)=>p.findIndex(t=>t===e)-p.findIndex(e=>e===t))),n.checkedKeys.splice(0,n.checkedKeys.length,...v.map(e=>e.key)),n.halfCheckedKeys.splice(0,n.halfCheckedKeys.length,...m.map(e=>e.key)),r.checkedLinkNode.value=y[0]||null,r.checkedHalfNode.value=m[0]||null,r.checkedNode.value=v[0]||null,o.checkedLinkNodes.splice(0,o.checkedLinkNodes.length,...y.map(e=>e.referenceSourceNode)),o.checkedHalfNodes.splice(0,o.checkedHalfNodes.length,...m.map(e=>e.referenceSourceNode)),o.checkedNodes.splice(0,o.checkedNodes.length,...v.map(e=>e.referenceSourceNode)),o.checkedLinkNode.value=y[0]&&y[0].referenceSourceNode||null,o.checkedHalfNode.value=m[0]&&m[0].referenceSourceNode||null,o.checkedNode.value=v[0]&&v[0].referenceSourceNode||null}if(!l||l.includes("selected")){if(h.splice(0,h.length),g.splice(0,g.length),s.splice(0,s.length,...s.filter(e=>p.some(t=>t.key===e))),h.push(...s.map(e=>p.find(t=>t.key===e))),qe.isEmptyArray(h)&&(!e.selectable||e.allowUnSelected||e.checkable&&e.allowSelectToCheck||1!==c.length||h.push(...p.filter(e=>1===e.level||2===e.level).filter(e=>e.isSelectable&&!e.disabled).slice(0,1)),!e.selectable||e.allowUnSelected||e.checkable&&e.allowSelectToCheck||!(c.length>1)||h.push(...p.filter(e=>1===e.level).filter(e=>e.isSelectable&&!e.disabled).slice(0,1))),qe.isNonEmptyArray(h)&&(e.checkable&&e.allowSelectToCheck&&h.splice(0,h.length),!e.checkable||!e.allowSelectToCheck)){const e=p.find(e=>!e.disabled&&e.isSelectable&&h.some(t=>t===e)),t=e&&(f.value[e.key]||[]).filter(e=>!e.disabled&&e.isSelectable);e&&!qe.isNonEmptyArray(t)&&g.push(e),e&&qe.isNonEmptyArray(t)&&g.push(...t,e)}qe.isArray(h)&&h.sort((e,t)=>p.findIndex(t=>t===e)-p.findIndex(e=>e===t)),qe.isArray(g)&&g.sort((e,t)=>p.findIndex(t=>t===e)-p.findIndex(e=>e===t)),n.selectedKeys.splice(0,n.selectedKeys.length,...h.map(e=>e.key)),r.selectedNode.value=h[0]||null,r.selectedLinkNode.value=g[0]||null,o.selectedLinkNodes.splice(0,o.selectedLinkNodes.length,...g.map(e=>e.referenceSourceNode)),o.selectedNodes.splice(0,o.selectedNodes.length,...h.map(e=>e.referenceSourceNode)),o.selectedLinkNode.value=g[0]&&g[0].referenceSourceNode||null,o.selectedNode.value=h[0]&&h[0].referenceSourceNode||null}l&&!l.includes("expanded")||(d.splice(0,d.length,...d.filter(e=>p.some(t=>t.key===e))),qe.isEmptyArray(d)&&(e.allowUnExpanded||1!==c.length||a.expandTreeNodes(c.map(e=>e.key).slice(0,1))),qe.isArray(d)&&d.sort((e,t)=>p.findIndex(t=>t.key===e)-p.findIndex(e=>e.key===t)),qe.isArray(g)&&g.sort((e,t)=>p.findIndex(t=>t===e)-p.findIndex(e=>e===t)))},resetTreeNodes(e,t){qe.isArray(e)||(e=n.propTreeNodes),e=e.map(e=>z(e));const o=n.filterField,r=n.filterValue,i=n.linkTreeNodes,s=n.flatTreeNodes,d=n.childTreeNodes,c=n.parentTreeNodes,p=a.createTreeNodes(e,null),u=a.spreadTreeNodes(p,1/0);i.splice(0,i.length),s.splice(0,s.length),l.treeData.splice(0,l.treeData.length,...e),n.propTreeNodes.splice(0,n.propTreeNodes.length,...e),s.splice(0,s.length,...u),i.splice(0,i.length,...s.filter(e=>1===e.level)),d.value={},c.value={};for(const l of s){let e=l.parentNode;for(c.value[l.key]||(c.value[l.key]=[]),d.value[l.key]||(d.value[l.key]=[]);e;)c.value[l.key].unshift(e),d.value[e.key].push(l),e=e.parentNode}a.cleanTreeStater(t),a.checkTreeStater(t),a.filterTreeNodes({filterField:o.value,filterValue:r.value})},filterTreeNodes(e,t){const l=[],o=n.flatTreeNodes,r=n.parentTreeNodes,i=!1!==t,s=e.filterField!==n.filterField.value||e.filterValue!==n.filterValue.value,d=n.filterValue.value=qe.isString(e.filterValue)?e.filterValue.trim():e.filterValue,c=n.filterField.value="key"===e.filterField?e.filterField:"title";for(const n of o)n.titles.splice(0,n.titles.length);if(qe.isNonEmptyString(d)||qe.isFiniteNumber(d)){for(const e of o){const t=e.key,n=e.title.trim(),o=new RegExp(`(.*?)(${d})(.*)`);if("key"===c){const e=d===t||+d===t,n=r.value[t]?r.value[t].map(e=>e.key):null;i&&s&&e&&n&&l.push(...n)}if("title"===c&&o.test(n)){const a=n.replace(o,"$1"),d=n.replace(o,"$2"),c=n.replace(o,"$3"),p=r.value[t]?.map(e=>e.key);i&&s&&p&&l.push(...p),e.titles.push(a,d,c)}}i||a.forceUpdate()}i&&s&&(a.doTreeAllCollapsed(),a.doTreePushExpanded(Array.from(new Set(l))))},reloadTreeNodes(o,r,i){const s=n.filterField,d=n.filterValue,c=n.linkTreeNodes,p=n.flatTreeNodes,u=n.childTreeNodes,f=n.parentTreeNodes,b=qe.isPrimitive(r)?p.find(e=>e.key===r):void 0,h=b?[...b.children]:[...c],g=qe.isPrimitive(r)&&!b,y=e.fieldNames.children||"children",m=e.fieldNames.key||"key";if(g)return;o=(o=(o=(o=o.filter(e=>!b||!f.value[b.key]||!f.value[b.key].some(t=>t.key===e[m]))).filter(e=>!b||b.key!==e[m])).filter(e=>!!e[m]||0===e[m])).map(e=>z(e));const v=n.loadKeys,x=n.loadedKeys,w=a.createTreeNodes(o,b),k=a.spreadTreeNodes(w,1/0),S=a.spreadTreeNodes(o,1/0),C=a.spreadTreeNodes(h,1/0),N=S.length!==C.length||!S.every((e,t)=>e===C[t].referenceSourceNode);if(qe.isNonEmptyObject(b)||(v.splice(0,v.length),x.splice(0,x.length),c.splice(0,c.length),p.splice(0,p.length),l.treeData.splice(0,l.treeData.length,...o),n.propTreeNodes.splice(0,n.propTreeNodes.length,...o)),qe.isNonEmptyObject(b)){const e=u.value[b.key];b.isLeaf=0===w.length,b.referenceSourceNode[y]=o,b.children=w,b.scopedSlots={icon:1===b.level?"iconRoot":qe.isNonEmptyArray(b.children)?"iconParent":"iconLeaf",title:1===b.level?"titleRoot":qe.isNonEmptyArray(b.children)?"titleParent":"titleLeaf"},qe.isNonEmptyArray(b.referenceSourceNode[y])||Object.hasOwn(b.referenceSourceNode,y)&&delete b.referenceSourceNode[y],v.splice(0,v.length,...v.filter(e=>e!==b.key)),v.splice(0,v.length,...v.filter(t=>!e?.map(e=>e.key).includes(t))),x.splice(0,x.length,...x.filter(t=>!e?.map(e=>e.key).includes(t))),v.sort((e,t)=>p.findIndex(t=>t.key===e)-p.findIndex(e=>e.key===t)),x.sort((e,t)=>p.findIndex(t=>t.key===e)-p.findIndex(e=>e.key===t))}if(qe.isNonEmptyObject(b)){const e=(u.value[b.key]||[]).filter(e=>p.some(t=>t===e));p.splice(0,p.length,...p.filter(t=>!e.some(e=>e===t))),p.splice(p.findIndex(e=>e===b)+1,0,...k),c.splice(0,c.length,...p.filter(e=>1===e.level))}if(qe.isNonEmptyObject(b)||(p.splice(0,p.length,...k),c.splice(0,c.length,...p.filter(e=>1===e.level))),N){u.value={},f.value={};for(const e of p){let t=e.parentNode;for(f.value[e.key]||(f.value[e.key]=[]),u.value[e.key]||(u.value[e.key]=[]);t;)f.value[e.key].unshift(t),u.value[t.key].push(e),t=t.parentNode}a.cleanTreeStater(i),a.checkTreeStater(i),a.filterTreeNodes({filterField:s.value,filterValue:d.value}),t.emit("update:treeData",[...z(K(l.treeData))]),t.emit("change",{type:"reload",loadKeys:[...v],loadedKeys:[...x],reloadNodes:[{parentNode:b?.referenceSourceNode||null,oldChildNodes:h.map(e=>e.referenceSourceNode),newChildNodes:(b?b.children:c).map(e=>e.referenceSourceNode),rootChildNodes:c.map(e=>e.referenceSourceNode)}],appendNodes:[],removeNodes:[]})}},appendTreeNodes(o,r,i){const s=n.filterField,d=n.filterValue,c=n.linkTreeNodes,p=n.flatTreeNodes,u=n.parentTreeNodes,f=qe.isPrimitive(r)?p.find(e=>e.key===r):void 0,b=f?[...f.children]:[...c],h=qe.isPrimitive(r)&&!f,g=e.fieldNames.children||"children",y=e.fieldNames.key||"key";if(h)return;o=(o=(o=(o=(o=o.filter(e=>!f||!u.value[f.key]||!u.value[f.key].some(t=>t.key===e[y]))).filter(e=>!b.some(t=>t.key===e[y]))).filter(e=>!f||f.key!==e[y])).filter(e=>!!e[y]||0===e[y])).map(e=>z(e));const m=n.loadKeys,v=n.loadedKeys,x=n.childTreeNodes,w=a.createTreeNodes(o,f),k=a.spreadTreeNodes(w,1/0),S=qe.isNonEmptyArray(o);if(qe.isNonEmptyObject(f)||(l.treeData.push(...o),n.propTreeNodes.push(...o)),qe.isNonEmptyObject(f)&&(f.isLeaf=0===f.children.length&&0===w.length,f.referenceSourceNode[g]=f.referenceSourceNode[g]||[],f.referenceSourceNode[g].push(...o),f.children.push(...w),f.scopedSlots={icon:1===f.level?"iconRoot":qe.isNonEmptyArray(f.children)?"iconParent":"iconLeaf",title:1===f.level?"titleRoot":qe.isNonEmptyArray(f.children)?"titleParent":"titleLeaf"},m.splice(0,m.length,...m.filter(e=>e!==f.key)),m.sort((e,t)=>p.findIndex(t=>t.key===e)-p.findIndex(e=>e.key===t)),v.sort((e,t)=>p.findIndex(t=>t.key===e)-p.findIndex(e=>e.key===t))),qe.isNonEmptyObject(f)){const e=(x.value[f.key]||[]).filter(e=>p.some(t=>t===e));p.splice(0,p.length,...p.filter(t=>!e.some(e=>e===t))),p.splice(p.findIndex(e=>e===f)+1,0,...e,...k),c.splice(0,c.length,...p.filter(e=>1===e.level))}if(qe.isNonEmptyObject(f)||(p.push(...k),c.splice(0,c.length,...p.filter(e=>1===e.level))),S){x.value={},u.value={};for(const e of p){let t=e.parentNode;for(u.value[e.key]||(u.value[e.key]=[]),x.value[e.key]||(x.value[e.key]=[]);t;)u.value[e.key].unshift(t),x.value[t.key].push(e),t=t.parentNode}a.cleanTreeStater(i),a.checkTreeStater(i),a.filterTreeNodes({filterField:s.value,filterValue:d.value}),t.emit("update:treeData",[...z(K(l.treeData))]),t.emit("change",{type:"append",loadKeys:[...m],loadedKeys:[...v],appendNodes:[{parentNode:f?.referenceSourceNode||null,rootChildNodes:c.map(e=>e.referenceSourceNode),appendChildNodes:[...o]}],removeNodes:[],reloadNodes:[]})}},removeTreeNodes(o,r,i){const s=n.linkTreeNodes,d=n.flatTreeNodes,c=n.childTreeNodes,p=n.parentTreeNodes,u=qe.isPrimitive(r)?d.find(e=>e.key===r):void 0,f=u?[...u.children]:[...s],b=qe.isPrimitive(r)&&!u,h=e.fieldNames.children||"children",g=e.fieldNames.key||"key";if(b)return;o=(o=(o=(o=o.filter(e=>!u||u.key!==e[g])).filter(e=>f.some(t=>t.key===e[g]))).map(e=>d.find(t=>t.key===e[g]).referenceSourceNode)).map(e=>z(e));const y=n.loadKeys,m=n.loadedKeys,v=o.map(e=>d.find(t=>t.key===e[g])),x=a.spreadTreeNodes(v,1/0),w=qe.isNonEmptyArray(x);if(qe.isNonEmptyArray(x)){if(qe.isNonEmptyArray(x)){for(const e of v){const t=e.key,l=c.value[t]||[];m.splice(0,m.length,...m.filter(e=>e!==t&&!l.some(t=>t.key===e))),y.splice(0,y.length,...y.filter(e=>e!==t&&!l.some(t=>t.key===e)))}y.sort((e,t)=>d.findIndex(t=>t.key===e)-d.findIndex(e=>e.key===t)),m.sort((e,t)=>d.findIndex(t=>t.key===e)-d.findIndex(e=>e.key===t))}if(qe.isNonEmptyObject(u)||(l.treeData.splice(0,l.treeData.length,...l.treeData.filter(e=>!v.some(t=>t.key===e[g]))),n.propTreeNodes.splice(0,n.propTreeNodes.length,...n.propTreeNodes.filter(e=>!v.some(t=>t.key===e[g])))),qe.isNonEmptyObject(u)&&(qe.isNonEmptyArray(u.referenceSourceNode[h])&&(u.referenceSourceNode[h]=u.referenceSourceNode[h].filter(e=>!v.some(t=>t.key===e[g]))),qe.isNonEmptyArray(u.referenceSourceNode[h])||Object.hasOwn(u.referenceSourceNode,h)&&delete u.referenceSourceNode[h],u.children.splice(0,u.children.length,...u.children.filter(e=>!v.some(t=>t===e))),u.isLeaf=0===u.children.length,u.scopedSlots={icon:1===u.level?"iconRoot":qe.isNonEmptyArray(u.children)?"iconParent":"iconLeaf",title:1===u.level?"titleRoot":qe.isNonEmptyArray(u.children)?"titleParent":"titleLeaf"}),qe.isNonEmptyObject(u)&&(d.splice(0,d.length,...d.filter(e=>!x.some(t=>t===e))),s.splice(0,s.length,...d.filter(e=>1===e.level))),qe.isNonEmptyObject(u)||(d.splice(0,d.length,...d.filter(e=>!x.some(t=>t===e))),s.splice(0,s.length,...d.filter(e=>1===e.level))),w){c.value={},p.value={};for(const e of d){let t=e.parentNode;for(p.value[e.key]||(p.value[e.key]=[]),c.value[e.key]||(c.value[e.key]=[]);t;)p.value[e.key].unshift(t),c.value[t.key].push(e),t=t.parentNode}a.cleanTreeStater(i),a.checkTreeStater(i),t.emit("update:treeData",[...z(K(l.treeData))]),t.emit("change",{type:"remove",loadKeys:[...y],loadedKeys:[...m],removeNodes:[{parentNode:u?.referenceSourceNode||null,rootChildNodes:s.map(e=>e.referenceSourceNode),removeChildNodes:[...o]}],appendNodes:[],reloadNodes:[]})}}},changeTreeNodes(o,r,i){const s=n.filterField,d=n.filterValue,c=n.linkTreeNodes,p=n.flatTreeNodes,u=n.childTreeNodes,f=n.parentTreeNodes,b=qe.isPrimitive(r)?p.find(e=>e.key===r):void 0,h=b?[...b.children]:[...c],g=qe.isPrimitive(r)&&!b,y=e.fieldNames.children||"children",m=e.fieldNames.key||"key";if(g)return;o=(o=(o=(o=o.map(e=>p.find(t=>t.key===e[m])?.referenceSourceNode||e)).filter(e=>!b||!f.value[b.key]||!f.value[b.key].some(t=>t.key===e[m]))).filter(e=>!b||b.key!==e[m])).map(e=>z(K(e)));const v=n.loadKeys,x=n.loadedKeys,w=[],k=[],S=Array.from(new Set([...o.filter(e=>!!e[m]||0===e[m])])),C=Array.from(new Set([...o.filter(e=>p.some(t=>t.referenceSourceNode===e)),...h.map(e=>e.referenceSourceNode)])),N=Array.from(new Set(o.filter(e=>h.some(t=>t.referenceSourceNode===e)).map(e=>p.find(t=>t.referenceSourceNode===e))));if(qe.isNonEmptyArray(C)){C.sort((e,t)=>p.findIndex(t=>t.key===e[m])-p.findIndex(e=>e.key===t[m]));for(const e of C.reverse()){const t=p.find(t=>t.key===e[m]),o=t&&t.parentNode?.referenceSourceNode||null,r=t&&t.parentNode||null,i=a.spreadTreeNodes([t],1/0);if(qe.isNonEmptyObject(r)||(l.treeData.splice(0,l.treeData.length,...l.treeData.filter(t=>e!==t)),n.propTreeNodes.splice(0,n.propTreeNodes.length,...n.propTreeNodes.filter(t=>e!==t))),qe.isNonEmptyObject(r)&&(qe.isNonEmptyArray(r.referenceSourceNode[y])&&(r.referenceSourceNode[y]=r.referenceSourceNode[y].filter(t=>e!==t)),qe.isNonEmptyArray(r.referenceSourceNode[y])||Object.hasOwn(r.referenceSourceNode,y)&&delete r.referenceSourceNode[y],r.children.splice(0,r.children.length,...r.children.filter(e=>t!==e)),r.isLeaf=0===r.children.length,r.scopedSlots={icon:1===r.level?"iconRoot":qe.isNonEmptyArray(r.children)?"iconParent":"iconLeaf",title:1===r.level?"titleRoot":qe.isNonEmptyArray(r.children)?"titleParent":"titleLeaf"}),qe.isNonEmptyObject(r)&&(p.splice(0,p.length,...p.filter(e=>!i.some(t=>t===e))),c.splice(0,c.length,...p.filter(e=>1===e.level))),qe.isNonEmptyObject(r)||(p.splice(0,p.length,...p.filter(e=>!i.some(t=>t===e))),c.splice(0,c.length,...p.filter(e=>1===e.level))),(S.every(t=>t!==e)||!h.some(t=>t.referenceSourceNode===e))&&(k.some(e=>e.parentNode===o)||k.push({parentNode:o,removeChildNodes:[]}),k.some(e=>e.parentNode===o))){const t=k.find(e=>e.parentNode===o);!t.removeChildNodes.includes(e)&&t.removeChildNodes.push(e)}}}if(qe.isNonEmptyArray(S)){S.sort((e,t)=>p.findIndex(t=>t.key===e[m])-p.findIndex(e=>e.key===t[m]));const e=S.map(e=>N.find(t=>t.referenceSourceNode===e)||a.createTreeNodes([e],b)[0]),t=S.filter(e=>h.every(t=>t.referenceSourceNode!==e)),r=a.spreadTreeNodes(e,1/0);if(qe.isNonEmptyObject(b)||(l.treeData.push(...S),n.propTreeNodes.push(...S)),qe.isNonEmptyObject(b)&&(b.isLeaf=0===b.children.length&&0===e.length,b.referenceSourceNode[y]=b.referenceSourceNode[y]||[],b.referenceSourceNode[y].push(...o),b.children.push(...e),b.scopedSlots={icon:1===b.level?"iconRoot":qe.isNonEmptyArray(b.children)?"iconParent":"iconLeaf",title:1===b.level?"titleRoot":qe.isNonEmptyArray(b.children)?"titleParent":"titleLeaf"}),qe.isNonEmptyObject(b)){const e=(u.value[b.key]||[]).filter(e=>p.some(t=>t===e));p.splice(0,p.length,...p.filter(t=>!e.some(e=>e===t))),p.splice(p.findIndex(e=>e===b)+1,0,...e,...r),c.splice(0,c.length,...p.filter(e=>1===e.level))}qe.isNonEmptyObject(b)||(p.push(...r),c.splice(0,c.length,...p.filter(e=>1===e.level))),qe.isNonEmptyArray(t)&&w.push({parentNode:b?.referenceSourceNode||null,appendChildNodes:[...t]})}if(qe.isNonEmptyArray(C)||qe.isNonEmptyArray(S)){u.value={},f.value={};for(const e of p){let t=e.parentNode;for(f.value[e.key]||(f.value[e.key]=[]),u.value[e.key]||(u.value[e.key]=[]);t;)f.value[e.key].unshift(t),u.value[t.key].push(e),t=t.parentNode}a.cleanTreeStater(i),a.checkTreeStater(i),a.filterTreeNodes({filterField:s.value,filterValue:d.value}),v.sort((e,t)=>p.findIndex(t=>t.key===e)-p.findIndex(e=>e.key===t)),x.sort((e,t)=>p.findIndex(t=>t.key===e)-p.findIndex(e=>e.key===t)),t.emit("update:treeData",[...z(K(l.treeData))]),t.emit("change",{type:"change",loadKeys:[...v],loadedKeys:[...x],appendNodes:[...w.map(e=>({...e,rootChildNodes:c.map(e=>e.referenceSourceNode)}))],removeNodes:[...k.map(e=>({...e,rootChildNodes:c.map(e=>e.referenceSourceNode)}))],reloadNodes:[{parentNode:b?.referenceSourceNode||null,oldChildNodes:h.map(e=>e.referenceSourceNode),newChildNodes:(b?b.children:c).map(e=>e.referenceSourceNode),rootChildNodes:c.map(e=>e.referenceSourceNode)}]})}},createTreeNodes(t,l){const n=qe.isNonEmptyObject(l)&&l.level+1||1,o=qe.isNonEmptyObject(l)?l:null,r=[];if(!qe.isNonEmptyArray(t))return r;for(const i of t){const t=i[e.fieldNames.key||"key"],l=i[e.fieldNames.icon||"icon"],s=i[e.fieldNames.title||"title"],d=i[e.fieldNames.isLeaf||"isLeaf"],c=i[e.fieldNames.children||"children"],p=!0===i[e.fieldNames.alwaysShowTitleButton||"alwaysShowTitleButton"],u=!0===i[e.fieldNames.forceApplyDisableCheckbox||"forceApplyDisableCheckbox"],f=!0===i[e.fieldNames.forceApplyDisabled||"forceApplyDisabled"],b=!0===i[e.fieldNames.disableCheckbox||"disableCheckbox"],h=!0===i[e.fieldNames.disabled||"disabled"],g=!qe.isNonEmptyArray(c)&&!1!==d,y={scopedSlots:{icon:1===n?"iconRoot":g?"iconLeaf":"iconParent",title:1===n?"titleRoot":g?"titleLeaf":"titleParent"},key:t,icon:qe.isString(l)?w(_e,{type:l,iconPrefix:e.iconPrefix,iconfontUrl:e.iconfontUrl,class:e.iconClass,style:e.iconStyle},null):null,level:n,title:s,titles:[],isLeaf:g,parentNode:o,alwaysShowTitleButton:p,forceApplyDisabled:f||!0===e.forceApplyDisabled||!0===o?.forceApplyDisabled,forceApplyDisableCheckbox:f||u||!0===e.forceApplyDisabled||!0===o?.forceApplyDisableCheckbox,checkable:qe.isBoolean(i.checkable)?i.checkable:qe.isFunction(e.allowCheckedLevel)?!1!==e.allowCheckedLevel(n,i):n>=e.allowCheckedLevel,isSelectable:qe.isBoolean(i.selectable)?i.selectable:qe.isFunction(e.allowSelectedLevel)?!1!==e.allowSelectedLevel(n,i):n>=e.allowSelectedLevel,disableCheckbox:h||b||f||u||!!(e.forceApplyDisabled||e.forceApplyDisableCheckbox||o?.forceApplyDisabled||o?.forceApplyDisableCheckbox)&&!0===o?.disableCheckbox,disabled:h||f||!(!e.forceApplyDisabled&&!o?.forceApplyDisabled)&&!0===o?.disabled,referenceSourceNode:i,selectable:!0,children:[]};qe.isNonEmptyArray(c)&&(y.children=a.createTreeNodes(c,y)),r.push(y)}return r},spreadTreeNodes(t,l){const n=[],o=t.map(e=>z(e));for(const r of o){const t=Object.hasOwn(r,"referenceSourceNode")?"children":e.fieldNames.children||"children";qe.isFiniteNumber(l)?l-=1:l=1/0,qe.isNonEmptyArray(r[t])?n.push(r,...a.spreadTreeNodes(r[t],l)):n.push(r)}return n},pickUpperTreeNodes(e,t){const l=[],o=n.flatTreeNodes,r=n.parentTreeNodes,a=o.find(t=>t.key===e),i=r.value[e];return a&&i&&(t=qe.isFiniteNumber(t)?a.level-t:0,l.push(...i.filter(e=>e.level>=t).map(e=>e.referenceSourceNode))),l},pickLowerTreeNodes(e,t){const l=[],o=n.flatTreeNodes,r=n.childTreeNodes,a=o.find(t=>t.key===e),i=r.value[e];return a&&i&&(t=qe.isFiniteNumber(t)?a.level+t:1/0,l.push(...i.filter(e=>e.level<=t).map(e=>e.referenceSourceNode))),l},pickMatchTreeNode(e,t){const l=n.flatTreeNodes.find(t=>t.key===e);return!l||qe.isNumber(t)&&l.level!==t?null:l.referenceSourceNode},expandTreeNodes(t){const l=n.loadKeys,o=n.expandedKeys,r=n.flatTreeNodes,i=n.childTreeNodes;if(qe.isNonEmptyArray(t)&&(t=t.filter(e=>r.some(t=>t.key===e)),t=Array.from(new Set(t))),qe.isNonEmptyArray(t)){if(qe.isNonEmptyArray(t))for(const n of t){const t=r.find(e=>n===e.key),a=!1===t.isLeaf&&qe.isFunction(e.loadData),i=l.includes(n);(qe.isNonEmptyArray(t.children)||a&&!i)&&(o.includes(t.key)||o.push(t.key))}if(qe.isNonEmptyArray(o)&&(o.sort((e,t)=>r.findIndex(t=>t.key===e)-r.findIndex(e=>e.key===t)),qe.isFunction(e.loadData))){const e=o.filter(e=>!l.includes(e)&&!qe.isNonEmptyArray(r.find(t=>t.key===e)?.children)&&!1===r.find(t=>t.key===e)?.isLeaf);for(const t of[...e])e.splice(0,e.length,...e.filter(e=>!i.value[t]||!i.value[t].some(t=>e===t.key)));qe.isNonEmptyArray(e)&&a.doTreeLoad(e)}o.splice(0,o.length,...o.filter(e=>r.some(t=>t.key===e&&qe.isNonEmptyArray(t.children)))),o.sort((e,t)=>r.findIndex(t=>t.key===e)-r.findIndex(e=>e.key===t))}},collapseTreeNodes(e){const t=n.expandedKeys,l=n.flatTreeNodes;qe.isNonEmptyArray(t)&&(qe.isNonEmptyArray(e)&&(e=e.filter(e=>l.some(t=>t.key===e)),e=Array.from(new Set(e))),qe.isNonEmptyArray(e)&&(t.splice(0,t.length,...t.filter(t=>!e.includes(t)&&l.some(e=>e.key===t&&qe.isNonEmptyArray(e.children)))),t.sort((e,t)=>l.findIndex(t=>t.key===e)-l.findIndex(e=>e.key===t))))},doTreeAllExpanded(){n.expandedKeys.length===n.flatTreeNodes.length&&n.flatTreeNodes.every(e=>n.expandedKeys.includes(e.key))||(a.expandTreeNodes(n.flatTreeNodes.filter(t=>qe.isNonEmptyArray(t.children)||e.allowAutoExpanded&&e.allowAutoExpandLoad&&!1===t.isLeaf).map(e=>e.key)),a.cleanTreeStater(!1,["expanded"]),a.resetTreeStater(!1,["expanded"]))},doTreeAllCollapsed(){n.expandedKeys.length>0&&(a.collapseTreeNodes(n.expandedKeys),a.cleanTreeStater(!1,["expanded"]),a.resetTreeStater(!1,["expanded"]))},doTreeToggleExpanded(t){const l=n.flatTreeNodes,o=n.childTreeNodes,r=n.parentTreeNodes,i=[...n.expandedKeys],s=[];if(qe.isNonEmptyArray(t)&&(t=t.filter(e=>l.some(t=>t.key===e)),t=Array.from(new Set(t))),!qe.isArray(t))return;const d=l.filter(e=>t.some(t=>e.key===t)&&i.some(t=>e.key===t)),c=l.filter(e=>t.some(t=>e.key===t)&&!i.some(t=>e.key===t)),p=d.map(e=>e.key),u=c.map(e=>e.key);if(qe.isNonEmptyArray(d))for(const n of p)e.allowAutoCollapsed?i.splice(0,i.length,...i.filter(e=>e!==n&&!(o.value[n]||[]).some(t=>t.key===e))):i.splice(0,i.length,...i.filter(e=>e!==n));if(qe.isNonEmptyArray(u))for(const n of u){const t=(r.value[n]||[]).map(e=>e.key);if(s.push(n,...t),e.allowAutoExpanded){let t=!0,o=!0,r=l.find(e=>e.key===n);for(;r&&(o||t);)s.push(r.key),r=1===r.children.length?r.children[0]:void 0,o=!!r&&!qe.isNonEmptyArray(r.children)&&e.allowAutoExpandLoad&&!1===r.isLeaf&&qe.isFunction(e.loadData),t=!!r&&qe.isNonEmptyArray(r.children)}}s.push(...Array.from(new Set(i))),a.doTreeOnlyExpanded(Array.from(new Set(s)))},doTreeOnlyExpanded(t){const l=n.loadKeys,o=n.expandedKeys,r=n.linkTreeNodes,i=n.flatTreeNodes,s=n.childTreeNodes,d=n.parentTreeNodes;if(qe.isNonEmptyArray(t)&&(t=t.filter(e=>i.some(t=>t.key===e)),t=Array.from(new Set(t))),!qe.isArray(t))return;const c=i.filter(e=>o.some(t=>e.key===t)&&t.some(t=>e.key===t)),p=i.filter(e=>!o.some(t=>e.key===t)&&t.some(t=>e.key===t)),u=i.filter(e=>o.some(t=>e.key===t)&&!t.some(t=>e.key===t)),f=c.map(e=>e.key),b=p.map(e=>e.key),h=u.map(e=>e.key),g=[...b,...f],y=[],m=[];if(o.splice(0,o.length),b.sort((e,t)=>i.findIndex(t=>t.key===e)-i.findIndex(e=>e.key===t)),h.sort((e,t)=>i.findIndex(t=>t.key===e)-i.findIndex(e=>e.key===t)),g.sort((e,t)=>i.findIndex(t=>t.key===e)-i.findIndex(e=>e.key===t)),e.allowUnExpanded||1!==r.length||(y.push(r.map(e=>e.key)[0]),m.push(r.map(e=>e.key)[0])),qe.isNonEmptyArray(g)){if(g.splice(0,g.length,...Array.from(new Set(g))),g.sort((e,t)=>i.findIndex(t=>t.key===e)-i.findIndex(e=>e.key===t)),!e.allowMultiExpanded){const t=g.find(t=>{const n=i.find(e=>e.key===t),o=qe.isNonEmptyArray(n.children),r=!1===n.isLeaf&&qe.isFunction(e.loadData),a=!0===l.includes(t);return o||r&&!a});if(t){m.push(t);for(const e of g){const l=s.value[t]||[];if((d.value[t]||[]).some(t=>t.key===e))m.push(e);else if(l.some(t=>t.key===e)){const t=(d.value[e]||[]).map(e=>e.key);m.every(e=>t.includes(e))&&m.push(e)}}}}if(e.allowMultiExpanded)for(const t of g){const n=!1===i.find(e=>e.key===t).isLeaf&&qe.isFunction(e.loadData),o=!0===l.includes(t),r=s.value[t]||[];(qe.isNonEmptyArray(r)||n&&!o)&&((qe.isNonEmptyArray(r)||n&&!o)&&m.push(t))}y.splice(0,y.length,...Array.from(new Set(m))),m.splice(0,m.length,...Array.from(new Set(m)))}if(qe.isNonEmptyArray(m)){if(m.sort((e,t)=>i.findIndex(t=>t.key===e)-i.findIndex(e=>e.key===t)),e.allowAutoCollapsed)for(;y.length>0;){const e=y.pop(),t=d.value[e];t&&!t.every(e=>m.includes(e.key))&&m.splice(m.indexOf(e),1)}a.expandTreeNodes(m)}a.cleanTreeStater(!1,["expanded"]),a.resetTreeStater(!1,["expanded"])},doTreePushExpanded(t){const l=n.flatTreeNodes,o=n.childTreeNodes,r=n.parentTreeNodes,i=[...n.expandedKeys],s=[];if(qe.isNonEmptyArray(t)&&(t=t.filter(e=>n.flatTreeNodes.some(t=>t.key===e)),t=Array.from(new Set(t))),!qe.isNonEmptyArray(t))return;const d=l.filter(e=>t.includes(e.key)).map(e=>e.key);if(qe.isNonEmptyArray(d)){d.sort((e,t)=>l.findIndex(t=>t.key===e)-l.findIndex(e=>e.key===t));for(const t of d){const n=(r.value[t]||[]).map(e=>e.key);if(s.push(t,...n),e.allowAutoExpanded){let n=!0,o=!0,r=l.find(e=>e.key===t);for(;r&&(o||n);)s.push(r.key),r=1===r.children.length?r.children[0]:void 0,o=!!r&&!qe.isNonEmptyArray(r.children)&&e.allowAutoExpandLoad&&!1===r.isLeaf&&qe.isFunction(e.loadData),n=!!r&&qe.isNonEmptyArray(r.children)}}if(!e.allowMultiExpanded){const e=[];for(;d.length>0;){const t=d.shift(),l=(r.value[t]||[]).map(e=>e.key);(0===e.length||l.every(t=>e.includes(t)))&&e.push(...[t,...l].filter(t=>!e.includes(t)))}e.sort((e,t)=>l.findIndex(t=>t.key===e)-l.findIndex(e=>e.key===t));const t=e.pop(),n=(o.value[t]||[]).map(e=>e.key),a=(r.value[t]||[]).map(e=>e.key);s.splice(0,s.length,...s.filter(e=>e===t||n.includes(e)||a.includes(e))),i.splice(0,i.length,...i.filter(e=>e===t||n.includes(e)||a.includes(e)))}}s.push(...Array.from(new Set(i))),a.doTreeOnlyExpanded(Array.from(new Set(s)))},doTreePopExpanded(t){const l=n.flatTreeNodes,o=n.childTreeNodes,r=[...n.expandedKeys];if(qe.isNonEmptyArray(t)&&(t=t.filter(e=>l.some(t=>t.key===e)),t=Array.from(new Set(t))),!qe.isNonEmptyArray(t))return;const i=l.filter(e=>t.includes(e.key)).map(e=>e.key);for(const n of i)e.allowAutoCollapsed?r.splice(0,r.length,...r.filter(e=>e!==n&&!(o.value[n]||[]).some(t=>t.key===e))):r.splice(0,r.length,...r.filter(e=>e!==n));a.doTreeOnlyExpanded(Array.from(new Set(r)))},doTreeAllChecked(){if(!0===e.disabled)return;if(!0!==e.checkable)return;const t=n.flatTreeNodes.filter(e=>!e.disabled&&!e.disableCheckbox&&e.checkable);n.checkedKeys.push(...t.map(e=>e.key)),n.checkedKeys.splice(0,n.checkedKeys.length,...Array.from(n.checkedKeys)),a.cleanTreeStater(!1,["checked"]),a.resetTreeStater(!1,["checked"])},doTreeAllUnChecked(){if(!0===e.disabled)return;if(!0!==e.checkable)return;const t=n.flatTreeNodes.filter(e=>!e.disabled&&!e.disableCheckbox);n.checkedKeys.splice(0,n.checkedKeys.length,...n.checkedKeys.filter(e=>n.outCheckedKeys.includes(e)||!t.some(t=>t.key===e))),n.checkedKeys.splice(0,n.checkedKeys.length,...Array.from(n.checkedKeys)),a.cleanTreeStater(!1,["checked"]),a.resetTreeStater(!1,["checked"])},doTreeToggleChecked(t){if(!0===e.disabled)return;if(!0!==e.checkable)return;if(qe.isNonEmptyArray(t)&&(t=Array.from(new Set(t))),!qe.isNonEmptyArray(t))return;const l=n.flatTreeNodes,o=n.childTreeNodes,r=[...n.checkedKeys,...n.outCheckedKeys],i=t.filter(e=>l.some(t=>t.key===e)&&r.includes(e)),s=t.filter(e=>l.some(t=>t.key===e)&&!r.includes(e)),d=t.filter(e=>!l.some(t=>t.key===e)&&r.includes(e)),c=t.filter(e=>!l.some(t=>t.key===e)&&!r.includes(e));for(const e of s)r.push(e,...(o.value[e]||[]).map(e=>e.key).filter(e=>!r.includes(e)));for(const e of c)r.push(e);for(const e of d)r.splice(0,r.length,...r.filter(t=>t!==e));for(const e of i)r.splice(0,r.length,...r.filter(t=>t!==e&&!(o.value[e]||[]).some(e=>e.key===t)));a.doTreeOnlyChecked(Array.from(new Set(r)))},doTreeOnlyChecked(t){if(!0===e.disabled)return;if(!0!==e.checkable)return;if(qe.isNonEmptyArray(t)&&(t=Array.from(new Set(t))),!qe.isArray(t))return;const l=n.flatTreeNodes,o=n.childTreeNodes,r=n.parentTreeNodes,i=[...n.checkedKeys],s=[...n.outCheckedKeys],d=[...i,...s],c=l.filter(e=>d.some(t=>e.key===t)&&(e.disabled||e.disableCheckbox)),p=l.filter(e=>t.some(t=>e.key===t)&&!e.disabled&&!e.disableCheckbox&&e.checkable),u=[...Array.from(new Set(p)).map(e=>e.key),...t.filter(e=>!l.some(t=>t.key===e))],f=[...Array.from(new Set(c)).map(e=>e.key)],b=Array.from(new Set([...f,...u]));if(qe.isNonEmptyArray(b)||n.checkedKeys.splice(0,n.checkedKeys.length),qe.isNonEmptyArray(b)){for(b.sort((e,t)=>l.findIndex(t=>t.key===e)-l.findIndex(e=>e.key===t));u.length>0;){const e=u.pop();(e&&o.value[e]||[]).filter(e=>!e.disabled&&!e.disableCheckbox&&e.checkable).map(e=>e.key).every(e=>b.includes(e))||b.splice(0,b.length,...b.filter(t=>t!==e))}n.checkedKeys.splice(0,n.checkedKeys.length,...b)}if(qe.isNonEmptyArray(b)&&(n.outCheckedKeys.splice(0,n.outCheckedKeys.length,...n.checkedKeys.filter(e=>!l.some(t=>t.key===e))),n.checkedKeys.splice(0,n.checkedKeys.length,...n.checkedKeys.filter(e=>l.some(t=>t.key===e)))),qe.isEmptyArray(n.checkedKeys)&&!e.allowUnChecked){i.sort((e,t)=>l.findIndex(t=>t.key===e)-l.findIndex(e=>e.key===t));const e=i.filter(e=>l.some(t=>t.key===e)).pop(),t=e&&r.value[e]&&r.value[e].map(e=>e.key)||[];e&&n.checkedKeys.push(e,...i.filter(e=>t.includes(e)))}a.cleanTreeStater(!1,["checked"]),a.resetTreeStater(!1,["checked"])},doTreePushChecked(t){if(!0===e.disabled)return;if(!0!==e.checkable)return;if(qe.isNonEmptyArray(t)&&(t=Array.from(new Set(t))),!qe.isNonEmptyArray(t))return;const l=n.flatTreeNodes,o=n.childTreeNodes,r=[...n.checkedKeys,...n.outCheckedKeys],i=t.filter(e=>l.some(t=>t.key===e)&&!r.includes(e)),s=t.filter(e=>!l.some(t=>t.key===e)&&!r.includes(e));for(const e of i)r.push(e,...(o.value[e]||[]).map(e=>e.key).filter(e=>!r.includes(e)));for(const e of s)r.push(e);a.doTreeOnlyChecked(Array.from(new Set(r)))},doTreePopChecked(t){if(!0===e.disabled)return;if(!0!==e.checkable)return;if(qe.isNonEmptyArray(t)&&(t=Array.from(new Set(t))),!qe.isNonEmptyArray(t))return;const l=n.flatTreeNodes,o=n.childTreeNodes,r=[...n.checkedKeys,...n.outCheckedKeys],i=t.filter(e=>l.some(t=>t.key===e)&&r.includes(e)),s=t.filter(e=>!l.some(t=>t.key===e)&&r.includes(e));for(const e of i)r.splice(0,r.length,...r.filter(t=>t!==e&&!(o.value[e]||[]).some(e=>e.key===t)));for(const e of s)r.splice(0,r.length,...r.filter(t=>t!==e));a.doTreeOnlyChecked(Array.from(new Set(r)))},doTreeSelected(t){if(!0===e.disabled)return;if(qe.isNonEmptyArray(t)&&(t=Array.from(new Set(t))),!qe.isArray(t))return;const l=n.checkedKeys,o=n.selectedKeys,r=n.expandedKeys,i=n.flatTreeNodes,s=i.filter(e=>o.some(t=>e.key===t)&&!t.some(t=>e.key===t)),d=i.filter(e=>!o.some(t=>e.key===t)&&t.some(t=>e.key===t)),c=s.map(e=>e.key),p=d.map(e=>e.key),u=s[0],f=d[0],b=c[0],h=p[0];if(e.checkable&&e.allowSelectToCheck)return h&&f&&(f.disabled||f.disableCheckbox||!f.checkable)&&(r.includes(h)?e.allowAutoCollapsed&&a.doTreePopExpanded([h]):e.allowAutoExpanded&&a.doTreePushExpanded([h])),void(h&&f&&!f.disabled&&!f.disableCheckbox&&f.checkable&&(l.includes(h)?a.doTreePopChecked([h]):a.doTreePushChecked([h])));if(!e.selectable&&!h)return void(b&&(r.includes(b)?e.allowAutoCollapsed&&a.doTreePopExpanded([b]):e.allowAutoExpanded&&a.doTreePushExpanded([b])));if(!e.selectable&&h)return void(r.includes(h)?e.allowAutoCollapsed&&a.doTreePopExpanded([h]):e.allowAutoExpanded&&a.doTreePushExpanded([h]));if(h&&(!1===f.isSelectable||!0===f.disabled))return void(r.includes(h)?e.allowAutoCollapsed&&a.doTreePopExpanded([h]):e.allowAutoExpanded&&a.doTreePushExpanded([h]));if(!h&&b&&(!1===u.isSelectable||!0===u.disabled))return void(r.includes(b)?e.allowAutoCollapsed&&a.doTreePopExpanded([b]):e.allowAutoExpanded&&a.doTreePushExpanded([b]));h&&(e.allowUnSelected&&b===h?o.splice(0,o.length):o.splice(0,o.length,h)),h||!e.allowUnSelected&&b&&o.splice(0,o.length,b);const g=o[0],y=b===g;g&&(r.includes(g)?e.allowAutoCollapsed&&y&&a.doTreePopExpanded([g]):e.allowAutoExpanded&&a.doTreePushExpanded([g])),g||b&&r.includes(b)&&e.allowAutoCollapsed&&a.doTreePopExpanded([g]),a.cleanTreeStater(!1,["selected"]),a.resetTreeStater(!1,["selected"])},doEventDragstart(e){e.event.dataTransfer&&(e.event.dataTransfer.effectAllowed="move")},doEventExpand(t){const l=n.flatTreeNodes,o=n.childTreeNodes,r=n.parentTreeNodes,i=[...n.expandedKeys],s=[];if(qe.isNonEmptyObject(t)&&(t=t.expanded),qe.isNonEmptyArray(t)&&(t=t.filter(e=>n.flatTreeNodes.some(t=>t.key===e)),t=Array.from(new Set(t))),!qe.isArray(t))return;const d=t,c=l.filter(e=>i.some(t=>e.key===t)&&d.some(t=>e.key===t)),p=l.filter(e=>i.some(t=>e.key===t)&&!d.some(t=>e.key===t)),u=l.filter(e=>!i.some(t=>e.key===t)&&d.some(t=>e.key===t)),f=c.map(e=>e.key),b=p.map(e=>e.key),h=u.map(e=>e.key);if(qe.isNonEmptyArray(p))for(const n of b)e.allowAutoCollapsed?f.splice(0,f.length,...f.filter(e=>e!==n&&!(o.value[n]||[]).some(t=>t.key===e))):f.splice(0,f.length,...f.filter(e=>e!==n));if(qe.isNonEmptyArray(h)){for(const t of h){const n=l.find(e=>e.key===t),a=r.value[t]||[],i=o.value[t]||[];if(s.push(t,...a.map(e=>e.key)),qe.isNonEmptyArray(i)&&1===n.children.length&&e.allowAutoExpanded){let e=n.children[0],t=e?.children.length,l=e?.key;for(;e&&1===t&&l;)s.push(l),e=e.children[0],t=e?.children.length,l=e?.key}}if(!e.allowMultiExpanded){const e=h[0],t=(o.value[e]||[]).map(e=>e.key),l=(r.value[e]||[]).map(e=>e.key);s.splice(0,s.length,...s.filter(n=>n===e||t.includes(n)||l.includes(n))),f.splice(0,f.length,...f.filter(n=>n===e||t.includes(n)||l.includes(n)))}}s.push(...Array.from(new Set(f))),a.doTreeOnlyExpanded(Array.from(new Set(s)))},doEventSelect(t){!0!==e.disabled&&(qe.isNonEmptyObject(t)&&(t=t.selected),a.doTreeSelected(t))},doEventCheck(t){if(!0===e.disabled)return;if(!0!==e.checkable)return;if(qe.isNonEmptyObject(t)&&(t=t.checked),qe.isNonEmptyArray(t)&&(t=Array.from(new Set(t))),!qe.isArray(t))return;const l=n.childTreeNodes,o=[...t,...n.outCheckedKeys],r=[...n.checkedKeys,...n.outCheckedKeys],i=r.filter(e=>!o.includes(e)),s=o.filter(e=>!r.includes(e));for(const e of s)r.push(e,...(l.value[e]||[]).map(e=>e.key).filter(e=>!r.includes(e)));for(const e of i)r.splice(0,r.length,...r.filter(t=>t!==e&&!(l.value[e]||[]).some(e=>e.key===t)));a.doTreeOnlyChecked(Array.from(new Set(r)))},doEventDrop(t){const l=t.node.key,o=t.dragNode.key,r=t.node.pos?t.node.pos.split("-"):[],i=t.dropPosition-Number(r[r.length-1]),s=n.flatTreeNodes.find(e=>e.key===l),d=n.flatTreeNodes.find(e=>e.key===o);if(s&&d&&[-1,0,1].includes(i)){if(-1===i||1===i){const t=s&&s.parentNode||null,l=t?t.children:n.linkTreeNodes,o=t?[...t.children]:[...n.linkTreeNodes];if(o.includes(d)&&o.splice(o.findIndex(e=>e===d),1),!o.includes(d)){const e=o.findIndex(e=>e===s),t=1===i?e+i:e;o.splice(t,0,d)}if(o.length!==l.length||!o.every((e,t)=>l[t]===e)){const r=[{parentNode:t?.referenceSourceNode,oldChildNodes:l.map(e=>e.referenceSourceNode),rootChildNodes:n.linkTreeNodes.map(e=>e.referenceSourceNode),newChildNodes:o.map(e=>e.referenceSourceNode)}],i=l.includes(d)?[]:[{parentNode:d.parentNode?.referenceSourceNode,rootChildNodes:n.linkTreeNodes.map(e=>e.referenceSourceNode),removeChildNodes:[d.referenceSourceNode]}],s=l.includes(d)?[]:[{parentNode:t?.referenceSourceNode,rootChildNodes:n.linkTreeNodes.map(e=>e.referenceSourceNode),appendChildNodes:[d.referenceSourceNode]}];!1!==(qe.isFunction(e.dropHandler)?e.dropHandler:()=>!0)({reloadNodes:r,appendNodes:s,removeNodes:i})&&a.changeTreeNodes(o.map(e=>e.referenceSourceNode),t?.key)}}if(0===i){const t=s,l=t.children,o=[...t.children];if(o.includes(d)&&o.splice(o.findIndex(e=>e===d),1),o.includes(d)||o.unshift(d),o.length!==l.length||!o.every((e,t)=>l[t]===e)){const r=[{parentNode:t?.referenceSourceNode,oldChildNodes:l.map(e=>e.referenceSourceNode),rootChildNodes:n.linkTreeNodes.map(e=>e.referenceSourceNode),newChildNodes:o.map(e=>e.referenceSourceNode)}],i=l.includes(d)?[]:[{parentNode:d.parentNode?.referenceSourceNode,rootChildNodes:n.linkTreeNodes.map(e=>e.referenceSourceNode),removeChildNodes:[d.referenceSourceNode]}],s=l.includes(d)?[]:[{parentNode:t?.referenceSourceNode,rootChildNodes:n.linkTreeNodes.map(e=>e.referenceSourceNode),appendChildNodes:[d.referenceSourceNode]}];!1!==(qe.isFunction(e.dropHandler)?e.dropHandler:()=>!0)({reloadNodes:r,appendNodes:s,removeNodes:i})&&a.changeTreeNodes(o.map(e=>e.referenceSourceNode),t?.key)}}}},doTreeLoad(t){const l=[],o=n.loadKeys,i=n.loadedKeys,s=n.expandedKeys,d=n.flatTreeNodes,c=n.childTreeNodes,p=n.parentTreeNodes,u=qe.isFunction(e.loadData)?e.loadData:null,f=t.filter(e=>d.some(t=>t.key===e));if(!qe.isFunction(u))return Promise.resolve([]);if(qe.isNonEmptyArray(f))for(f.sort((e,t)=>d.findIndex(t=>t.key===e)-d.findIndex(e=>e.key===t));f.length>0;){const e=f.shift();t.includes(e)&&(t.splice(0,t.length,...t.filter(t=>!c.value[e].some(e=>e.key===t))),f.splice(0,f.length,...f.filter(t=>!c.value[e].some(e=>e.key===t))))}if(qe.isNonEmptyArray(t))for(const b of t){const t=e=>e!==b,c=e=>e.key===b,f=d.find(c);if(!f){s.splice(0,s.length,...s.filter(t)),i.splice(0,i.length,...i.filter(t)),o.splice(0,o.length,...o.filter(t));continue}if(o.includes(b))continue;o.includes(b)||o.push(b),i.includes(b)&&i.splice(0,i.length,...i.filter(t));const h=e=>{i.includes(b)||i.push(b),o.includes(b)&&o.splice(0,o.length,...o.filter(t)),o.sort((e,t)=>d.findIndex(t=>t.key===e)-d.findIndex(e=>e.key===t)),i.sort((e,t)=>d.findIndex(t=>t.key===e)-d.findIndex(e=>e.key===t)),a.appendTreeNodes(e,b),p.value[b]&&!p.value[b].every(e=>s.includes(e.key))||a.doTreePushExpanded([b])},g=e=>{o.splice(0,o.length,...o.filter(t)),i.splice(0,i.length,...i.filter(t)),s.splice(0,s.length,...s.filter(t)),o.sort((e,t)=>d.findIndex(t=>t.key===e)-d.findIndex(e=>e.key===t)),i.sort((e,t)=>d.findIndex(t=>t.key===e)-d.findIndex(e=>e.key===t))},y={expandedKeys:n.expandedKeys,outCheckedKeys:n.outCheckedKeys,selectedKeys:"link"===e.selectedMode?r.selectedLinkNodes.map(e=>e.key):r.selectedNodes.map(e=>e.key),checkedKeys:"link"===e.checkedMode?r.checkedLinkNodes.map(e=>e.key):r.checkedNodes.map(e=>e.key),loadedKeys:n.loadedKeys,loadKeys:n.loadKeys};l.push(Promise.resolve(u(f.referenceSourceNode,y)).then(e=>h(e||[])).catch(e=>g()))}return Promise.all(l)},forceUpdate(t){const o=z(e.treeData),r=z(l.treeData),i=a.spreadTreeNodes(o,1/0),s=a.spreadTreeNodes(r,1/0);i.length===s.length&&i.every((e,t)=>e===s[t])||(n.propTreeNodes.splice(0,n.propTreeNodes.length,...o),l.treeData.splice(0,l.treeData.length,...o)),a.resetTreeNodes([...n.propTreeNodes],t)}},i=()=>{n.filterField.value===e.filterField&&n.filterValue.value===e.filterValue||(t.emit("update:filterField",n.filterField.value),t.emit("update:filterValue",n.filterValue.value))},s=()=>{const o=e.checkedKeys,a="link"===e.checkedMode?[...r.checkedLinkNodes.map(e=>e.key)]:[...r.checkedNodes.map(e=>e.key)],i=Array.from(new Set([...a,...n.outCheckedKeys]));i.every((e,t)=>o[t]===e)&&o.every((e,t)=>i[t]===e)||(l.checkedKeys.splice(0,l.checkedKeys.length,...i),t.emit("update:checkedKeys",[...i]),t.emit("check",{checkedKeys:i,delCheckedKeys:o.filter(e=>!i.includes(e)),addCheckedKeys:i.filter(e=>!o.includes(e)),checkedNode:n.flatTreeNodes.find(e=>e.key===i[0])?.referenceSourceNode||null}))},d=()=>{const o=e.selectedKeys,a="link"===e.selectedMode?[...r.selectedLinkNodes.map(e=>e.key)]:[...r.selectedNodes.map(e=>e.key)];a.every((e,t)=>o[t]===e)&&o.every((e,t)=>a[t]===e)||(l.selectedKeys.splice(0,l.selectedKeys.length,...a),t.emit("update:selectedKeys",[...a]),t.emit("select",{selectedKeys:a,delSelectedKeys:o.filter(e=>!a.includes(e)),addSelectedKeys:a.filter(e=>!o.includes(e)),selectedNode:n.flatTreeNodes.find(e=>e.key===a[0])?.referenceSourceNode||null}))},c=()=>{const o=e.expandedKeys,r=n.expandedKeys;r.every((e,t)=>o[t]===e)&&o.every((e,t)=>r[t]===e)||(l.expandedKeys.splice(0,l.expandedKeys.length,...r),t.emit("update:expandedKeys",[...r]),t.emit("expand",{expandedKeys:r,delExpandedKeys:o.filter(e=>!r.includes(e)),addExpandedKeys:r.filter(e=>!o.includes(e)),expandedNode:n.flatTreeNodes.find(e=>e.key===r[0])?.referenceSourceNode||null}))},p=()=>{e.filterField===n.filterField.value&&e.filterValue===n.filterValue.value||a.filterTreeNodes({filterField:e.filterField,filterValue:e.filterValue})},u=()=>{const t=n.flatTreeNodes,o=n.childTreeNodes,r=n.parentTreeNodes,a=e.checkedKeys.filter(e=>t.some(t=>t.key===e)),i=l.checkedKeys.filter(e=>t.some(t=>t.key===e)),s=a.map(e=>t.find(t=>t.key===e)),d=a.map(e=>t.find(t=>t.key===e)),c=a.map(e=>t.find(t=>t.key===e));for(i.sort((e,l)=>t.findIndex(t=>t.key===e)-t.findIndex(e=>e.key===l)),s.sort((e,l)=>t.findIndex(t=>t===e)-t.findIndex(e=>e===l)),d.sort((e,l)=>t.findIndex(t=>t===e)-t.findIndex(e=>e===l)),c.sort((e,l)=>t.findIndex(t=>t===e)-t.findIndex(e=>e===l));c.length>0;){const e=c.pop(),t=(o.value[e.key]||[]).filter(e=>!e.disabled&&!e.disableCheckbox&&e.checkable),l=(r.value[e.key]||[]).filter(e=>!e.disabled&&!e.disableCheckbox&&e.checkable).map(e=>e.key);qe.isNonEmptyArray(t)&&!t.every(e=>s.some(t=>e===t))&&(s.splice(0,s.length,...s.filter(t=>t.disabled||t.disableCheckbox||t.checkable&&t.key!==e.key&&!l.includes(t.key))),c.splice(0,c.length,...c.filter(t=>t.disabled||t.disableCheckbox||t.checkable&&t.key!==e.key&&!l.includes(t.key))))}e.checkedKeys.every((e,t)=>l.checkedKeys[t]===e)&&l.checkedKeys.every((t,l)=>e.checkedKeys[l]===t)||(n.outCheckedKeys.splice(0,n.outCheckedKeys.length,...e.checkedKeys.filter(e=>!t.some(t=>t.key===e))),n.checkedKeys.splice(0,n.checkedKeys.length,...s.map(e=>e.key)),l.checkedKeys.splice(0,l.checkedKeys.length,...e.checkedKeys))},f=()=>{const t=n.flatTreeNodes,o=n.childTreeNodes,r=n.parentTreeNodes,a=l.selectedKeys.filter(e=>t.some(t=>t.key===e)),i=e.selectedKeys.filter(e=>t.some(t=>t.key===e)),s=e.selectedKeys.filter(e=>t.some(t=>t.key===e)),d=i.map(e=>t.find(t=>t.key===e)),c=s.map(e=>t.find(t=>t.key===e));if(a.sort((e,l)=>t.findIndex(t=>t.key===e)-t.findIndex(e=>e.key===l)),d.sort((e,l)=>t.findIndex(t=>t===e)-t.findIndex(e=>e===l)),c.sort((e,l)=>t.findIndex(t=>t===e)-t.findIndex(e=>e===l)),"link"===e.selectedMode)for(;c.length>0;){const e=c.pop(),t=(o.value[e.key]||[]).filter(e=>!e.disabled&&e.isSelectable),l=(r.value[e.key]||[]).filter(e=>!e.disabled&&e.isSelectable).map(e=>e.key);qe.isNonEmptyArray(t)&&t.some(e=>d.some(t=>e===t))&&(d.splice(0,d.length,...d.filter(t=>t.disabled||t.key!==e.key)),c.splice(0,c.length,...c.filter(t=>t.disabled||t.key!==e.key))),d.splice(0,d.length,...d.filter(e=>e.disabled||!l.includes(e.key))),c.splice(0,c.length,...c.filter(e=>e.disabled||!l.includes(e.key)))}d.every((e,t)=>a[t]===e.key)&&a.every((e,t)=>d[t]?.key===e)||(l.selectedKeys.splice(0,l.selectedKeys.length,...d.map(e=>e.key)),n.selectedKeys.splice(0,n.selectedKeys.length,...d.map(e=>e.key)))},b=()=>{const t=n.flatTreeNodes,o=e.expandedKeys.filter(e=>t.some(t=>t.key===e)),r=l.expandedKeys.filter(e=>t.some(t=>t.key===e));o.sort((e,l)=>t.findIndex(t=>t.key===e)-t.findIndex(e=>e.key===l)),r.sort((e,l)=>t.findIndex(t=>t.key===e)-t.findIndex(e=>e.key===l)),o.every((e,t)=>r[t]===e)&&r.every((e,t)=>o[t]===e)||(l.expandedKeys.splice(0,l.expandedKeys.length,...o),n.expandedKeys.splice(0,n.expandedKeys.length,...o))},h=t=>{const o=z(e.treeData),r=z(l.treeData),i=a.spreadTreeNodes(o,1/0),s=a.spreadTreeNodes(r,1/0);i.length===s.length&&i.every((e,t)=>e===s[t])||(n.propTreeNodes.splice(0,n.propTreeNodes.length,...o),l.treeData.splice(0,l.treeData.length,...o),a.resetTreeNodes(n.propTreeNodes,t))},g=(t,l)=>{const n=[""].concat(e.class),o=e.style;return w("section",{ref:"treeContainer",class:[...n,"s-tree-container"],style:o},[w(de,{spinning:e.loading},{default:()=>[w(y,null,l.slots)]})])},y=(t,l)=>{const o={...l.slots,switcherIcon:qe.isFunction(l.slots.switcherIcon)?e=>l.slots.switcherIcon({...e.referenceSourceNode,switcherCls:e.switcherCls}):e=>m(e),title:qe.isFunction(l.slots.title)?e=>l.slots.title({...e.referenceSourceNode}):e=>x(e,l),icon:qe.isFunction(l.slots.icon)?e=>l.slots.icon({...e.referenceSourceNode}):e=>v(e,l)};return w(he,{treeData:[...n.linkTreeNodes],expandedKeys:[...n.expandedKeys],selectedKeys:[...n.selectedKeys],checkedKeys:{checked:n.checkedKeys,halfChecked:n.halfCheckedKeys},onDragstart:a.doEventDragstart,onExpand:a.doEventExpand,onSelect:a.doEventSelect,onCheck:a.doEventCheck,onDrop:a.doEventDrop,selectable:e.selectable,checkable:e.checkable,blockNode:e.blockNode,draggable:e.draggable,disabled:e.disabled,showIcon:e.showIcon,showLine:e.showLine,virtual:e.virtual,height:e.height,checkStrictly:!0,multiple:!1},o)},m=(e,t)=>{const l=a.renderSwitcher(e);return w(_e,{type:l,class:{[e.switcherCls]:"CaretDownOutlined"===l},style:{cursor:"pointer"},onClick:t=>{"LoadingOutlined"!==l&&a.triggerSwitcher(e),t.stopPropagation()}},null)},v=(t,l)=>{if("iconRoot"===t.scopedSlots.icon){if(qe.isFunction(l.slots.iconRoot)){const e=j(l.slots,"iconRoot",{...t.referenceSourceNode});if(a.getVNodes(e))return e}const n=e.iconClass,o=e.iconStyle,r=e.iconPrefix,i=e.iconfontUrl;return Xe(t.icon)||qe.isString(t.icon)&&qe.isNonEmptyString(r)&&qe.isNonEmptyString(i)&&t.icon.startsWith(r)?w(_e,{type:t.icon,iconfontUrl:i,iconPrefix:r,class:n,style:o},null):w(_e,{type:"AppstoreOutlined",class:n,style:o},null)}if("iconParent"===t.scopedSlots.icon){if(qe.isFunction(l.slots.iconParent)){const e=j(l.slots,"iconParent",{...t.referenceSourceNode});if(a.getVNodes(e))return e}const n=e.iconClass,o=e.iconStyle,r=e.iconPrefix,i=e.iconfontUrl;return Xe(t.icon)||qe.isString(t.icon)&&qe.isNonEmptyString(r)&&qe.isNonEmptyString(i)&&t.icon.startsWith(r)?w(_e,{type:t.icon,iconfontUrl:i,iconPrefix:r,class:n,style:o},null):w(_e,{type:"ApartmentOutlined",class:n,style:o},null)}if("iconLeaf"===t.scopedSlots.icon){if(qe.isFunction(l.slots.iconLeaf)){const e=j(l.slots,"iconLeaf",{...t.referenceSourceNode});if(a.getVNodes(e))return e}const n=e.iconClass,o=e.iconStyle,r=e.iconPrefix,i=e.iconfontUrl;return Xe(t.icon)||qe.isString(t.icon)&&qe.isNonEmptyString(r)&&qe.isNonEmptyString(i)&&t.icon.startsWith(r)?w(_e,{type:t.icon,iconfontUrl:i,iconPrefix:r,class:n,style:o},null):w(_e,{type:"ApartmentOutlined",class:n,style:o},null)}},x=(t,l)=>{const n=(t,l)=>{if(qe.isFunction(l.slots.titleRootLabel)){const n=j(l.slots,"titleRootLabel",{...t.referenceSourceNode});if(a.getVNodes(n))return w("span",{class:"s-tree-title-label"},[w(Qe,{tooltip:e.tooltip,ellipsis:!0},yt(n)?n:{default:()=>[n]})])}if(qe.isNonEmptyArray(t.titles)){const l=k.value.colorPrimary,n="inherit";return w("span",{class:"s-tree-title-label"},[w(Qe,{tooltip:e.tooltip,ellipsis:!0},{default:()=>[w("span",{class:"normal",style:{color:n}},[t.titles[0]]),w("span",{class:"primary",style:{color:l}},[t.titles[1]]),w("span",{class:"normal",style:{color:n}},[t.titles[2]])]})])}return w("span",{class:"s-tree-title-label"},[w(Qe,{tooltip:e.tooltip,ellipsis:!0},{default:()=>[t.title]})])},o=(t,l)=>{if(qe.isFunction(l.slots.titleRootButton)){const n=j(l.slots,"titleRootButton",{...t.referenceSourceNode});if(a.getVNodes(n))return w("span",{class:["s-tree-title-button",{"always-show-title-button":!0===e.alwaysShowTitleButton||!0===t.alwaysShowTitleButton}]},[n])}return w("span",{class:"s-tree-title-button"},null)},r=(t,l)=>{if(qe.isFunction(l.slots.titleParentLabel)){const n=j(l.slots,"titleParentLabel",{...t.referenceSourceNode});if(a.getVNodes(n))return w("span",{class:"s-tree-title-label"},[w(Qe,{tooltip:e.tooltip,ellipsis:!0},yt(n)?n:{default:()=>[n]})])}if(qe.isNonEmptyArray(t.titles)){const l=k.value.colorPrimary,n="inherit";return w("span",{class:"s-tree-title-label"},[w(Qe,{tooltip:e.tooltip,ellipsis:!0},{default:()=>[w("span",{class:"normal",style:{color:n}},[t.titles[0]]),w("span",{class:"primary",style:{color:l}},[t.titles[1]]),w("span",{class:"normal",style:{color:n}},[t.titles[2]])]})])}return w("span",{class:"s-tree-title-label"},[w(Qe,{tooltip:e.tooltip,ellipsis:!0},{default:()=>[qe.isString(t.title)?t.title:""]})])},i=(t,l)=>{if(qe.isFunction(l.slots.titleParentButton)){const n=j(l.slots,"titleParentButton",{...t.referenceSourceNode});if(a.getVNodes(n))return w("span",{class:["s-tree-title-button",{"always-show-title-button":!0===e.alwaysShowTitleButton||!0===t.alwaysShowTitleButton}]},[n])}return w("span",{class:"s-tree-title-button"},null)},s=(t,l)=>{if(qe.isFunction(l.slots.titleLeafLabel)){const n=j(l.slots,"titleLeafLabel",{...t.referenceSourceNode});if(a.getVNodes(n))return w("span",{class:"s-tree-title-label"},[w(Qe,{tooltip:e.tooltip,ellipsis:!0},yt(n)?n:{default:()=>[n]})])}if(qe.isNonEmptyArray(t.titles)){const l=k.value.colorPrimary,n="inherit";return w("span",{class:"s-tree-title-label"},[w(Qe,{tooltip:e.tooltip,ellipsis:!0},{default:()=>[w("span",{class:"normal",style:{color:n}},[t.titles[0]]),w("span",{class:"primary",style:{color:l}},[t.titles[1]]),w("span",{class:"normal",style:{color:n}},[t.titles[2]])]})])}return w("span",{class:"s-tree-title-label"},[w(Qe,{tooltip:e.tooltip,ellipsis:!0},{default:()=>[qe.isString(t.title)?t.title:""]})])},d=(t,l)=>{if(qe.isFunction(l.slots.titleLeafButton)){const n=j(l.slots,"titleLeafButton",{...t.referenceSourceNode});if(a.getVNodes(n))return w("span",{class:["s-tree-title-button",{"always-show-title-button":!0===e.alwaysShowTitleButton||!0===t.alwaysShowTitleButton}]},[n])}return w("span",{class:"s-tree-title-button"},null)};if("titleRoot"===t.scopedSlots.title){const r={...t,key:void 0};if(qe.isFunction(l.slots.titleRoot)){const e=j(l.slots,"titleRoot",{...t.referenceSourceNode});if(a.getVNodes(e))return e}return w("span",{class:["s-tree-title-node","s-tree-title-root-node",{"s-tree-title-sticky-node":!0===e.sticky}]},[w(n,r,l.slots),w(o,r,l.slots)])}if("titleParent"===t.scopedSlots.title){const e={...t,key:void 0};if(qe.isFunction(l.slots.titleParent)){const e=j(l.slots,"titleParent",{...t.referenceSourceNode});if(a.getVNodes(e))return e}return w("span",{class:"s-tree-title-node s-tree-title-parent-node"},[w(r,e,l.slots),w(i,e,l.slots)])}if("titleLeaf"===t.scopedSlots.title){const e={...t,key:void 0};if(qe.isFunction(l.slots.titleLeaf)){const e=j(l.slots,"titleLeaf",{...t.referenceSourceNode});if(a.getVNodes(e))return e}return w("span",{class:"s-tree-title-node s-tree-title-leaf-node"},[w(s,e,l.slots),w(d,e,l.slots)])}};I([()=>e.checkable,()=>e.filterField,()=>e.filterValue,()=>e.checkedMode,()=>e.selectedMode,()=>[...e.treeData],()=>[...e.checkedKeys],()=>[...e.selectedKeys],()=>[...e.expandedKeys]],([e,t,l,n,o,r,i,s,d],[c,g,y,m,v,x,w,k,S])=>{let C=!1,N=!1,T=!1,A=!1,I=!1,P=!1,R=!1,E=!1,O=!1,F=!1;if(C||(C=t!==g||l!==y),!N&&r!==x){const e=z(K(r))||[],t=z(K(x))||[],l=a.spreadTreeNodes(e,1/0),n=a.spreadTreeNodes(t,1/0);N=!l.every((e,t)=>e===n[t])||!n.every((e,t)=>e===l[t])}if(T||(i!==w&&(E=!qe.isArray(i)||!qe.isArray(w)||i.length!==w.length||i.some(e=>!w.includes(e))),s!==k&&(O=!qe.isArray(s)||!qe.isArray(k)||s.length!==k.length||s.some(e=>!k.includes(e))),d!==S&&(F=!qe.isArray(d)||!qe.isArray(S)||d.length!==S.length||d.some(e=>!S.includes(e))),I=e!==c,P=n!==m,R=o!==v,T=I||P||R||E||O||F,A=I),C&&p(),N&&h(A),T){const e=[];E&&e.push("checked"),O&&e.push("selected"),F&&e.push("expanded"),E&&u(),O&&f(),F&&b(),a.cleanTreeStater(A,e),a.resetTreeStater(A,e)}}),I(()=>[n.filterField.value,n.filterValue.value],()=>i()),I(()=>[...n.checkedKeys,...n.outCheckedKeys,...n.flatTreeNodes],()=>s()),I(()=>[...n.selectedKeys,...n.flatTreeNodes],()=>d()),I(()=>[...n.expandedKeys,...n.flatTreeNodes],()=>c()),I(()=>e.bgColor,()=>{const t=e.bgColor,n=l.treeContainer.value;n?.style.setProperty("--tree-background-color",t)}),N(()=>{const t=e.bgColor,n=l.treeContainer.value;n?.style.setProperty("--tree-background-color",t)}),t.expose({filterTreeNodes:a.filterTreeNodes,reloadTreeNodes:a.reloadTreeNodes,appendTreeNodes:a.appendTreeNodes,removeTreeNodes:a.removeTreeNodes,changeTreeNodes:a.changeTreeNodes,pickUpperTreeNodes:a.pickUpperTreeNodes,pickLowerTreeNodes:a.pickLowerTreeNodes,pickMatchTreeNode:a.pickMatchTreeNode,doTreeAllExpanded:a.doTreeAllExpanded,doTreeAllCollapsed:a.doTreeAllCollapsed,doTreeToggleExpanded:a.doTreeToggleExpanded,doTreeOnlyExpanded:a.doTreeOnlyExpanded,doTreePushExpanded:a.doTreePushExpanded,doTreePopExpanded:a.doTreePopExpanded,doTreeAllChecked:a.doTreeAllChecked,doTreeAllUnChecked:a.doTreeAllUnChecked,doTreeToggleChecked:a.doTreeToggleChecked,doTreeOnlyChecked:a.doTreeOnlyChecked,doTreePushChecked:a.doTreePushChecked,doTreePopChecked:a.doTreePopChecked,doTreeSelected:a.doTreeSelected,forceUpdate:a.forceUpdate});const k=be.useToken().token;if(h(),b(),f(),u(),p(),a.cleanTreeStater(),a.resetTreeStater(),!0===e.defaultExpandAll){const t=qe.isFiniteNumber(e.filterValue),l=qe.isNonEmptyString(e.filterValue);!t&&!l&&a.doTreeAllExpanded()}return()=>w(g,null,t.slots)},methods:{}}),vt=e=>e,xt=e=>e,wt=e=>e,kt=e=>e;tt("body.cursor-column-resizable,\nbody.cursor-column-resizable .s-table-container {\n  cursor: col-resize !important;\n}\nbody.user-select-none,\nbody.user-select-none .s-table-container {\n  user-select: none !important;\n}\n.s-table-container {\n  --table-thead-color: #fafafa;\n  --table-border-color: #f0f0f0;\n  --table-primary-color: #1890ff;\n  --table-background-color: #ffffff;\n  --table-padding-vertical: 16px;\n  --table-padding-vertical-small: 8px;\n  --table-padding-vertical-middle: 12px;\n  --table-padding-horizontal: 16px;\n  --table-padding-horizontal-small: 8px;\n  --table-padding-horizontal-middle: 8px;\n}\n.s-table-container {\n  width: 100%;\n  height: auto;\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n.s-table-container > .s-table-spining-container {\n  width: fit-content;\n  min-width: 100%;\n  min-height: 130px;\n  box-sizing: border-box;\n  position: relative;\n  z-index: 1;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper {\n  width: fit-content;\n  min-width: 100%;\n  height: auto;\n  margin: 0;\n  padding: 0;\n  /* overflow: auto; -- support sticky header in document */\n  border-radius: 2px;\n  box-sizing: border-box;\n  position: relative;\n  z-index: 1;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table {\n  width: fit-content;\n  min-width: 100%;\n  font-family: PingFang SC,\n          Microsoft YaHei,\n          Arial;\n  font-size: 14px;\n  line-height: 1.5;\n  color: #303133;\n  text-align: left;\n  list-style: none;\n  background-color: var(--table-background-color);\n  font-variant: tabular-nums;\n  font-feature-settings: 'tnum';\n  border-collapse: separate;\n  box-sizing: border-box;\n  border-spacing: 0;\n  border-radius: 4px;\n  table-layout: fixed;\n  position: relative;\n  z-index: 999;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > colgroup > col {\n  box-sizing: border-box;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr.s-table-tbody-click-tr {\n  cursor: pointer;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-thead > .s-table-thead-tr > .s-table-thead-th {\n  padding: var(--table-padding-vertical) var(--table-padding-horizontal);\n  color: #303133;\n  font-size: 14px;\n  line-height: 1.5;\n  font-weight: 600;\n  text-align: left;\n  background-color: var(--table-thead-color);\n  box-sizing: border-box;\n  transition: background 0.3s ease;\n  position: relative;\n  overflow: hidden;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-thead > .s-table-thead-tr > .s-table-thead-th.s-table-thead-sortable-th {\n  padding-right: max(var(--table-padding-horizontal), 22px);\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-thead > .s-table-thead-tr > .s-table-thead-th > .s-table-thead-th-functional {\n  display: inline-block;\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  top: 0;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-thead > .s-table-thead-tr > .s-table-thead-th > .s-table-thead-th-functional > .s-table-thead-functional-resizable {\n  width: 5px;\n  display: block;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  cursor: col-resize;\n  background-color: rgba(255, 255, 255, 0.03);\n  z-index: 10;\n  opacity: 0.5;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td {\n  padding: var(--table-padding-vertical) var(--table-padding-horizontal);\n  color: rgba(0, 0, 0, 0.8);\n  font-size: 14px;\n  line-height: 1.5;\n  font-weight: 400;\n  text-align: left;\n  background-color: var(--table-background-color);\n  box-sizing: border-box;\n  transition: background 0.3s ease;\n  position: relative;\n  overflow: hidden;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container + .s-table-tbody-valuer-container {\n  margin-left: 26px;\n  text-align: inherit;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container {\n  display: inline-flex;\n  justify-content: flex-start;\n  align-items: center;\n  width: 26px;\n  height: 100%;\n  margin: auto 0;\n  position: absolute;\n  bottom: 0;\n  top: 0;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container > .s-table-tbody-expand-button {\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  width: 18px;\n  height: 18px;\n  overflow: hidden;\n  cursor: pointer;\n  border-radius: 3px;\n  background-color: #ffffff;\n  border: solid 1px #ebebeb;\n  vertical-align: -1px;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container > .s-table-tbody-expand-button:not(.s-table-tbody-expand-disabled):hover {\n  color: var(--table-primary-color);\n  border-color: var(--table-primary-color);\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container > .s-table-tbody-expand-button.s-table-tbody-expand-disabled {\n  cursor: default;\n  color: #00000040;\n  background-color: #f5f5f5;\n  border: solid 1px #d9d9d9;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container > .s-table-tbody-expand-button > .s-table-tbody-expand-icon {\n  font-size: 10px;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td.s-table-tbody-empty-td {\n  height: 54px;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tfoot > .s-table-tfoot-tr > .s-table-tfoot-td {\n  padding: var(--table-padding-vertical) var(--table-padding-horizontal);\n  color: rgba(0, 0, 0, 0.8);\n  font-size: 14px;\n  line-height: 1.5;\n  font-weight: 400;\n  text-align: left;\n  background-color: var(--table-background-color);\n  box-sizing: border-box;\n  transition: background 0.3s ease;\n  position: relative;\n  overflow: hidden;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table.s-border-table {\n  width: 100%;\n  min-width: 100%;\n  border: solid 0.5px var(--table-border-color);\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table.s-border-table > .s-table-thead,\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table.s-border-table > .s-table-tbody,\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table.s-border-table > .s-table-tfoot {\n  border: solid 0.5px var(--table-border-color);\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table.s-border-table > .s-table-thead > .s-table-thead-tr > .s-table-thead-th,\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table.s-border-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td,\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table.s-border-table > .s-table-tfoot > .s-table-tfoot-tr > .s-table-tfoot-td {\n  border: solid 0.5px var(--table-border-color);\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-thead.s-border-table,\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-tbody.s-border-table,\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-tfoot.s-border-table {\n  border: solid 0.5px var(--table-border-color);\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-thead.s-border-table > .s-table-thead-tr > .s-table-thead-th,\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-tbody.s-border-table > .s-table-tbody-tr > .s-table-tbody-td,\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-tfoot.s-border-table > .s-table-tfoot-tr > .s-table-tfoot-td {\n  border: solid 0.5px var(--table-border-color);\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-thead:not(.s-border-table) > .s-table-thead-tr > .s-table-thead-th:not(:last-child)::after {\n  content: '';\n  position: absolute;\n  width: 1px;\n  top: 18px;\n  right: 1px;\n  bottom: 14px;\n  margin: auto;\n  background-color: rgba(0, 0, 0, 0.08);\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-thead:not(.s-border-table) > .s-table-thead-tr > .s-table-thead-th {\n  border-top: solid 1px #f0f0f0;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-tbody:not(.s-border-table) > .s-table-tbody-tr > .s-table-tbody-td {\n  border-top: solid 1px #f0f0f0;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-tbody:not(.s-border-table) > .s-table-tbody-tr > .s-table-tbody-td.s-table-tbody-expand-td {\n  border-top: none;\n}\n.s-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-tfoot:not(.s-border-table) > .s-table-tfoot-tr > .s-table-tfoot-td {\n  border-top: solid 1px #f0f0f0;\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-thead > .s-table-thead-tr > .s-table-thead-th {\n  padding: var(--table-padding-vertical-middle) var(--table-padding-horizontal-middle);\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td {\n  padding: var(--table-padding-vertical-middle) var(--table-padding-horizontal-middle);\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container + .s-table-tbody-valuer-container {\n  margin-left: max(var(--table-padding-horizontal-middle), 22px);\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container {\n  width: 22px;\n  height: 100%;\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container > .s-table-tbody-expand-button {\n  width: 16px;\n  height: 16px;\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container > .s-table-tbody-expand-button > .s-table-tbody-expand-icon {\n  font-size: 10px;\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td.s-table-tbody-empty-td {\n  height: 46px;\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tfoot > .s-table-tfoot-tr > .s-table-tfoot-td {\n  padding: var(--table-padding-vertical-middle) var(--table-padding-horizontal-middle);\n}\n.s-table-container.s-middle-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-thead > .s-table-thead-tr > .s-table-thead-th:not(:last-child)::after {\n  content: '';\n  position: absolute;\n  width: 1px;\n  top: 14px;\n  right: 1px;\n  bottom: 10px;\n  margin: auto;\n  background-color: rgba(0, 0, 0, 0.08);\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-thead > .s-table-thead-tr > .s-table-thead-th {\n  padding: var(--table-padding-vertical-small) var(--table-padding-horizontal-small);\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td {\n  padding: var(--table-padding-vertical-small) var(--table-padding-horizontal-small);\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container + .s-table-tbody-valuer-container {\n  margin-left: max(var(--table-padding-horizontal-small), 22px);\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container {\n  width: 22px;\n  height: 100%;\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container > .s-table-tbody-expand-button {\n  width: 16px;\n  height: 16px;\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td > .s-table-tbody-expand-container > .s-table-tbody-expand-button > .s-table-tbody-expand-icon {\n  font-size: 10px;\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tbody > .s-table-tbody-tr > .s-table-tbody-td.s-table-tbody-empty-td {\n  height: 38px;\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table > .s-table-tfoot > .s-table-tfoot-tr > .s-table-tfoot-td {\n  padding: var(--table-padding-vertical-small) var(--table-padding-horizontal-small);\n}\n.s-table-container.s-small-table-container > .s-table-spining-container > .s-nested-table-wrapper > .s-nested-table:not(.s-border-table) > .s-table-thead > .s-table-thead-tr > .s-table-thead-th:not(:last-child)::after {\n  content: '';\n  position: absolute;\n  width: 1px;\n  top: 10px;\n  right: 1px;\n  bottom: 6px;\n  margin: auto;\n  background-color: rgba(0, 0, 0, 0.08);\n}\n.s-table-container .s-table-empty-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 168px;\n}\n.s-table-container .s-table-sorter-container {\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: center;\n  align-items: center;\n  width: 12px;\n  height: 100%;\n  margin-right: 5px;\n  padding: 17px 12px 15px;\n  cursor: pointer;\n}\n.s-table-container .s-table-cursor-container {\n  background-color: var(--table-primary-color);\n  position: absolute;\n  z-index: 999990;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  top: 0;\n}\n.s-table-container .s-table-dragger-container {\n  display: inline-flex;\n  flex-flow: row nowrap;\n  justify-content: flex-start;\n  align-items: center;\n  min-width: 100px;\n  margin: -5px 0 0 -6px;\n  padding: 7px 15px;\n  overflow: hidden;\n  background-color: var(--table-thead-color);\n  box-shadow: 0.5px 0.5px 2px 2px rgba(0, 0, 0, 0.25);\n  border-radius: 6px;\n  position: absolute;\n  cursor: pointer;\n  z-index: 999999;\n  left: 0;\n  top: 0;\n}\n.s-table-container .s-table-dragger-container > .s-table-dragger-icon {\n  flex: 0 0 auto;\n  display: inline-block;\n  margin-right: 5px;\n  box-sizing: border-box;\n}\n.s-table-container .s-table-dragger-container > .s-table-dragger-value {\n  flex: 0 0 auto;\n  display: inline-block;\n  color: rgba(0, 0, 0, 0.8);\n  font-size: 14px;\n  font-weight: 500;\n}\n.s-table-container .s-table-settings-container {\n  display: inline-flex;\n  flex-flow: row nowrap;\n  justify-content: flex-start;\n  align-items: center;\n  float: right;\n  height: 28px;\n  margin: -1px 0 -28px -64px;\n  padding: 1px 0;\n  position: absolute;\n  cursor: pointer;\n  z-index: 999998;\n  right: 0 !important;\n  top: 0 !important;\n}\n.s-table-container .s-table-settings-container > .s-table-settings-icon {\n  flex: 0 0 auto;\n  display: inline-block;\n  font-size: 17px;\n  box-sizing: border-box;\n}\n.s-table-container .s-table-settings-container > .s-table-settings-title {\n  flex: 0 0 auto;\n  display: inline-block;\n  margin-left: 2px;\n  color: rgba(0, 0, 0, 0.65);\n  font-size: 15px;\n  font-weight: 500;\n}\n.s-table-container .s-table-settings-container > .s-table-settings-overlay {\n  display: inline-block;\n  position: absolute;\n  right: 4px;\n  top: 30px;\n  box-shadow: 0 3px 6px -4px #0000001f, 0 6px 16px #00000014, 0 9px 28px 8px #0000000d;\n  background-color: var(--table-background-color);\n  border-radius: 3px;\n  overflow: hidden;\n}\n.s-table-container .s-table-paginate-container {\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100%;\n  height: 56px;\n  padding: 12px 8px;\n  background-color: var(--table-background-color);\n  border-top: solid 1px #f0f0f0;\n  box-sizing: border-box;\n  position: relative;\n  z-index: 1000;\n}\n.s-table-container .s-table-paginate-container > .s-table-paginate-content {\n  flex: 0 1 auto;\n  width: auto;\n  height: 32px;\n  position: sticky;\n  right: 8px;\n}\n.s-table-container .s-table-paginate-container > .s-table-paginate-content ul,\n.s-table-container .s-table-paginate-container > .s-table-paginate-content li,\n.s-table-container .s-table-paginate-container > .s-table-paginate-content ol,\n.s-table-container .s-table-paginate-container > .s-table-paginate-content dl {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n.s-table-container .s-table-loading-container {\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 999999;\n  background-color: rgba(252, 252, 252, 0.65);\n}\n.s-table-container .s-table-loading-container > .s-table-loading-dot-group {\n  display: inline-block;\n  width: 24px;\n  height: 24px;\n  font-size: 24px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -45px -12px;\n  transform: rotate(45deg);\n  animation: vueRotate 1.2s linear infinite;\n}\n.s-table-container .s-table-loading-container > .s-table-loading-dot-group > .s-table-loading-dot {\n  position: absolute;\n  display: block;\n  width: 11px;\n  height: 11px;\n  opacity: 0.3;\n  border-radius: 100%;\n  transform: scale(0.75);\n  transform-origin: 50% 50%;\n  background-color: var(--table-primary-color);\n  animation: vueSpinMove 1s linear infinite alternate;\n}\n.s-table-container .s-table-loading-container > .s-table-loading-dot-group > .s-table-loading-dot:nth-child(1) {\n  top: 0;\n  left: 0;\n}\n.s-table-container .s-table-loading-container > .s-table-loading-dot-group > .s-table-loading-dot:nth-child(2) {\n  top: 0;\n  right: 0;\n  animation-delay: 0.4s;\n}\n.s-table-container .s-table-loading-container > .s-table-loading-dot-group > .s-table-loading-dot:nth-child(3) {\n  right: 0;\n  bottom: 0;\n  animation-delay: 0.8s;\n}\n.s-table-container .s-table-loading-container > .s-table-loading-dot-group > .s-table-loading-dot:nth-child(4) {\n  left: 0;\n  bottom: 0;\n  animation-delay: 1.2s;\n}\n.s-table-container .s-table-loading-container > .s-table-loading-text {\n  display: block;\n  width: 100px;\n  margin: -18px -50px;\n  padding: 5px 0 0 0;\n  font-size: 14px;\n  font-variant: tabular-nums;\n  line-height: 1.5;\n  list-style: none;\n  font-feature-settings: 'tnum';\n  color: var(--table-primary-color);\n  text-shadow: 0 1px 2px #fff;\n  text-align: center;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n}\n@keyframes vueRotate {\n  to {\n    transform: rotate(405deg);\n  }\n}\n@keyframes vueSpinMove {\n  to {\n    opacity: 1;\n  }\n}\n.s-table-container .s-table-selection-container {\n  display: inline-block;\n  font-size: 0px;\n}\n.s-table-container .s-table-selection-container .ant-checkbox-wrapper,\n.s-table-container .s-table-selection-container .ant-radio-wrapper {\n  padding: 0;\n  margin: 0;\n}\n.s-table-container.s-middle-table-container .s-table-sorter-container {\n  padding: 12px 8px;\n}\n.s-table-container.s-middle-table-container .s-table-settings-container {\n  height: 24px;\n  padding: 1px 0;\n  margin: -2px 0 -28px -64px;\n}\n.s-table-container.s-middle-table-container .s-table-settings-container > .s-table-settings-icon {\n  font-size: 16px;\n}\n.s-table-container.s-middle-table-container .s-table-settings-container > .s-table-settings-title {\n  font-size: 14px;\n}\n.s-table-container.s-middle-table-container .s-table-loading-container > .s-table-loading-dot-group {\n  width: 20px;\n  height: 20px;\n  font-size: 20px;\n}\n.s-table-container.s-middle-table-container .s-table-loading-container > .s-table-loading-dot-group > .s-table-loading-dot {\n  width: 9px;\n  height: 9px;\n  transform: scale(0.75);\n}\n.s-table-container.s-middle-table-container .s-table-loading-container > .s-table-loading-text {\n  font-size: 13px;\n  margin: -22px -50px;\n}\n.s-table-container.s-middle-table-container .s-table-paginate-container {\n  height: 45px;\n  padding: 10px 8px;\n}\n.s-table-container.s-middle-table-container .s-table-paginate-container > .s-table-paginate-content {\n  height: 25px;\n}\n.s-table-container.s-small-table-container .s-table-sorter-container {\n  padding: 8px;\n}\n.s-table-container.s-small-table-container .s-table-settings-container {\n  height: 22px;\n  margin: -2px 0 -28px -64px;\n}\n.s-table-container.s-small-table-container .s-table-settings-container > .s-table-settings-icon {\n  font-size: 15px;\n}\n.s-table-container.s-small-table-container .s-table-settings-container > .s-table-settings-title {\n  font-size: 13px;\n}\n.s-table-container.s-small-table-container .s-table-loading-container > .s-table-loading-dot-group {\n  width: 18px;\n  height: 18px;\n  font-size: 18px;\n}\n.s-table-container.s-small-table-container .s-table-loading-container > .s-table-loading-dot-group > .s-table-loading-dot {\n  width: 8px;\n  height: 8px;\n  transform: scale(0.75);\n}\n.s-table-container.s-small-table-container .s-table-loading-container > .s-table-loading-text {\n  font-size: 12px;\n  margin: -24px -50px;\n}\n.s-table-container.s-small-table-container .s-table-paginate-container {\n  height: 45px;\n  padding: 10px 8px;\n}\n.s-table-container.s-small-table-container .s-table-paginate-container > .s-table-paginate-content {\n  height: 25px;\n}\n");const St=e=>{if(qe.isObject(e)){if(qe.isObject(e.result)){return{data:qe.isArray(e.result.data)?e.result.data:[],pageNo:e.result.pageNo||1,totalSize:e.result.totalSize||0}}if(qe.isArray(e.result)){const t=e.result;return{data:t,pageNo:1,totalSize:t.length}}}if(qe.isArray(e)){return{data:e,pageNo:1,totalSize:e.length}}return{data:[],pageNo:1,totalSize:0}},Ct=x({name:"STableSelection",props:{size:t().isRequired,type:t().isRequired,indeterminate:n().def(!1),disabled:n().def(!1),checked:n().def(!1)},emits:{check:e=>!0},setup(e,t){const l=l=>{t.emit("check",!e.checked)},n=e=>{e.stopPropagation()},o=D(()=>"default"===e.size?"large":"middle"===e.size?"default":"small");return()=>"Checkbox"===e.type?w("div",{class:"s-table-selection-container",onClick:n},[w(te,{size:o.value,checked:e.checked,disabled:e.disabled,indeterminate:e.indeterminate,onChange:l},null)]):"Radio"===e.type?w("div",{class:"s-table-selection-container",onClick:n},[w(le,{size:o.value,checked:e.checked,disabled:e.disabled,onChange:l},null)]):void 0}}),Nt=x({name:"STablePaginate",inheritAttrs:!1,props:{size:t().def("default"),disabled:n().def(!1),showTotal:i().def(void 0),hideOnSinglePage:n().def(!1),defaultPageSize:l().def(20),pageSizeOptions:o().def(["10","15","20","25","30","50","100","200","300","500"]),showSizeChanger:n().def(void 0),showQuickJumper:n().def(!1),showLessItems:n().def(!1),totalSize:l().def(0),pageSize:l().def(20),pageNo:l().def(1),simple:n().def(!1)},emits:{pageSizeChange:(e,t)=>!0,pageChange:(e,t)=>!0},setup(e,t){const l=(e,l)=>{t.emit("pageSizeChange",e,l)},n=(e,l)=>{t.emit("pageChange",e,l)},o=t.attrs.style;return()=>w("div",{class:"s-table-paginate-container",style:o},[w("div",{class:"s-table-paginate-content"},[w(ge,{size:e.size,simple:e.simple,current:e.pageNo,total:e.totalSize,pageSize:e.pageSize,disabled:e.disabled,showTotal:e.showTotal,hideOnSinglePage:e.hideOnSinglePage,defaultPageSize:e.defaultPageSize,pageSizeOptions:e.pageSizeOptions,showSizeChanger:e.showSizeChanger,showQuickJumper:e.showQuickJumper,showLessItems:e.showLessItems,onShowSizeChange:l,onChange:n},null)])])}}),Tt=x({name:"STableScrollbar",inheritAttrs:!1,props:{overflow:t().isRequired,optionser:r().isRequired,direction:t().isRequired},setup(e){const t=A({visible:!1,activate:!1,mousedownX:0,mousedownY:0,scrollbarX:0,scrollbarY:0}),l=S(8),n=S(!1),o=C("container"),r=C("scrollbar"),a=D(()=>"auto"===e.overflow?{scroller:e.optionser.refTableWrapper.value,scrollTop:e.optionser.wrapperScrollTop.value,scrollLeft:e.optionser.wrapperScrollLeft.value,scrollWidth:e.optionser.wrapperScrollWidth.value,scrollHeight:e.optionser.wrapperScrollHeight.value,clientHeight:e.optionser.wrapperScrollClientHeight.value,clientWidth:e.optionser.wrapperScrollClientWidth.value,windowHeight:e.optionser.windowInnerHeight.value,windowWidth:e.optionser.windowInnerWidth.value,container:e.optionser.refTableContainer.value,table:e.optionser.refTableNoder.value}:{scroller:e.optionser.resizerContainer.value,scrollTop:e.optionser.resizerScrollTop.value,scrollLeft:e.optionser.resizerScrollLeft.value,scrollWidth:e.optionser.resizerScrollWidth.value,scrollHeight:e.optionser.resizerScrollHeight.value,clientHeight:e.optionser.resizerScrollClientHeight.value,clientWidth:e.optionser.resizerScrollClientWidth.value,windowHeight:e.optionser.windowInnerHeight.value,windowWidth:e.optionser.windowInnerWidth.value,container:e.optionser.refTableContainer.value,table:e.optionser.refTableNoder.value}),i=t=>{"horizontal"===e.direction&&(a.value.scroller.scrollLeft=t/a.value.clientWidth*a.value.scrollWidth,a.value.scroller.scrollLeft=a.value.scroller.scrollLeft>0?a.value.scroller.scrollLeft:0),"vertical"===e.direction&&(a.value.scroller.scrollTop=t/a.value.clientHeight*a.value.scrollHeight,a.value.scroller.scrollTop=a.value.scroller.scrollTop>0?a.value.scroller.scrollTop:0)},s=e=>{t.activate=!1,t.scrollbarX=0,t.scrollbarY=0,t.mousedownX=0,t.mousedownY=0,document.body.classList.remove("user-select-none")},d=l=>{"undefined"!=typeof HTMLElement&&a.value.scroller instanceof HTMLElement&&("horizontal"===e.direction&&(t.activate=!0,t.scrollbarX=a.value.scrollLeft/a.value.scrollWidth*a.value.clientWidth,t.scrollbarY=0,t.mousedownX=l.clientX,t.mousedownY=0,document.body.classList.add("user-select-none")),"vertical"===e.direction&&(t.activate=!0,t.scrollbarX=0,t.scrollbarY=a.value.scrollTop/a.value.scrollHeight*a.value.clientHeight,t.mousedownX=0,t.mousedownY=l.clientY,document.body.classList.add("user-select-none")),l.stopPropagation())},c=l=>{"undefined"!=typeof HTMLElement&&a.value.scroller instanceof HTMLElement||(t.activate=!1,t.scrollbarX=0,t.scrollbarY=0,t.mousedownX=0,t.mousedownY=0),t.activate&&("horizontal"===e.direction&&i(t.scrollbarX+l.clientX-t.mousedownX),"vertical"===e.direction&&i(t.scrollbarY+l.clientY-t.mousedownY),l.stopPropagation())},p=t=>{if("horizontal"===e.direction){const e=o.value.getBoundingClientRect(),l=r.value.getBoundingClientRect();i(t.clientX-e.left-l.width/2)}if("vertical"===e.direction){const e=o.value.getBoundingClientRect(),l=r.value.getBoundingClientRect();i(t.clientY-e.top-l.height/2)}},u=e=>{t.visible=!1},f=e=>{t.visible=!0};return()=>{if("horizontal"!==e.direction&&"vertical"!==e.direction)return;if("horizontal"===e.direction&&a.value.scrollWidth<=a.value.clientWidth+10)return;if("vertical"===e.direction&&a.value.scrollHeight<=a.value.clientHeight+10)return;if(a.value.windowHeight<=100||a.value.windowWidth<=100)return;if(a.value.clientHeight<=100||a.value.clientWidth<=100)return;if(a.value.scrollHeight<=100||a.value.scrollWidth<=100)return;if("undefined"==typeof HTMLElement||!(a.value.container instanceof HTMLElement))return;if("undefined"==typeof HTMLElement||!(a.value.scroller instanceof HTMLElement))return;if("undefined"==typeof HTMLElement||!(a.value.table instanceof HTMLElement))return;const o="undefined"!=typeof window?window:null,r="vertical"===e.direction&&parseInt(o?.getComputedStyle(a.value.scroller)?.paddingLeft||"0")||0,i=a.value.scroller.getBoundingClientRect(),b=i.top>=a.value.windowHeight-20,h=i.left>=a.value.windowWidth-20,g=i.right<=a.value.windowWidth+20,y=i.bottom<=a.value.windowHeight+20,m=t.visible||t.activate,v={},x={};return"horizontal"===e.direction&&(Object.assign(v,{width:`${a.value.clientWidth}px`,height:`${l.value}px`,display:""+(b||y||!m?"none":"block"),transform:`translate(0, ${a.value.windowHeight-i.bottom-3}px)`,backgroundColor:"rgba(255, 255, 255, 0.15)",position:"sticky",cursor:"pointer",zIndex:99999,bottom:0,left:0}),Object.assign(x,{height:`${l.value}px`,width:`${(a.value.clientWidth/a.value.scrollWidth*a.value.clientWidth).toFixed(3)}px`,transform:`translate(${(a.value.scrollLeft/a.value.scrollWidth*a.value.clientWidth).toFixed(3)}px, 0)`,backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:l.value/2+"px"})),"vertical"===e.direction&&(Object.assign(v,{width:`${l.value}px`,height:`${a.value.clientHeight}px`,marginTop:-a.value.clientHeight+"px",display:""+(h||g||!m?"none":"block"),transform:`translate(${a.value.clientWidth+(a.value.windowWidth-i.right)-r-l.value-3}px, 0)`,backgroundColor:"rgba(255, 255, 255, 0.15)",position:"sticky",cursor:"pointer",zIndex:99999,bottom:0,left:0}),Object.assign(x,{width:`${l.value}px`,height:`${(a.value.clientHeight/a.value.scrollHeight*a.value.clientHeight).toFixed(3)}px`,transform:`translate(0, ${(a.value.scrollTop/a.value.scrollHeight*a.value.clientHeight).toFixed(3)}px)`,backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:l.value/2+"px"})),n.value||(a.value.container.removeEventListener("mouseleave",u),a.value.container.removeEventListener("mouseenter",f),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",s),a.value.container.addEventListener("mouseleave",u),a.value.container.addEventListener("mouseenter",f),document.addEventListener("mousemove",c),document.addEventListener("mouseup",s),n.value=!0),w("div",{onMousedown:p,onMouseenter:()=>{l.value=12},onMouseleave:()=>{l.value=8},class:"s-table-scrollbar-container",style:v,ref:"container"},[w("div",{onMousedown:d,class:"s-table-scrollbar",style:x,ref:"scrollbar"},null)])}}}),At=x({name:"STableSettings",inheritAttrs:!1,props:{title:t().def(""),style:r().def(()=>({})),multiline:n().def(!1),treeData:o().def(()=>[]),dropHandler:i().def(()=>!1),expandedKeys:o().def(()=>[]),checkedKeys:o().def(()=>[]),allTreeKeys:o().def(()=>[]),draggable:n().def(!1)},emits:{"update:checkedKeys":e=>!0},setup(e,t){const l=S(!1),n=be.useToken().token,o=S(e.checkedKeys),r=S(e.expandedKeys),a=C("overlay"),i=e=>{l.value=!l.value,e.stopPropagation()},s=e=>{e.stopPropagation()},d=()=>{l.value=!1};return N(()=>{document.body.addEventListener("click",d)}),V(()=>{document.body.removeEventListener("click",d)}),I(()=>o.value,l=>{t.emit("update:checkedKeys",l.length>0?l:[...e.allTreeKeys])}),I(()=>l.value,t=>{!t&&(r.value=[...e.allTreeKeys])}),I(()=>e.checkedKeys,e=>{o.value=e}),()=>w("div",{class:"s-table-settings-container",style:e.style,onClick:i},[w("div",{class:"s-table-settings-icon"},[w(f,{style:{color:n.value.colorPrimary}},null)]),w("div",{class:"s-table-settings-title"},[e.title]),w(()=>l.value?(P(()=>{a.value&&(a.value.style.width=a.value.getBoundingClientRect().width+"px")}),w("div",{ref:"overlay",class:"s-table-settings-overlay",onMouseleave:d,onClick:s},[w(mt,{style:{margin:!0===e.multiline?"7px 10px 3px 5px":"7px 10px 3px -8px"},checkedKeys:o.value,"onUpdate:checkedKeys":e=>o.value=e,expandedKeys:r.value,"onUpdate:expandedKeys":e=>r.value=e,dropHandler:e.dropHandler,draggable:e.draggable,treeData:e.treeData,allowSelectToCheck:!0,checkedMode:"link",selectable:!1,checkable:!0},null)])):w("span",null,null),null,null)])}}),It=x({name:"STableLoading",inheritAttrs:!1,props:{optionser:r().isRequired},setup(e){let t="50%",l="50%",n="auto",o="auto";const r=D(()=>({scroller:e.optionser.resizerContainer.value,container:e.optionser.refTableContainer.value,windowWidth:e.optionser.windowInnerWidth.value,windowHeight:e.optionser.windowInnerHeight.value,scrollLeft:e.optionser.resizerScrollLeft.value,scrollTop:e.optionser.resizerScrollTop.value}));return()=>{if("undefined"!=typeof HTMLElement&&r.value.container instanceof HTMLElement&&r.value.scroller instanceof HTMLElement){const e=r.value.container.getBoundingClientRect(),a=r.value.scroller.getBoundingClientRect();t=Math.max(e.top,a.top),l=Math.max(e.left,a.left),n=Math.min(e.right,a.right,r.value.windowWidth),o=Math.min(e.bottom,a.bottom,r.value.windowHeight),t=t-e.top+(o-t)/2,l=l-e.left+(n-l)/2,t=t>100?t:100,l=l>100?l:100}return w("div",{class:"s-table-loading-container"},[w("span",{class:"s-table-loading-dot-group",style:{top:t+"px",left:l+"px"}},[w("i",{class:"s-table-loading-dot"},null),w("i",{class:"s-table-loading-dot"},null),w("i",{class:"s-table-loading-dot"},null),w("i",{class:"s-table-loading-dot"},null)]),w("div",{class:"s-table-loading-text",style:{top:t+"px",left:l+"px"}},[w("span",null,[$("正在加载中...")])])])}}}),zt=x({name:"STableDragger",inheritAttrs:!1,props:{top:l().def(0),left:l().def(0),value:e().isRequired,allow:n().isRequired,rowIndex:l().isRequired,colIndex:l().isRequired,container:r().isRequired},setup:(e,t)=>()=>w("div",{style:{top:e.top+"px",left:e.left+"px"},class:"s-table-dragger-container"},[w("div",{class:"s-table-dragger-icon"},[e.allow?w(b,{style:"font-size: 14px; color: #606266;"},null):w(h,{style:"font-size: 14px; color: #606266;"},null)]),w("div",{class:"s-table-dragger-value"},[e.value])])}),Pt=x({name:"STableCursor",inheritAttrs:!1,props:{top:l().def(0),left:l().def(0),width:l().def(0),height:l().def(0)},setup:e=>()=>w("div",{class:"s-table-cursor-container",style:{top:e.top+"px",left:e.left+"px",width:e.width+"px",height:e.height+"px"}},null)}),Rt=x({name:"STableSorter",inheritAttrs:!1,props:{field:t().isRequired,value:t().isRequired},emits:{change:e=>!0},setup(e,t){const l=be.useToken().token,n=l=>{e.field&&!e.value&&t.emit("change",{field:e.field,value:"ascend"}),e.field&&"ascend"===e.value&&t.emit("change",{field:e.field,value:"descend"}),e.field&&"descend"===e.value&&t.emit("change",{field:e.field,value:""}),l.stopPropagation(),l.preventDefault()};return()=>w("div",{class:"s-table-sorter-container",onClick:n},[w(g,{style:{fontSize:"11px",color:"ascend"===e.value?l.value.colorPrimary:"rgba(0, 0, 0, 0.45)"}},null),w(y,{style:{fontSize:"11px",color:"descend"===e.value?l.value.colorPrimary:"rgba(0, 0, 0, 0.45)",marginTop:"-0.3em"}},null)])}}),Et=x({name:"STableEmpty",inheritAttrs:!1,setup:()=>()=>w("div",{class:"s-table-empty-container"},[w(ye,{image:ye.PRESENTED_IMAGE_SIMPLE},null)])});function Kt(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!M(e)}const Ot=x({name:"STable",props:{size:t().def(void 0),rowKey:e().def(""),treeKey:e().def("children"),border:e().def(!1),sticky:r().def(()=>({})),scroll:r().def(()=>({})),columns:o().def(()=>[]),sources:o().def(()=>[]),summarys:o().def(()=>[]),paginate:e().def(()=>({})),loadData:i().def(void 0),tableLayout:t().def(void 0),persistSourceRanges:e().def(!1),customHeaderRowAttrs:i().def(void 0),customBodyerRowAttrs:i().def(void 0),customFooterRowAttrs:i().def(void 0),customBodyerRowStates:i().def(void 0),customHeaderCellRender:i().def(void 0),customBodyerCellRender:i().def(void 0),customFooterCellRender:i().def(void 0),defaultColumnSorters:o().def(()=>[]),defaultSelectAllRows:n().def(!1),defaultExpandAllRows:n().def(!1),preserveSelectedRowKeys:n().def(!1),preserveExpandedRowKeys:n().def(!1),columnPresetResizable:n().def(!1),columnPresetDraggable:n().def(!1),columnSorterMultiple:n().def(!1),columnPresetSettings:n().def(!1),rowSelectedStrictly:n().def(!0),rowExpandedByClick:n().def(!1),cellMegreNormalize:n().def(!0),expandIndentSize:l().def(void 0),selectIndentSize:l().def(void 0),selectedRowMode:t().def("None"),selectedRowKeys:o().def(()=>[]),expandedRowKeys:o().def(()=>[]),tHeaderThStyle:r().def(()=>({})),tBodyerTdStyle:r().def(()=>({})),tFooterTdStyle:r().def(()=>({})),expandTdStyle:r().def(()=>({})),paginateStyle:r().def(()=>({})),loadOnScroll:n().def(!1),bodyMinRows:e().def(!1),showHeader:n().def(!0),showBodyer:n().def(!0),showFooter:n().def(!0),immediate:n().def(!0),loadinger:n().def(!0),loading:n().def(!1),virtual:n().def(!0)},emits:{"update:loading":e=>!0,"update:sources":e=>!0,"update:summarys":e=>!0,"update:paginate":e=>!0,"update:columns":e=>!0,"update:selectedRowKeys":e=>!0,"update:expandedRowKeys":e=>!0,pageSizeChange:(e,t)=>!0,pageChange:(e,t)=>!0,expand:(e,t)=>!0,select:(e,t)=>!0,sorter:e=>!0},slots:{},setup(e,t){const l={immediate:!0},n={immediate:!0,deep:!0},o=A({minBuffer:5,maxBuffer:10,minHeight:32}),r=A({renderOffset:[0,0],renderBuffer:[0,10]}),a=q(),i=S([...e.columns]),d=S([...e.sources]),c=S([...e.summarys]),p=S([...e.defaultColumnSorters]),u=S([]),f=S([]),b=S([]),h=S([]),g=S([]),y=S([]),x=S([]),T=S([]),R=S([]),E=S([]),O=S([]),F=S([]),L=S([]),W=S([]),V=S([]),$=S([]),B=S([]),Y=S([]),U=S([]),G=S([]),X=S([]),_=S([]),Q=S([...e.selectedRowKeys]),J=S([...e.expandedRowKeys]),Z=S([]),ee=S(e.loading),te=be.useToken().token,le={refTableNoder:C("refTableNoder"),refTableTheader:C("refTableTheader"),refTableWrapper:C("refTableWrapper"),refTableContainer:C("refTableContainer"),tableTheadSizes:S([]),windowInnerWidth:S(0),windowInnerHeight:S(0),getResizerContainer:void 0,resizerContainer:S(null),resizerScrollTop:S(0),resizerScrollLeft:S(0),resizerScrollRight:S(0),resizerScrollBottom:S(0),resizerScrollClientWidth:S(0),resizerScrollClientHeight:S(0),resizerScrollHeight:S(0),resizerScrollWidth:S(0),wrapperScrollTop:S(0),wrapperScrollLeft:S(0),wrapperScrollRight:S(0),wrapperScrollBottom:S(0),wrapperScrollClientHeight:S(0),wrapperScrollClientWidth:S(0),wrapperScrollHeight:S(0),wrapperScrollWidth:S(0),cursor:A({visible:!1,top:0,left:0,width:0,height:0,rowIndex:0,colIndex:0}),dragger:A({activate:!1,visible:!1,rowIndex:0,colIndex:0,allow:!1,value:"",left:0,top:0,element:null}),resizer:{point:0,queues:[],activate:!1}},ne={paginate:A({hideOnSinglePage:!!qe.isBoolean(e.paginate.hideOnSinglePage)&&e.paginate.hideOnSinglePage,defaultPageSize:qe.isFiniteNumber(e.paginate.defaultPageSize)&&e.paginate.defaultPageSize>0?~~e.paginate.defaultPageSize:20,pageSizeOptions:qe.isNonEmptyArray(e.paginate.pageSizeOptions)?e.paginate.pageSizeOptions:["10","15","20","25","30","50","100","200","300","500"],showSizeChanger:qe.isBoolean(e.paginate.showSizeChanger)?e.paginate.showSizeChanger:void 0,showQuickJumper:!!qe.isBoolean(e.paginate.showQuickJumper)&&e.paginate.showQuickJumper,showLessItems:!!qe.isBoolean(e.paginate.showLessItems)&&e.paginate.showLessItems,loadTotalSize:qe.isFiniteNumber(e.paginate.loadTotalSize)&&e.paginate.loadTotalSize>0?~~e.paginate.loadTotalSize:void 0,loadTotalPage:qe.isFiniteNumber(e.paginate.loadTotalPage)&&e.paginate.loadTotalPage>0?~~e.paginate.loadTotalPage:void 0,loadPageSize:qe.isFiniteNumber(e.paginate.loadPageSize)&&e.paginate.loadPageSize>0?~~e.paginate.loadPageSize:void 0,loadPageNo:qe.isFiniteNumber(e.paginate.loadPageNo)&&e.paginate.loadPageNo>0?~~e.paginate.loadPageNo:void 0,totalSize:qe.isFiniteNumber(e.paginate.totalSize)&&e.paginate.totalSize>0?~~e.paginate.totalSize:0,totalPage:qe.isFiniteNumber(e.paginate.totalPage)&&e.paginate.totalPage>0?~~e.paginate.totalPage:0,pageSize:qe.isFiniteNumber(e.paginate.pageSize)&&e.paginate.pageSize>0?~~e.paginate.pageSize:qe.isFiniteNumber(e.paginate.defaultPageSize)&&e.paginate.defaultPageSize>0?~~e.paginate.defaultPageSize:20,pageNo:qe.isFiniteNumber(e.paginate.pageNo)&&e.paginate.pageNo>0?~~e.paginate.pageNo:1,showTotal:qe.isFunction(e.paginate.showTotal)?e.paginate.showTotal:!0===e.paginate.showTotal?(e,t)=>`第 ${t[0]}-${t[1]} 条 (共 ${e} 条)`:void 0,disabled:!!qe.isBoolean(e.paginate.disabled)&&e.paginate.disabled,visible:!!qe.isBoolean(e.paginate.visible)&&e.paginate.visible,simple:!!qe.isBoolean(e.paginate.simple)&&e.paginate.simple,fixed:qe.isBoolean(e.paginate.fixed)?e.paginate.fixed:void 0,mode:"local"===e.paginate.mode?"local":"remote",size:e.size||""}),update:t=>{ne.paginate.size=ie.isOwnProperty(t,["size"])?"":ne.paginate.size,ne.paginate.mode=ie.isOwnProperty(t,["mode"])?"local"===t.mode?"local":"remote":ne.paginate.mode,ne.paginate.fixed=qe.isBoolean(e.paginate.fixed)?e.paginate.fixed:qe.isFiniteNumber(re.sticky.value.bottomFooter)||!0===re.sticky.value.bottomFooter,ne.paginate.simple=ie.isOwnProperty(t,["simple"])?!0===t.simple:ne.paginate.simple,ne.paginate.visible=ie.isOwnProperty(t,["visible"])?!0===t.visible:ne.paginate.visible,ne.paginate.disabled=ie.isOwnProperty(t,["disabled"])?!0===t.disabled:ne.paginate.disabled,ne.paginate.showTotal=ie.isOwnProperty(t,["showTotal"])?qe.isFunction(t.showTotal)?t.showTotal:!0===t.showTotal?(e,t)=>`第 ${t[0]}-${t[1]} 条 (共 ${e} 条)`:void 0:ne.paginate.showTotal,ne.paginate.showLessItems=ie.isOwnProperty(t,["showLessItems"])?!0===t.showLessItems:ne.paginate.showLessItems,ne.paginate.defaultPageSize=ie.isOwnProperty(t,["defaultPageSize"])?qe.isFiniteNumber(t.defaultPageSize)&&t.defaultPageSize>0?t.defaultPageSize:20:ne.paginate.defaultPageSize,ne.paginate.pageSizeOptions=ie.isOwnProperty(t,["pageSizeOptions"])?qe.isNonEmptyArray(t.pageSizeOptions)?t.pageSizeOptions:["10","15","20","25","30","50","100","200","300","500"]:ne.paginate.pageSizeOptions,ne.paginate.showSizeChanger=ie.isOwnProperty(t,["showSizeChanger"])?qe.isBoolean(t.showSizeChanger)?t.showSizeChanger:void 0:ne.paginate.showSizeChanger,ne.paginate.showQuickJumper=ie.isOwnProperty(t,["showQuickJumper"])?!0===t.showQuickJumper:ne.paginate.showQuickJumper,ne.paginate.hideOnSinglePage=ie.isOwnProperty(t,["hideOnSinglePage"])?!0===t.hideOnSinglePage:ne.paginate.hideOnSinglePage,ne.paginate.pageNo=ie.isOwnProperty(t,["pageNo"])?qe.isFiniteNumber(t.pageNo)&&t.pageNo>0?~~t.pageNo:1:ne.paginate.pageNo,ne.paginate.pageSize=ie.isOwnProperty(t,["pageSize"])?qe.isFiniteNumber(t.pageSize)&&t.pageSize>0?~~t.pageSize:20:ne.paginate.pageSize,ne.paginate.totalSize=ie.isOwnProperty(t,["totalSize"])?qe.isFiniteNumber(t.totalSize)&&t.totalSize>0?~~t.totalSize:0:ne.paginate.totalSize,ne.paginate.totalPage=ie.isOwnProperty(t,["totalPage"])?qe.isFiniteNumber(t.totalPage)&&t.totalPage>0?~~t.totalPage:0:~~(ne.paginate.totalSize/ne.paginate.pageSize)+(ne.paginate.totalSize%ne.paginate.pageSize?1:0),ne.paginate.pageNo=ne.paginate.pageNo<=ne.paginate.totalPage?ne.paginate.pageNo:ne.paginate.totalPage,ne.paginate.pageNo=ne.paginate.pageNo>0?ne.paginate.pageNo:1,ne.paginate.loadPageNo=ie.isOwnProperty(t,["loadPageNo"])?qe.isFiniteNumber(t.loadPageNo)&&t.loadPageNo>0?~~t.loadPageNo:1:ne.paginate.loadPageNo,ne.paginate.loadPageSize=ie.isOwnProperty(t,["loadPageSize"])?qe.isFiniteNumber(t.loadPageSize)&&t.loadPageSize>0?~~t.loadPageSize:500:ne.paginate.loadPageSize,ne.paginate.loadTotalSize=ie.isOwnProperty(t,["loadTotalSize"])?qe.isFiniteNumber(t.loadTotalSize)&&t.loadTotalSize>0?~~t.loadTotalSize:0:ne.paginate.loadTotalSize,ne.paginate.loadTotalPage=ie.isOwnProperty(t,["loadTotalPage"])?qe.isFiniteNumber(t.loadTotalPage)&&t.loadTotalPage>0?~~t.loadTotalPage:0:~~(ne.paginate.loadTotalSize/ne.paginate.loadPageSize)+(ne.paginate.loadTotalSize%ne.paginate.loadPageSize?1:0),ne.paginate.loadPageNo=ne.paginate.loadPageNo<=ne.paginate.loadTotalPage?ne.paginate.loadPageNo:ne.paginate.loadTotalPage,ne.paginate.loadPageNo=ne.paginate.loadPageNo>0?ne.paginate.loadPageNo:1}},oe={core:e=>"local"!==ne.paginate.mode?oe.send(e):"local"===ne.paginate.mode?oe.parse(e):void 0,send:t=>{if(!qe.isFunction(e.loadData))return void se.updateScrollToFirstRange();ee.value||(ee.value=!0);const l={sorter:ie.getValue(p),paginate:{pageNo:t.pageNo,pageSize:t.pageSize,totalPage:t.totalPage,totalSize:t.totalSize,mode:t.mode}};return Promise.resolve(e.loadData(l)).then(e=>Promise.resolve(St(e)).then(e=>{if(ne.update({pageNo:e.pageNo,totalSize:e.totalSize}),ne.paginate.pageNo>ne.paginate.totalPage&&ne.paginate.pageNo>1)return ne.update({pageNo:ne.paginate.pageNo-1}),oe.refresh();ie.isSourcesChanged(e.data.slice(0,O.value.length),O.value)&&(L.value=[],W.value=[],V.value=[],$.value=[],B.value=[]),se.updateScrollToFirstRange(),Z.value=[],O.value=ie.normalizeTreeSources(e.data,[]),F.value=ie.normalizeListSources(O.value,[]),ie.normalizeInitSources(F.value),ie.cleanSelectedRowKeys(),ie.cleanExpandedRowKeys(),ee.value=!1})).catch(()=>{se.updateScrollToFirstRange(),ne.update(l.paginate),ee.value=!1})},parse:e=>{},reload:async(e,t)=>{t=qe.isBoolean(e)?e:!0===t,e=qe.isBoolean(e)?Promise.resolve():e;const l=()=>{t&&ie.forceUpdate()};return qe.toPromise(e).then(()=>oe.core({...ne.paginate})).finally(()=>l)},refresh:async(e,t)=>{t=qe.isBoolean(e)?e:!0===t,e=qe.isBoolean(e)?Promise.resolve():e;const l=()=>{t&&ie.forceUpdate()};return qe.toPromise(e).then(()=>oe.core({...ne.paginate,pageNo:1})).finally(()=>l)}},re={size:D(()=>e.size||("large"===a.componentSize?.value?"default":a.componentSize?.value)||"default"),sticky:D(()=>({topHeader:e.sticky.topHeader??!1,leftFooter:e.sticky.leftFooter??!0,rightFooter:e.sticky.rightFooter??!0,bottomFooter:e.sticky.bottomFooter??!0,bottomScrollbar:e.sticky.bottomScrollbar??!1})),scroll:D(()=>({x:e.scroll.x??!1,y:e.scroll.y??!1,overflow:["hidden","visible","scroll","auto","unset"].includes(e.scroll.overflow)?e.scroll.overflow:null,getScrollResizeContainer:()=>e.scroll.getScrollResizeContainer?.()||le.getResizerContainer?.(),scrollToFirstXOnChange:!1!==e.scroll.scrollToFirstXOnChange,scrollToFirstYOnChange:!1!==e.scroll.scrollToFirstYOnChange,scrollToFirstOffsetX:e.scroll.scrollToFirstOffsetX,scrollToFirstOffsetY:e.scroll.scrollToFirstOffsetY,scrollToFirstTargetX:e.scroll.scrollToFirstTargetX,scrollToFirstTargetY:e.scroll.scrollToFirstTargetY})),virtual:D(()=>!1!==e.virtual),bodyMinRows:D(()=>!0===e.bodyMinRows?Math.max(ne.paginate.pageSize,0):!1===e.bodyMinRows?0:Math.max(e.bodyMinRows,0)),loadOnScroll:D(()=>"local"===ne.paginate.mode&&!1!==e.loadOnScroll),persistSourceRanges:D(()=>{if(qe.isNonEmptyArray(e.persistSourceRanges)){const t=e.persistSourceRanges.filter(e=>qe.isArray(e)&&+e[0]>=0&&+e[1]>=0&&+e[0]!==+e[1]).map(e=>[Math.min(+e[0],+e[1]),Math.max(+e[0],+e[1])]);t.sort((e,t)=>e[0]-t[0]);let l=[0,0],n=[];for(const e of t)e[0]<l[1]?l[1]=Math.max(l[1],e[1]):(n=[...n,e],l=e);return n}return!0===e.persistSourceRanges})},ae={scrollbar:D(()=>{let e="visible";return e="100%"!==ae.tableBodyWidth.value?"auto":e,e="auto"!==ae.tableBodyHeight.value?"auto":e,e=ae.tableBodyOverflow.value??e,{overflow:e,optionser:le,direction:"horizontal"}}),hasBorder:D(()=>!0===e.border||f.value.length>1),hasHeader:D(()=>!1!==e.showHeader&&b.value.length>0),hasBodyer:D(()=>!1!==e.showBodyer&&F.value.length>0),hasFooter:D(()=>!1!==e.showFooter&&Y.value.length>0),hasSelection:D(()=>"Checkbox"===e.selectedRowMode||"Radio"===e.selectedRowMode),isFixedTop:D(()=>!0===re.sticky.value.topHeader||qe.isFiniteNumber(re.sticky.value.topHeader)||/^[+-]?\d+\.?\d*(px)?$/.test(`${re.scroll.value.y}`)),fixedLeftIndex:D(()=>{const e=[];for(const t of ae.filterListColumns.value)for(const l of t)l&&l.colSpan>0&&l.rowSpan>0&&"left"===l.fixed&&e.push(l.colOffset+l.colSpan-1);return e.length>0?Math.max(...e):-1}),fixedRightIndex:D(()=>{const e=[];for(const t of ae.filterListColumns.value)for(const l of t)l&&l.colSpan>0&&l.rowSpan>0&&"right"===l.fixed&&e.push(l.colOffset);return e.splice(0,e.length,...e.filter(e=>e>ae.fixedLeftIndex.value)),e.length>0?Math.min(...e):-1}),tableBodyWidth:D(()=>{const e=re.scroll.value.x,t=le.resizerScrollClientWidth.value,l=le.windowInnerWidth.value;return/^0(px)?$|^-\d+\.?\d*(px)?$/.test(`${e}`)?(t||l)+parseInt(`${e}`)+"px":/^\+?\d+\.?\d*(px)?$/.test(`${e}`)?parseInt(`${e}`)+"px":"string"==typeof e&&e||"100%"}),tableBodyHeight:D(()=>{const e=re.scroll.value.y,t=ne.paginate,l=!0!==t.visible||t.totalPage<=1&&t.hideOnSinglePage,n="small"===t.size||t.simple?36:44,o=le.resizerScrollClientHeight.value,r=le.windowInnerHeight.value;return/^0(px)?$|^-\d+\.?\d*(px)?$/.test(`${e}`)?l?(o||r)+parseInt(`${e}`)+"px":(o||r)+parseInt(`${e}`)-n+"px":/^\d+\.?\d*(px)?$/.test(`${e}`)?l?parseInt(`${e}`)+"px":parseInt(`${e}`)-n+"px":"auto"}),tableBodyOverflow:D(()=>void 0===re.scroll.value.overflow||null===re.scroll.value.overflow||["auto","hidden","visible"].includes(re.scroll.value.overflow)?re.scroll.value.overflow:"visible"),filterListColumns:D(()=>{const e=[],t=(l,n=[],o)=>{let r=0,a=0,i=0;o&&(r=o.referColumn.rowSpan,a=o.referColumn.colOffset,i=o.referColumn.rowOffset,i=r>0?i+r:i);for(const s of l){const l=s.referColumn.rowIndex,r=s.referColumn.colIndex,d=e.find(e=>e.rowIndex===l&&e.colIndex===r)?.cacher,c=d?qe.isFiniteNumber(d?.rowSpan)&&d.rowSpan>0?d.rowSpan:0:1,p=d?qe.isFiniteNumber(d?.colSpan)&&d.colSpan>0?d.colSpan:0:1,u=d?!qe.isBoolean(d.resizable)||d.resizable:s.referColumn.resizable,f=ie.getValue(R.value[l][r]);if(!y.value.includes(s.key))continue;const b={...s,parentColumn:o||null,treeChildren:[],referColumn:{...s.referColumn,colSpan:p,rowSpan:c,resizable:!1!==u,colOffset:a,rowOffset:i,colMaxSpan:p,rowMaxSpan:c>0?i+c:i,align:qe.isNonEmptyObject(f)&&Object.hasOwn(f,"align")?f.align??s.referColumn.align:s.referColumn.align,fixed:qe.isNonEmptyObject(f)&&Object.hasOwn(f,"fixed")?f.fixed??s.referColumn.fixed:s.referColumn.fixed,width:qe.isNonEmptyObject(f)&&Object.hasOwn(f,"width")?f.width??s.referColumn.width:s.referColumn.width,minWidth:qe.isNonEmptyObject(f)&&Object.hasOwn(f,"minWidth")?f.minWidth??s.referColumn.minWidth:s.referColumn.minWidth,maxWidth:qe.isNonEmptyObject(f)&&Object.hasOwn(f,"maxWidth")?f.maxWidth??s.referColumn.maxWidth:s.referColumn.maxWidth,ellipsis:qe.isNonEmptyObject(f)&&Object.hasOwn(f,"ellipsis")?f.ellipsis??s.referColumn.ellipsis:s.referColumn.ellipsis,tooltip:qe.isNonEmptyObject(f)&&Object.hasOwn(f,"tooltip")?f.tooltip??s.referColumn.tooltip:s.referColumn.tooltip,sorter:qe.isNonEmptyObject(f)&&Object.hasOwn(f,"sorter")?f.sorter??s.referColumn.sorter:s.referColumn.sorter}};if(qe.isNonEmptyArray(s.treeChildren)){const e=t(s.treeChildren,[],b),l=e.filter(e=>e.referColumn.rowSpan>0&&e.referColumn.colSpan>0),o=Math.max(...l.map(e=>e.referColumn.rowMaxSpan),b.referColumn.rowMaxSpan),r=l.reduce((e,t)=>e+t.referColumn.colMaxSpan,0),a=e.some(e=>!1!==e.referColumn.resizable);b.referColumn.rowMaxSpan=o,b.referColumn.colMaxSpan=r,b.referColumn.resizable=a,b.referColumn.colSpan=r,b.treeChildren=e,qe.isNonEmptyArray(e)&&n.push(b)}qe.isNonEmptyArray(s.treeChildren)||n.push(b),a+=c>0&&p>0?p:0}return n},l=(e,t=[],n=!0)=>{for(const o of e){const e=o.referColumn.colIndex,n=o.referColumn.rowIndex;t[n]=t[n]||[],t[n][e]=t[n][e]||A(o.referColumn),qe.isNonEmptyArray(o.treeChildren)&&l(o.treeChildren,t,!1)}return t};return((e,t)=>{const l=t.mergers,n=t.cachers,o=t.spikers,r=t.empters,a=e=>{const t=e.map(e=>y.value.includes(e.key)?e.rowMaxSpan:0);return Math.max(0,...t)},i=e=>qe.isNonEmptyArray(e.children)?e.children.reduce((e,t)=>e+i(t),0):y.value.includes(e.key)?e.colMaxSpan:0,s=e=>{if(qe.isNonEmptyArray(e.children))return e.children.reduce((e,t)=>e+s(t),0);const t=ie.getValue(R.value[e.rowIndex][e.colIndex]),l=qe.isFiniteNumber(t?.colSpan)?t.colSpan:qe.isFiniteNumber(e.colSpan)?e.colSpan:1;return y.value.includes(e.key)?l:0};for(const[d,c]of e.entries()){const e=n[d]||new Map,t=o[d]||new Set,l=r[d]||new Set;n[d]=e,o[d]=t,r[d]=l;for(const[n,o]of c.entries()){if(!o){e.set(n,{index:n,colSpan:1,rowSpan:1,colCount:0,rowCount:0,cellAttrs:null,cellProps:null,cellValue:null,cellRender:!0});continue}let t=0,l=0,r=0,d=0,c=!0;const p=i(o),u=a(b.value),f=ie.getValue(T.value[o.rowIndex][o.colIndex]),h=ie.getValue(R.value[o.rowIndex][o.colIndex]),g=ie.getValue(E.value[o.rowIndex][o.colIndex]);l=qe.isFiniteNumber(h?.rowSpan)?h.rowSpan:qe.isFiniteNumber(o.rowSpan)?o.rowSpan:o.rowIndex===o.rowMaxSpan-1?Math.max(u-o.rowIndex,1):1,t=qe.isFiniteNumber(h?.colSpan)?h.colSpan:qe.isFiniteNumber(o.colSpan)?o.colSpan:s(o),c=!1!==h?.cellSpan&&y.value.includes(o.key),r=t-p,d=l-1,e.set(n,{index:n,colSpan:t,rowSpan:l,colCount:r,rowCount:d,cellAttrs:f,cellProps:h,cellValue:g,cellRender:c})}}for(const[d,c]of e.entries())for(const[t]of c.entries()){const l=n[d],o=l.get(t),r=ie.findParentColumn(e,d,t);let a=o.rowCount,i=o.colCount;if(a>0){for(let e=1;e<=a;e++){const l=n[d+e],r=l.get(t);l&&r&&l.set(t,{index:t,colSpan:o.colSpan,colCount:o.colCount,rowSpan:0,rowCount:-1,cellAttrs:r.cellAttrs,cellProps:r.cellProps,cellValue:r.cellValue,cellRender:!0})}o.rowCount=a=0}if(i>0){for(let e=t+1;e<c.length;e++){const n=t+e,o=l?.get(n);o&&o.colCount<0&&(i+=o.colCount)}for(let n=1;n<=i;n++){const a=t+n,s=l.get(a),p=ie.findParentColumn(e,d,a),u=c[a];if(r!==p||!u||u.children.length>0){o.colCount=0,o.colSpan=o.colSpan-(i-n+1);break}s.colCount>=0&&l.set(a,{index:a,rowCount:s.rowCount,rowSpan:s.rowSpan,colCount:s.colCount-1,colSpan:s.colSpan-1,cellAttrs:s.cellAttrs,cellProps:s.cellProps,cellValue:s.cellValue,cellRender:!0})}}}for(const[d,c]of e.entries())for(const[e,t]of c.entries()){const a=n[d],i=o[d],s=r[d],p=ie.takeCellMegre({index:e,colIndex:e,rowIndex:d,cachers:a,spikers:i,empters:s});if(t){const t=c.filter((t,l)=>l===e||l>e&&l<e+p.cacher.colSpan).some(e=>!1!==e.resizable);Object.assign(p.cacher,{resizable:t})}l.push(p)}})(f.value,{mergers:e,cachers:[],spikers:[],empters:[]}),l(t(u.value))}),filterDataColumns:D(()=>{const e=[],t=[];for(const l of ae.filterListColumns.value)for(const t of l)t&&t.rowOffset+t.rowSpan===t.rowMaxSpan&&(e[t.colIndex]=t);for(const l of e)l&&t.push(l);return t}),filterPageSources:D(()=>F.value.filter(e=>{const t=e.parentKeys,l=J.value;return!t.some(e=>!l.includes(e))&&(!0===re.loadOnScroll.value||e.rowGroupIndex>=ne.paginate.pageSize*(ne.paginate.pageNo-1)||e.rowGroupIndex<ne.paginate.pageSize*ne.paginate.pageNo)}).map((e,t)=>({...e,rowIndex:t+1}))),filterRangeSources:D(()=>{let e=1/0,t=-1/0;const l=r.renderBuffer[0],n=r.renderBuffer[1],o=r.renderOffset[0],a=r.renderOffset[1],i=ae.filterPageSources.value,s=o-l>0?o-l:0,d=a+n<F.value.length?a+n:F.value.length,c=i.find((e,t)=>t>=s)?.rowGroupIndex||0,p=i.findLast((e,t)=>t<=d)?.rowGroupIndex||0;if(qe.isArray(re.persistSourceRanges.value))for(const r of re.persistSourceRanges.value)(c>=r[0]||p<=r[1])&&(e=Math.min(r[0],e),t=Math.max(r[0],t));return i.filter((l,n)=>!0!==re.virtual.value||(!0===re.persistSourceRanges.value||(i.length<=re.bodyMinRows.value||(l.rowGlobalIndex>=e&&l.rowGlobalIndex<=t||n>=s&&n<=d))))}),filterPageSummarys:D(()=>Y.value.filter(e=>e)),overflowScrollBottom:D(()=>le.wrapperScrollBottom.value>1||le.resizerScrollBottom.value>1),overflowScrollRight:D(()=>le.wrapperScrollRight.value>1||le.resizerScrollRight.value>1),overflowScrollLeft:D(()=>le.wrapperScrollLeft.value>1||le.resizerScrollLeft.value>1),overflowScrollTop:D(()=>le.wrapperScrollTop.value>1||le.resizerScrollTop.value>1)},ie={getValue:e=>z(K(e)),getVNodes:e=>qe.isNonEmptyObject(e)&&e.type===H?qe.isNonEmptyArray(e.children)?e:null:e,isVueNode:e=>qe.isNonEmptyObject(e)&&M(e),isOwnProperty(e,t){for(const l of t){if(!qe.isNonEmptyArray(e)&&!qe.isNonEmptyObject(e))return!1;if(!qe.isString(l)&&!qe.isFiniteNumber(l))return!1;if(!Object.hasOwn(e,l))return!1;e=e[l]}return!0},takeCellMegre(e){const t=e.index,l=e.colIndex,n=e.rowIndex,o=e.cachers,r=e.spikers,a=e.empters,i=o.get(t),s=r.has(t),d=i.cellRender,c=i.colCount;if(!s&&0!==c&&d){const e=i.colCount>0,l=i.colCount<0,n=Array.from(o.values());n.sort((e,t)=>e.index-t.index);const s=n.filter(e=>!r.has(e.index)&&e.index>t),d=s.filter(e=>e.colCount<0),c=s.filter(e=>e.colCount>0);if(l){const e={taskers:[],refers:[i],counts:1};for(const t of s){if(!t.cellRender||t.rowSpan>0&&t.colSpan>0)break;e.refers.push(t),e.counts++}for(const t of c){if(e.counts<1)break;const l=e.counts,n=t.colCount,o=t.cellRender,a=e.taskers.slice(-1)[0];a&&a.render===o||e.taskers.push({count:n>l?l:n,render:o}),a&&a.render===o&&(a.count+=n>l?l:n),l>=n&&r.add(t.index),e.counts=l>=n?l-n:0,t.colCount=n>=l?n-l:0}for(const t of e.taskers){let l=0;for(;l<t.count;){const n=e.refers.shift(),o=0===l++;n.colCount=0,n.colSpan=o&&!t.render?t.count:0,a.add(n.index),r.add(n.index)}}for(const[t,l]of e.refers.entries())l.colCount=0,l.colSpan=0===t?e.refers.length:0,a.add(l.index),r.add(l.index)}if(e){for(const e of d){if(i.colCount<1)break;a.add(e.index),r.add(e.index),i.colSpan=e.cellRender?i.colSpan:i.colSpan-1,i.colCount=i.colCount+e.colCount}i.colSpan=i.colSpan-(i.colCount>0?i.colCount:0),i.colSpan=i.colSpan>0?i.colSpan:0,i.colCount=0}r.add(i.index)}if(!s&&0!==c&&!d){const e=i.colCount>0,l=i.colCount<0,n=Array.from(o.values());n.sort((e,t)=>e.index-t.index);const s=n.filter(e=>!r.has(e.index)&&e.index>t),d=s.filter(e=>e.colCount<0),c=s.filter(e=>e.colCount>0);if(l)for(const t of c){t.colSpan--,t.colCount--,0===t.colCount&&r.add(t.index);break}if(e){const e={taskers:[]};for(const t of d){if(i.colCount<1)break;const l=t.cellRender,n=e.taskers.slice(-1)[0];n&&n.render===l||e.taskers.push({render:t.cellRender,refers:[t]}),n&&n.render===l&&n.refers.push(t),i.colCount--}for(const t of e.taskers){const e=t.render,l=t.refers;for(const[t,n]of l.entries())n.colCount=0,n.colSpan=e&&0===t?l.length:0,a.add(n.index),r.add(n.index)}i.colSpan=i.colSpan-(i.colCount>0?i.colCount:0),i.colSpan=i.colSpan>0?i.colSpan:0,i.colCount=0}r.add(i.index)}return{index:t,colIndex:l,rowIndex:n,cacher:o.get(t),spiker:r.has(t),empter:a.has(t)}},restoreColumns:e=>e.map(e=>{const t={...e.cacheColumn,children:qe.isNonEmptyArray(e.treeChildren)?ie.restoreColumns(e.treeChildren):qe.isArray(e.cacheColumn.children)?[]:e.cacheColumn.children};return void 0===t.children&&delete t.children,t}),restoreSources:e=>e.map(e=>e.referRecord),recloneColumns:(e,t=null)=>e.map(e=>{const l={...e,parentColumn:t},n=ie.recloneColumns(e.treeChildren,l);return Object.assign(l,{treeChildren:n})}),dragerColumns(e,t,l){const n=ie.findTreeColumns(e,t.rowIndex,t.colIndex),o=ie.findTreeColumns(e,l.rowIndex,l.colIndex),r=n?n.parentColumn:null,a=r?r.treeChildren:e,i=a.findIndex(e=>e===n),s=a.findIndex(e=>e===o);return n&&o?n.parentColumn!==o.parentColumn?e:a.includes(n)&&a.includes(o)?(a.splice(i,1),a.splice(s,0,n),e):e:e},findTreeColumns(e,t,l){for(const n of e){if(n.referColumn.rowIndex!==t){const e=ie.findTreeColumns(n.treeChildren,t,l);if(e)return e}if(n.referColumn.rowIndex===t&&n.referColumn.colIndex===l)return n}return null},findParentColumn(e,t,l){if(t>0){const n=e[t-1]?.filter((e,t)=>t<=l),o=n?.findLast(e=>!!e);return o||null}return null},findListColumns(e,t,l){for(const n of e)for(const e of n)if(e?.rowIndex===t&&e?.colIndex===l)return e;return null},isColumnsChanged(e,t){if(e.length!==t.length)return!0;for(const l of e.keys()){let n=!1;const o=ie.getValue(e[l]),r=ie.getValue(t[l]),a=r.cacheColumn;if(n=!qe.equal(o,a,{include:["key","title","dataIndex","align","fixed","width","minWidth","maxWidth","settings","resizable","ellipsis","tooltip","colSpan","rowSpan","sorter","sorterField","sorterValueChange","customHeaderCellRender","customBodyerCellRender","customFooterCellRender"]}),n||(qe.isArray(o.children)||(n=void 0!==o.children&&null!==o.children||!qe.isEmptyArray(r.treeChildren)),qe.isArray(o.children)&&(n=ie.isColumnsChanged(o.children,r.treeChildren))),n)return!0}return!1},isSourcesChanged(t,l){if(t.length!==l.length)return!0;for(const n of t.keys()){let o=!1,r="",a="";const i=ie.getValue(t[n]),s=ie.getValue(l[n]),d=ie.getValue(s.referRecord);if(r=qe.isFunction(e.treeKey)?e.treeKey(i):r,r=qe.isNonEmptyString(e.treeKey)?e.treeKey:r,r=qe.isNonEmptyString(r)?r.trim():"",a=qe.isFunction(e.rowKey)?e.rowKey(i):a,a=qe.isNonEmptyString(e.rowKey)?e.rowKey:a,a=qe.isNonEmptyString(a)?a.trim():"",i!==d)return!0;if(qe.isNonEmptyString(r)&&!qe.isArray(i[r])&&(o=void 0!==i[r]&&null!==i[r]||!qe.isEmptyArray(s.treeChildren)),qe.isNonEmptyString(r)&&qe.isArray(i[r])&&(o=ie.isSourcesChanged(i[r],s.treeChildren)),o)return!0}return!1},isSummaryChanged(e,t){if(e.length!==t.length)return!0;if(e===t)return!1;for(const l of e.keys()){if(ie.getValue(e[l])!==ie.getValue(t[l]))return!0}return!1},normalizeTreeColumns(t,l=[],n){let o=n?n.referColumn.colOffset:0;for(const[r,a]of t.entries()){const t=qe.isFiniteNumber(a.minWidth)&&a.minWidth>0?a.minWidth:0,i=qe.isFiniteNumber(a.maxWidth)&&a.maxWidth<1/0?a.maxWidth:1/0,s=qe.isNonEmptyObject(a.settings)?{checkbox:!1!==a.settings.checkbox,disabled:!0===a.settings.disabled}:{checkbox:!0,disabled:!1},d=qe.isBoolean(a.resizable)?a.resizable:n?.referColumn.resizable??e.columnPresetResizable,c=a.sorterField??(qe.isArray(a.dataIndex)?a.dataIndex.join("."):a.dataIndex),u=p.value.find(e=>e.field===c)?.value??"",f=a.key||[].concat(a.dataIndex).join(".");n&&(s.checkbox=!1!==s.checkbox&&!1!==n.referColumn.settings.checkbox,s.disabled=!0===s.disabled&&!0===n.referColumn.settings.disabled);const b={key:f,title:a.title,childKeys:[],parentKey:n?n.key:null,parentKeys:n?[...n.parentKeys,n.key]:[],referColumn:{key:f,title:a.title,parentKey:n?n.key:"",dataIndex:a.dataIndex,children:[],align:a.align??n?.referColumn.align??"left",fixed:a.fixed??n?.referColumn.fixed??!1,width:a.width,minWidth:t,maxWidth:i,settings:s,resizable:t<i&&!0===d,ellipsis:a.ellipsis??n?.referColumn.ellipsis??!1,tooltip:a.tooltip??n?.referColumn.tooltip??!1,colIndex:o+r,rowIndex:n?n.referColumn.rowIndex+1:0,colOffset:o+r,rowOffset:n?n.referColumn.rowIndex+1:0,colMaxSpan:1,rowMaxSpan:n?n.referColumn.rowMaxSpan+1:1,colSpan:qe.isFiniteNumber(a.colSpan)?a.colSpan:NaN,rowSpan:qe.isFiniteNumber(a.rowSpan)?a.rowSpan:NaN,sorter:!0===(a.sorter??n?.referColumn.sorter),sorterField:c,sorterValue:u,expandIcon:a.expandIcon??n?.referColumn.expandIcon,sorterValueChange:a.sorterValueChange??n?.referColumn.sorterValueChange,customHeaderCellRender:a.customHeaderCellRender??n?.referColumn.customHeaderCellRender,customBodyerCellRender:a.customBodyerCellRender??n?.referColumn.customBodyerCellRender,customFooterCellRender:a.customFooterCellRender??n?.referColumn.customFooterCellRender},cacheColumn:a,parentColumn:n||null,treeChildren:[],rowGroupLevel:n?n.rowGroupLevel+1:1,rowGroupIndex:n?n.rowGroupIndex:r,rowGroupIndexs:n?{...n.rowGroupIndexs,[n.rowGroupLevel+1]:r}:{1:r}};if(l.push(b),qe.isNonEmptyArray(a.children)){const e=ie.normalizeTreeColumns(a.children,[],b),t=Math.max(...e.map(e=>e.referColumn.rowMaxSpan),b.referColumn.rowMaxSpan),l=e.reduce((e,t)=>e+t.referColumn.colMaxSpan,0)||1,n=[...e.map(e=>e.key),...e.map(e=>e.childKeys).flat()],r=e.some(e=>e.referColumn.resizable);b.referColumn.children=e.map(e=>e.referColumn),b.referColumn.rowMaxSpan=t,b.referColumn.colMaxSpan=l,b.referColumn.resizable=r,b.treeChildren=e,b.childKeys=n,o+=l-1}}return l},normalizeTreeSources(t,l=[],n,r){for(const[a,i]of t.entries()){let t="",s="";t=qe.isFunction(e.rowKey)?e.rowKey(i):t,t=qe.isNonEmptyString(e.rowKey)?e.rowKey:t,t=qe.isNonEmptyString(t)?t.trim():"",s=qe.isFunction(e.treeKey)?e.treeKey(i):s,s=qe.isNonEmptyString(e.treeKey)?e.treeKey:s,s=qe.isNonEmptyString(s)?s.trim():"",r||(r={line:-1}),r.line>=-1&&(r.line+=1);const d=O.value.find(e=>{const l=e.rowKeyField===t,n=qe.isNonEmptyString(e.key)||qe.isFiniteNumber(e.key);return l&&n?e.key===i[t]:ie.getValue(e.referRecord)===ie.getValue(i)}),c={key:t&&(i[t]||0===i[t])?i[t]:r.line,parentKey:n?n.key:null,childKeys:[],parentKeys:n?[...n.parentKeys,n.key]:[],referRecord:i,treeChildren:[],rowGroupLevel:n?n.rowGroupLevel+1:1,rowGroupIndex:n?n.rowGroupIndex:a,rowGroupIndexs:n?{...n.rowGroupIndexs,[n.rowGroupLevel+1]:a}:{1:a},rowGlobalIndex:r.line,rowTreeKeyField:s,rowKeyField:t,rowHeight:d?d.rowHeight:o.minHeight,rowIndex:-1};if(l.push(c),qe.isNonEmptyArray(i[c.rowTreeKeyField])){const e=ie.normalizeTreeSources(i[c.rowTreeKeyField],[],c,r),t=[...e.map(e=>e.key),...e.map(e=>e.childKeys).flat()];c.treeChildren=e,c.childKeys=t}Z.value.includes(c.key)||Z.value.push(c.key)}return l},normalizeTreeSettings(e,t){t=t||g.value;for(const l of e){const e={key:l.key,title:l.title,children:[],disabled:l.referColumn.settings.disabled,column:l.referColumn};if(h.value.includes(l.key)||h.value.push(l.key),y.value.includes(l.key)||l.referColumn.settings.checkbox&&y.value.push(l.key),qe.isNonEmptyArray(l.treeChildren)){ie.normalizeTreeSettings(l.treeChildren,e.children);let t=!1,n=!1;if(t=t||l.treeChildren.some(e=>y.value.includes(e.key)),n=n||l.treeChildren.some(e=>y.value.includes(e.key)&&e.referColumn.settings.disabled),n=n||l.treeChildren.every(e=>e.referColumn.settings.disabled),!t||n){const e=l.cacheColumn.settings=qe.isObject(l.cacheColumn.settings)?l.cacheColumn.settings:{};e.checkbox=t,e.disabled=n}e.disabled=n,l.referColumn.settings.checkbox=t,l.referColumn.settings.disabled=n,t&&!y.value.includes(l.key)&&(y.value=[...y.value,l.key]),t||!y.value.includes(l.key)||(y.value=y.value.filter(e=>e!==l.key))}t.push(e)}return t},normalizeListSources(t,l=[]){for(const e of t)l.push(e),qe.isNonEmptyArray(e.treeChildren)&&ie.normalizeListSources(e.treeChildren,l);for(const n of l)e.defaultSelectAllRows&&"Checkbox"===e.selectedRowMode&&!Q.value.includes(n.key)&&Q.value.push(n.key),e.defaultExpandAllRows&&!J.value.includes(n.key)&&J.value.push(n.key);return l},normalizeListColumns(e,t){for(const l of e){const e=l.referColumn.colOffset,n=l.referColumn.rowOffset;t[n]=t[n]||[],t[n][e]=t[n][e]||l.referColumn,qe.isNonEmptyArray(l.treeChildren)&&ie.normalizeListColumns(l.treeChildren,t)}return t},normalizeDataColumns(e=[]){const t=[];for(const l of e)for(const e of l)e&&e.rowIndex===e.rowMaxSpan-1&&(t[e.colOffset]=e);return t},normalizeListSummary:(e=[])=>e.map(e=>e),normalizeInitColumns(t=[]){for(const[l,n]of t.entries())ie.isOwnProperty(x.value,[l])||(qe.isFunction(e.customHeaderRowAttrs)&&(x.value[l]=e.customHeaderRowAttrs({columns:n,rowIndex:l})),void 0===x.value[l]&&(x.value[l]={}));for(const l of t.flat()){if(!l)continue;const t=l.rowIndex,n=l.colIndex,o=ne.paginate,r=ie.isOwnProperty(T.value,[t,n]),a=ie.isOwnProperty(R.value,[t,n]);if(!r||!a){if(T.value[t]=T.value[t]||[],R.value[t]=R.value[t]||[],E.value[t]=E.value[t]||[],T.value[t][n]=void 0,R.value[t][n]=void 0,E.value[t][n]=void 0,qe.isFunction(e.customHeaderCellRender)){const r=ie.getValue(e.customHeaderCellRender({title:l.title,column:l,rowIndex:t,colIndex:n,paginater:o})),a=!M(r)&&qe.isObject(r)&&qe.isObject(r.attrs)&&r.attrs||void 0,i=!M(r)&&qe.isObject(r)&&qe.isObject(r.props)&&r.props||void 0,s=M(r)?r:qe.isObject(r)&&r.children||void 0;T.value[t][n]=void 0===a?T.value[t][n]:a,R.value[t][n]=void 0===i?R.value[t][n]:i,E.value[t][n]=void 0===s?E.value[t][n]:s}if(qe.isFunction(l.customHeaderCellRender)){const e=l.customHeaderCellRender({title:l.title,column:l,rowIndex:t,colIndex:n,paginater:o}),r=!M(e)&&qe.isObject(e)&&qe.isObject(e.attrs)&&e.attrs||void 0,a=!M(e)&&qe.isObject(e)&&qe.isObject(e.props)&&e.props||void 0,i=M(e)?e:qe.isObject(e)&&e.children||void 0;T.value[t][n]=void 0===r?T.value[t][n]:r,R.value[t][n]=void 0===a?R.value[t][n]:a,E.value[t][n]=void 0===i?E.value[t][n]:i}void 0===T.value[t][n]&&(T.value[t][n]={}),void 0===E.value[t][n]&&(E.value[t][n]=l.title)}}return t},normalizeInitSources(t){for(const l of t){const t=ie.isOwnProperty(L.value,[l.rowGlobalIndex]),n=ie.isOwnProperty(W.value,[l.rowGlobalIndex]);if(t&&n)continue;const o=l.referRecord,r=l.rowGroupIndex,a=l.rowGroupLevel,i=l.rowGroupIndex,s=l.rowGroupIndexs,d=l.rowGlobalIndex;qe.isFunction(e.customBodyerRowAttrs)&&(L.value[d]=e.customBodyerRowAttrs({record:o,rowIndex:r,groupIndex:i,groupLevel:a,groupIndexs:s,globalIndex:d})),qe.isFunction(e.customBodyerRowStates)&&(W.value[d]=e.customBodyerRowStates({record:o,rowIndex:r,groupIndex:i,groupLevel:a,groupIndexs:s,globalIndex:d})),void 0===L.value[d]&&(L.value[d]={}),void 0===W.value[d]&&(W.value[d]={})}for(const l of b.value){const n=l,o=n.key,r=n.colIndex,a=n.dataIndex,i=ne.paginate;for(const l of t){const t=l.referRecord,s=l.rowGroupIndex,d=l.rowGroupLevel,c=l.rowGroupIndex,p=l.rowGroupIndexs,u=l.rowGlobalIndex,f=ie.isOwnProperty($.value,[u,o]),b=ie.isOwnProperty(V.value,[u,o]);if(f&&b)continue;let h;$.value[u]=$.value[u]||[],V.value[u]=V.value[u]||[],B.value[u]=B.value[u]||[],$.value[u][o]=void 0,V.value[u][o]=void 0,B.value[u][o]=void 0;let g=0;if(h=qe.isArray(a)&&qe.isObject(t)?t[a[g++]]:h,h=qe.isString(a)&&qe.isObject(t)?t[a]:h,qe.isNonEmptyArray(a))for(;g<a.length;){if(!qe.isArray(h)||!qe.isObject(h)){h=void 0;break}h=h[n.dataIndex[g++]]}if(qe.isFunction(e.customBodyerCellRender)){const l=e.customBodyerCellRender({value:h,record:t,rowIndex:s,groupIndex:c,groupLevel:d,groupIndexs:p,globalIndex:u,column:n,colIndex:r,paginater:i}),a=!M(l)&&qe.isObject(l)&&qe.isObject(l.attrs)&&l.attrs||void 0,f=!M(l)&&qe.isObject(l)&&qe.isObject(l.props)&&l.props||void 0,b=M(l)?l:qe.isObject(l)&&l.children||void 0;$.value[u][o]=void 0===a?$.value[u][o]:a,V.value[u][o]=void 0===f?V.value[u][o]:f,B.value[u][o]=void 0===b?B.value[u][o]:b}if(qe.isFunction(n.customBodyerCellRender)){const e=n.customBodyerCellRender({value:h,record:t,rowIndex:s,groupIndex:c,groupLevel:d,groupIndexs:p,globalIndex:u,column:n,colIndex:r,paginater:i}),l=!M(e)&&qe.isObject(e)&&qe.isObject(e.attrs)&&e.attrs||void 0,a=!M(e)&&qe.isObject(e)&&qe.isObject(e.props)&&e.props||void 0,f=M(e)?e:qe.isObject(e)&&e.children||void 0;$.value[u][o]=void 0===l?$.value[u][o]:l,V.value[u][o]=void 0===a?V.value[u][o]:a,B.value[u][o]=void 0===f?B.value[u][o]:f}void 0===$.value[u][o]&&($.value[u][o]={}),void 0===V.value[u][o]&&(V.value[u][o]={}),void 0===B.value[u][o]&&(B.value[u][o]=h)}}},normalizeInitSummary(t){const l=ae.filterPageSources.value.filter(e=>1===e.rowGroupLevel).map(e=>e.referRecord),n=ne.paginate;for(const[o,r]of t.entries())ie.isOwnProperty(U.value,[o])||(qe.isFunction(e.customFooterRowAttrs)&&(U.value[o]=e.customFooterRowAttrs({record:r,rowIndex:o,sources:l,paginater:n})),void 0===U.value[o]&&(U.value[o]={}));for(const o of b.value){const r=o,a=r.key,i=r.colIndex,s=r.dataIndex;for(const[o,d]of t.entries()){const t=ie.isOwnProperty(X.value,[o,a]),c=ie.isOwnProperty(G.value,[o,a]);if(t&&c)continue;let p;X.value[o]=X.value[o]||[],G.value[o]=G.value[o]||[],_.value[o]=_.value[o]||[],X.value[o][a]=void 0,G.value[o][a]=void 0,_.value[o][a]=void 0;let u=0;if(p=qe.isArray(s)&&qe.isObject(d)?d[s[u++]]:p,p=qe.isString(s)?d[s]:p,qe.isNonEmptyArray(s))for(;u<s.length;){if(!qe.isArray(p)||!qe.isObject(p)){p=void 0;break}p=p[r.dataIndex[u++]]}if(qe.isFunction(e.customFooterCellRender)){const t=e.customFooterCellRender({value:p,record:d,rowIndex:o,column:r,colIndex:i,sources:l,paginater:n}),s=!M(t)&&qe.isObject(t)&&qe.isObject(t.attrs)&&t.attrs||void 0,c=!M(t)&&qe.isObject(t)&&qe.isObject(t.props)&&t.props||void 0,u=M(t)?t:qe.isObject(t)&&t.children||void 0;X.value[o][a]=void 0===s?X.value[o][a]:s,G.value[o][a]=void 0===c?G.value[o][a]:c,_.value[o][a]=void 0===u?_.value[o][a]:u}if(qe.isFunction(r.customFooterCellRender)){const e=r.customFooterCellRender({value:p,record:d,rowIndex:o,column:r,colIndex:i,sources:l,paginater:n}),t=!M(e)&&qe.isObject(e)&&qe.isObject(e.attrs)&&e.attrs||void 0,s=!M(e)&&qe.isObject(e)&&qe.isObject(e.props)&&e.props||void 0,c=M(e)?e:qe.isObject(e)&&e.children||void 0;X.value[o][a]=void 0===t?X.value[o][a]:t,G.value[o][a]=void 0===s?G.value[o][a]:s,_.value[o][a]=void 0===c?_.value[o][a]:c}void 0===X.value[o][a]&&(X.value[o][a]={}),void 0===G.value[o][a]&&(G.value[o][a]={}),void 0===_.value[o][a]&&(_.value[o][a]=p)}}},updatePropColumns(l){i.value=ie.restoreColumns(l),ie.isColumnsChanged(e.columns,l)&&t.emit("update:columns",ie.restoreColumns(l))},updatePropSources(l){d.value=ie.restoreSources(l),ie.isSourcesChanged(e.sources,l)&&t.emit("update:sources",ie.restoreSources(l))},updatePropSummarys(l){c.value=[...l],e.summarys.length===l.length&&l.every((t,l)=>t===e.summarys[l])||t.emit("update:summarys",[...l])},updatePropPaginate(l){qe.deepEqual(e.paginate,l)||t.emit("update:paginate",Object.assign(e.paginate,l))},updateSetupSelectedRowKeys(e){(e=Array.from(new Set(e))).every(e=>Q.value.includes(e))&&Q.value.every(t=>e.includes(t))||(Q.value=e),ie.cleanSelectedRowKeys()},updatePropSelectedRowKeys(l){(l=Array.from(new Set(l))).every(t=>e.selectedRowKeys.includes(t))&&e.selectedRowKeys.every(e=>l.includes(e))||t.emit("update:selectedRowKeys",l)},updateSetupExpandedRowKeys(e){(e=Array.from(new Set(e))).every(e=>J.value.includes(e))&&J.value.every(t=>e.includes(t))||(J.value=e),ie.cleanExpandedRowKeys()},updatePropExpandedRowKeys(l){(l=Array.from(new Set(l))).every(t=>e.expandedRowKeys.includes(t))&&e.expandedRowKeys.every(e=>l.includes(e))||t.emit("update:expandedRowKeys",l)},cleanSelectedRowKeys(){"Radio"===e.selectedRowMode&&Q.value.length>1&&(Q.value=Q.value.filter(t=>!0===e.preserveSelectedRowKeys||Z.value.includes(t)).filter((e,t)=>t<1)),!0===e.preserveSelectedRowKeys||Q.value.every(e=>Z.value.includes(e))||(Q.value=Q.value.filter(e=>Z.value.includes(e)),ce.select([...Q.value],Q.value.map(e=>ie.getValue(F.value.find(t=>t.key===e)?.referRecord||null))))},cleanExpandedRowKeys(){!0===e.preserveExpandedRowKeys||J.value.every(e=>Z.value.includes(e))||(J.value=J.value.filter(e=>Z.value.includes(e)),ce.expand([...J.value],J.value.map(e=>ie.getValue(F.value.find(t=>t.key===e)?.referRecord||null))))},forceUpdate(t=!1){!0===t&&(Z.value=[],Q.value=[],J.value=[],x.value=[],T.value=[],R.value=[],E.value=[],h.value=[],g.value=[],y.value=[],Z.value=[],L.value=[],W.value=[],V.value=[],$.value=[],B.value=[],U.value=[],G.value=[],X.value=[],_.value=[],i.value=[...e.columns],d.value=[...e.sources],c.value=[...e.summarys]),ee.value=!1,x.value=[],T.value=[],R.value=[],E.value=[],h.value=[],g.value=[],u.value=ie.normalizeTreeColumns(i.value,[]),f.value=ie.normalizeListColumns(u.value,[]),b.value=ie.normalizeDataColumns(f.value),ie.normalizeTreeSettings(u.value),ie.normalizeInitColumns(f.value),Z.value=[],L.value=[],W.value=[],V.value=[],$.value=[],B.value=[],O.value=ie.normalizeTreeSources(d.value,[]),F.value=ie.normalizeListSources(O.value,[]),ie.normalizeInitSources(F.value),U.value=[],G.value=[],X.value=[],_.value=[],Y.value=ie.normalizeListSummary(c.value),ie.normalizeInitSummary(Y.value),ie.cleanSelectedRowKeys(),ie.cleanExpandedRowKeys()}},se={documentMouseMove(e){if(le.resizer.activate){const t=le.resizer.queues,l=le.resizer.point,n=e.clientX-l,o={range:Math.abs(n)};t.sort((e,t)=>o.range>0?Math.abs(e.maxWidth-e.width)-Math.abs(t.maxWidth-t.width):o.range<0?Math.abs(e.minWidth-e.width)-Math.abs(t.minWidth-t.width):0);for(const[e,r]of t.entries()){const l=Math.abs(o.range/(t.length-e)),a=Math.abs(n>0?r.maxWidth-r.width:n<0?r.minWidth-r.width:0);n<=0&&(r.column.width=r.width-~~Math.min(l,a)),n>0&&(r.column.width=r.width+~~Math.min(l,a)),o.range=o.range-Math.min(l,a)}P(()=>se.updateTheadContainer())}if(le.dragger.activate){const t=le.dragger.element,l=le.dragger.rowIndex||0,n=le.dragger.colIndex||0,o=le.refTableWrapper.value,r=o.getBoundingClientRect(),a=o.querySelector(".s-table-thead").getBoundingClientRect(),i=e.clientX<=a.left||e.clientX>=a.right,s=e.clientY<=a.top||e.clientY>=a.bottom,d=document.elementsFromPoint(e.clientX,e.clientY).find(e=>e.classList.contains("s-table-thead-th")),c=ie.findParentColumn(ae.filterListColumns.value,l,n);let p=+(d?.getAttribute("row-index")||0),u=+(d?.getAttribute("col-index")||0),f=ie.findParentColumn(ae.filterListColumns.value,p,u);for(;f&&p>l;)p=f.rowIndex,u=f.colIndex,f=ie.findParentColumn(ae.filterListColumns.value,p,u);if(le.dragger.top=le.wrapperScrollTop.value+e.clientY-r.top,le.dragger.left=le.wrapperScrollLeft.value+e.clientX-r.left,le.dragger.allow=!i&&!s&&c===f,le.dragger.visible=!0,le.dragger.allow&&u!==n||(le.cursor.visible=!1,le.cursor.colIndex=0,le.cursor.rowIndex=0,le.cursor.height=0,le.cursor.width=0,le.cursor.left=0,le.cursor.top=0),le.dragger.allow&&u!==n){const e=o.querySelector(`.s-table-thead-th[row-index="${p}"][col-index="${u}"]`).getBoundingClientRect(),l=t.getBoundingClientRect(),i=Math.min(l.top,e.top)||0,s=le.wrapperScrollTop.value+a.bottom-r.top,d=le.wrapperScrollLeft.value+e.right-r.left,c=le.wrapperScrollLeft.value+e.left-r.left,f=le.wrapperScrollTop.value+i-r.top;le.cursor.visible=!0,le.cursor.colIndex=u,le.cursor.rowIndex=p,le.cursor.height=s-f,le.cursor.width=2,le.cursor.left=u>n?d-3:c,le.cursor.top=f}}},documentMouseup(e){if(le.resizer.activate){for(const e of le.resizer.queues){const t=e.column.rowIndex,l=e.column.colIndex,n=ie.findTreeColumns(u.value,t,l);n.referColumn.width=e.column.width,n.cacheColumn.width=e.column.width}le.resizer.point=0,le.resizer.queues=[],le.resizer.activate=!1,P(()=>se.updateWrapperContainer()),document.body.classList.remove("user-select-none"),document.body.classList.remove("cursor-column-resizable")}if(le.dragger.activate){const e=le.cursor.visible,t={rowIndex:le.dragger.rowIndex,colIndex:le.dragger.colIndex},l={rowIndex:le.cursor.rowIndex,colIndex:le.cursor.colIndex};if(le.dragger.top=0,le.dragger.left=0,le.dragger.value="",le.dragger.allow=!1,le.dragger.element=null,le.dragger.colIndex=0,le.dragger.rowIndex=0,le.dragger.activate=!1,le.dragger.visible=!1,le.cursor.visible=!1,le.cursor.rowIndex=0,le.cursor.colIndex=0,le.cursor.height=0,le.cursor.width=0,le.cursor.left=0,le.cursor.top=0,e){const e=ie.recloneColumns(u.value),n=ie.dragerColumns(e,t,l);ie.updatePropColumns(n)}P(()=>se.updateWrapperContainer()),document.body.classList.remove("cursor-column-draggable"),document.body.classList.remove("user-select-none")}},updateScrollToFirstRange(){const e=le.refTableNoder.value,t=le.resizerContainer.value;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&t instanceof HTMLElement){if(!1!==re.scroll.value.scrollToFirstXOnChange){const l=e.getBoundingClientRect(),n=t.getBoundingClientRect();l.left<n.left&&(t.scrollLeft=t.scrollLeft+(l.left-n.left),t.scrollLeft=t.scrollLeft-(re.scroll.value.scrollToFirstOffsetX||0),t.scrollLeft=re.scroll.value.scrollToFirstTargetX>=0?re.scroll.value.scrollToFirstTargetX:t.scrollLeft)}if(!1!==re.scroll.value.scrollToFirstYOnChange){const l=e.getBoundingClientRect(),n=t.getBoundingClientRect();l.top<n.top&&(t.scrollTop=t.scrollTop+(l.top-n.top),t.scrollTop=t.scrollTop-(re.scroll.value.scrollToFirstOffsetY||0),t.scrollTop=re.scroll.value.scrollToFirstTargetY>=0?re.scroll.value.scrollToFirstTargetY:t.scrollTop)}}},updateResizerContainer(){const e=qe.isFunction(re.scroll.value.getScrollResizeContainer)?re.scroll.value.getScrollResizeContainer():null;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement||(le.resizerContainer.value=null,le.resizerScrollTop.value=0,le.resizerScrollLeft.value=0,le.resizerScrollRight.value=0,le.resizerScrollBottom.value=0,le.resizerScrollClientWidth.value=0,le.resizerScrollClientHeight.value=0,le.resizerScrollHeight.value=0,le.resizerScrollWidth.value=0),"undefined"!=typeof HTMLElement&&e instanceof HTMLElement){const t=e.getBoundingClientRect(),l=e.scrollHeight||0,n=e.scrollWidth||0,o=e.scrollLeft||0,r=e.scrollTop||0;le.resizerContainer.value=e,le.resizerScrollTop.value=r||0,le.resizerScrollLeft.value=o||0,le.resizerScrollRight.value=n-(o+t.width)||0,le.resizerScrollBottom.value=l-(r+t.height)||0,le.resizerScrollClientWidth.value=t.width,le.resizerScrollClientHeight.value=t.height,le.resizerScrollHeight.value=l,le.resizerScrollWidth.value=n}},updateWrapperContainer(){if(le.refTableWrapper.value){const e=le.refTableWrapper.value,t=e.getBoundingClientRect(),l=e.scrollHeight||0,n=e.scrollWidth||0,o=e.scrollLeft||0,r=e.scrollTop||0;le.wrapperScrollTop.value=r||0,le.wrapperScrollLeft.value=o||0,le.wrapperScrollRight.value=n-(o+t.width)||0,le.wrapperScrollBottom.value=l-(r+t.height)||0,le.wrapperScrollClientWidth.value=t.width,le.wrapperScrollClientHeight.value=t.height,le.wrapperScrollHeight.value=l,le.wrapperScrollWidth.value=n}},updateWindowContainer(){le.windowInnerWidth.value=window.innerWidth,le.windowInnerHeight.value=window.innerHeight},updateRenderRowRanger(){r.renderOffset=[0,~~(window.innerHeight/o.minHeight)],r.renderBuffer=[0,10]},updateTheadContainer(){if(le.refTableWrapper.value&&le.tableTheadSizes.value.length===ae.filterDataColumns.value.length)for(const[e,t]of ae.filterDataColumns.value.entries()){const l=t.rowSpan,n=t.colSpan,o=t.rowIndex,r=t.colIndex,a=t.rowOffset,i=t.colOffset,s=t.minWidth||0,d=t.maxWidth||1/0,c=le.refTableWrapper.value?.querySelector(`.s-nested-table > colgroup > col[col-index="${r}"]`);le.tableTheadSizes.value[e].rowSpan=l,le.tableTheadSizes.value[e].colSpan=n,le.tableTheadSizes.value[e].rowIndex=o,le.tableTheadSizes.value[e].colIndex=r,le.tableTheadSizes.value[e].rowOffset=a,le.tableTheadSizes.value[e].colOffset=i,le.tableTheadSizes.value[e].minWidth=s,le.tableTheadSizes.value[e].maxWidth=d,le.tableTheadSizes.value[e].width=c?.offsetWidth||0,le.tableTheadSizes.value[e].height=c?.offsetHeight||0}le.refTableWrapper.value&&le.tableTheadSizes.value.length!==ae.filterDataColumns.value.length&&(le.tableTheadSizes.value=ae.filterDataColumns.value.map(e=>{const t=e.rowSpan,l=e.colSpan,n=e.rowIndex,o=e.colIndex,r=e.rowOffset,a=e.colOffset,i=e.minWidth||0,s=e.maxWidth||1/0,d=le.refTableWrapper.value?.querySelector(`.s-nested-table > colgroup > col[col-index="${o}"]`);return{rowSpan:t,colSpan:l,rowIndex:n,colIndex:o,rowOffset:r,colOffset:a,minWidth:i,maxWidth:s,width:d?.offsetWidth||0,height:d?.offsetHeight||0}}))},updateColCheckRender(){const e={updateColSettings:t=>{for(const l of t){const t=y.value.includes(l.key),n=l.referColumn.settings.disabled;l.referColumn.settings.checkbox=t,l.referColumn.settings.disabled=n,t&&!n&&qe.isObject(l.cacheColumn.settings)&&(l.cacheColumn.settings.checkbox=t,l.cacheColumn.settings.disabled=n),t&&!n||(qe.isObject(l.cacheColumn.settings)&&(l.cacheColumn.settings.checkbox=t,l.cacheColumn.settings.disabled=n),qe.isObject(l.cacheColumn.settings)||(l.cacheColumn.settings={checkbox:t,disabled:n})),qe.isArray(l.treeChildren)&&e.updateColSettings(l.treeChildren)}}};e.updateColSettings(u.value),se.updateColumnRender()},updateColGroupRender(){le.refTableWrapper.value&&(Array.from(le.refTableWrapper.value.querySelectorAll("table > colgroup > col")).forEach(e=>{const t=e.style.maxWidth?parseInt(e.style.maxWidth):1/0,l=e.style.minWidth?parseInt(e.style.minWidth):0,n=e.getBoundingClientRect().width;(n<l||n>t)&&(e.style.width=`${n<l?l:n>t?t:n}px`)}),P(()=>se.updateTheadContainer()))},updateColumnRender(){se.updateResizerContainer(),se.updateWrapperContainer(),se.updateColGroupRender()}},de={computeTableGroupStyle(e){const t=qe.isFiniteNumber(parseInt(`${e.width}`))?parseInt(`${e.width}`):"auto",l=qe.isFiniteNumber(parseInt(`${e.minWidth}`))?parseInt(`${e.minWidth}`):0,n=qe.isFiniteNumber(parseInt(`${e.maxWidth}`))?parseInt(`${e.maxWidth}`):1/0,o={width:"auto",minWidth:"0px",maxWidth:"none"};return/^\+?\d+\.?\d*(px)?$/.test(`${t}`)&&(o.width=parseInt(`${t}`)+"px"),/^\+?\d+\.?\d*(px)?$/.test(`${n}`)&&("auto"!==o.width&&(o.width=parseInt(`${o.width}`)<parseInt(`${n}`)?parseInt(`${o.width}`)+"px":parseInt(`${n}`)+"px"),o.maxWidth=parseInt(`${n}`)+"px"),/^\+?\d+\.?\d*(px)?$/.test(`${l}`)&&("auto"!==o.width&&(o.width=parseInt(`${o.width}`)>parseInt(`${l}`)?parseInt(`${o.width}`)+"px":parseInt(`${l}`)+"px"),o.minWidth=parseInt(`${l}`)+"px"),/^\+?\d+\.?\d*(px)?$/.test(`${l}`)&&/^\+?\d+\.?\d*(px)?$/.test(`${n}`)&&(o.width=l!==n?parseInt(`${o.width}`)+"px":parseInt(`${l}`)+"px"),/^\+?\d+\.?\d*(px)?$/.test(`${o.width}`)&&(o.width=parseInt(`${o.width}`)>=0?parseInt(`${o.width}`)+"px":"auto"),o},computeTableChildStyle(e,t,l){const n={left:!1,right:!1},o={},r="thead"===l,a="tfoot"===l,i=le.tableTheadSizes.value,s=ae.hasSelection.value?"small"===re.size.value?32:"middle"===re.size.value?36:38:0,d=ae.fixedLeftIndex.value>-1&&t.colOffset<=ae.fixedLeftIndex.value,c=ae.fixedRightIndex.value>-1&&t.colOffset>=ae.fixedRightIndex.value,p=ae.overflowScrollRight.value,u=ae.overflowScrollLeft.value;if(a){const e=re.sticky.value.leftFooter,l=re.sticky.value.rightFooter;n.left=d&&(qe.isNumber(e)?t.colOffset<=e:!0===e),n.right=c&&(qe.isNumber(l)?t.colOffset>=l:!0===l)}if(a||(n.left=d,n.right=c),/^\+?\d+\.?\d*(px)?$/.test(`${e.minWidth}`)&&Object.assign(o,{minWidth:parseInt(`${e.minWidth}`)+"px"}),/^\+?\d+\.?\d*(px)?$/.test(`${e.maxWidth}`)&&Object.assign(o,{maxWidth:parseInt(`${e.maxWidth}`)+"px"}),"string"==typeof e.align&&Object.assign(o,{"text-align":e.align||"left"}),!0===n.right){const e=[...i].reverse(),l=e.reduce((l,n,o)=>o<e.length-t.colOffset-1?l+n.width:l,0),n="-2px "+(r?"-1px":"1px")+" 3px 0 rgba(0, 0, 0, .1)";Object.assign(o,{position:"sticky","box-shadow":p&&(r||t.colOffset===ae.fixedRightIndex.value)?n:"none","z-index":e.length+5-t.colOffset,right:(l>0?l-1:0)+"px"})}if(!0===n.left){const e=!a||t.colOffset>0?s:0,l=i.reduce((e,l,n)=>n<t.colOffset?e+l.width:e,0),n="2px "+(r?"-1px":"1px")+" 3px 0 rgba(0, 0, 0, .1)";Object.assign(o,{"z-index":5,position:"sticky","box-shadow":u&&(r||t.colOffset+t.colSpan-1===ae.fixedLeftIndex.value)?n:"none",left:(l+e>0?e+l-1:e)+"px"})}return o},computeTableChildAttrs:(e={},t)=>"tbody"===t||"tfoot"===t?ie.getValue(e):{},computeTableChildProps(e={},t){if("tbody"===t||"tfoot"===t){const t={...ie.getValue(e)},l={style:{}};return"string"==typeof t.align&&Object.assign(l.style,{"text-align":t.align||"left"}),l}return{}}},ce={pageChange:(e,l)=>{const n=l===ne.paginate.pageSize;n&&t.emit("pageChange",e,l),n&&ne.update({pageNo:e,pageSize:l}),n&&oe.reload(),n||t.emit("pageChange",1,l),n||ne.update({pageNo:1,pageSize:l}),n||oe.refresh()},pageSizeChange:(e,l)=>{l===ne.paginate.pageSize&&t.emit("pageSizeChange",e,l),l!==ne.paginate.pageSize&&t.emit("pageSizeChange",1,l)},expand:(e,l)=>{t.emit("expand",e,l)},select:(e,l)=>{t.emit("select",e,l)},sorter:e=>{t.emit("sorter",e),oe.refresh()}};I([()=>e.columns,()=>e.sources,()=>e.summarys],([t,l,n],[o,r,a])=>{const s=t!==o&&(ie.isColumnsChanged(t,u.value)||ie.isColumnsChanged(i.value,u.value)),p=l!==r&&(ie.isSourcesChanged(l,O.value)||ie.isSourcesChanged(d.value,O.value)),y=n!==a&&(ie.isSummaryChanged(n,Y.value)||ie.isSummaryChanged(c.value,Y.value)),m=p&&ie.isSourcesChanged(d.value.slice(0,O.value.length),O.value);s&&(x.value=[],T.value=[],R.value=[],E.value=[],h.value=[],g.value=[],i.value=[...e.columns],u.value=ie.normalizeTreeColumns(i.value,[]),f.value=ie.normalizeListColumns(u.value,[]),b.value=ie.normalizeDataColumns(f.value),ie.normalizeTreeSettings(u.value),ie.normalizeInitColumns(f.value)),m&&(L.value=[],W.value=[],V.value=[],$.value=[],B.value=[]),p&&(Z.value=[],d.value=[...e.sources],O.value=ie.normalizeTreeSources(d.value,[]),F.value=ie.normalizeListSources(O.value,[]),ie.normalizeInitSources(F.value),ie.cleanSelectedRowKeys(),ie.cleanExpandedRowKeys()),y&&(U.value=[],G.value=[],X.value=[],_.value=[],c.value=[...e.summarys],Y.value=ie.normalizeListSummary(c.value),ie.normalizeInitSummary(Y.value))},n),I(()=>e.loading,e=>{ee.value=e},l),I(()=>e.paginate,e=>{ne.update(e)},l),I(()=>e.selectedRowMode,()=>{Q.value=[]},l),I(()=>e.preserveSelectedRowKeys,()=>{Q.value=Q.value.filter(e=>Z.value.includes(e))},l),I(()=>e.preserveExpandedRowKeys,()=>{J.value=J.value.filter(e=>Z.value.includes(e))},l),I(()=>[...e.selectedRowKeys],()=>{ie.updateSetupSelectedRowKeys(e.selectedRowKeys)},l),I(()=>[...e.expandedRowKeys],()=>{ie.updateSetupExpandedRowKeys(e.expandedRowKeys)},l),I(()=>re.size.value,()=>{se.updateColGroupRender()},n),I(()=>y.value,()=>{se.updateColCheckRender()},n),I(()=>ae.filterDataColumns.value,()=>{se.updateColGroupRender()},n),I(()=>Q.value,()=>{ie.updatePropSelectedRowKeys(Q.value)},n),I(()=>J.value,()=>{ie.updatePropExpandedRowKeys(J.value)},n),I(()=>ne.paginate,()=>{ie.updatePropPaginate(ne.paginate)},n),I(()=>u.value,()=>{ie.updatePropColumns(u.value)},n),I(()=>O.value,()=>{ie.updatePropSources(O.value)},n),I(()=>Y.value,()=>{ie.updatePropSummarys(Y.value)},n),I(()=>ee.value,()=>{t.emit("update:loading",ee.value)},n),N(()=>{const t={intersectionObserver:new IntersectionObserver(()=>{}),mutationObserver:new MutationObserver(()=>{}),resizeObserver:new ResizeObserver(()=>{se.updateColumnRender()})};!1!==e.immediate&&oe.refresh(),se.updateWindowContainer(),se.updateRenderRowRanger(),se.updateResizerContainer(),se.updateWrapperContainer(),se.updateColGroupRender(),document.addEventListener("mouseup",se.documentMouseup),document.addEventListener("mousemove",se.documentMouseMove),window.addEventListener("resize",se.updateWindowContainer),t.resizeObserver?.observe(le.refTableWrapper.value),P(()=>{let l=le.refTableWrapper.value;if(!qe.isFunction(e.scroll.getScrollResizeContainer)){for(;l instanceof HTMLElement&&l.parentElement instanceof HTMLElement&&"auto"!==window.getComputedStyle(l).overflow;)l=l.parentElement;l instanceof HTMLElement&&(re.scroll.value.getScrollResizeContainer=()=>l,le.getResizerContainer=()=>l)}if(qe.isFunction(re.scroll.value.getScrollResizeContainer)){const e=re.scroll.value.getScrollResizeContainer(),t=e instanceof HTMLElement?e:null;l=t}l instanceof HTMLElement&&(l.addEventListener("scroll",se.updateResizerContainer,{passive:!0}),t.resizeObserver?.observe(l),se.updateResizerContainer())})}),t.expose({reload:oe.reload,refresh:oe.refresh,select:ie.updateSetupSelectedRowKeys,expand:ie.updateSetupExpandedRowKeys,update:ie.forceUpdate});const pe=t=>{const l=[],n=[],o=[...Q.value],r=!1!==e.rowSelectedStrictly;if(b.value.length<=0)return;if("Checkbox"===e.selectedRowMode){const e=F.value.filter(()=>!0),t=[...e].reverse();for(const o of e){const e=o.key,t=o.childKeys,a=o.rowGlobalIndex,i=ie.getValue(W.value[a]),s=!1!==ie.getValue(i?.selectable);!s||n.includes(e)||l.includes(e)||l.push(e),s||n.includes(e)||(!r&&t.forEach(e=>n.includes(e)||n.push(e)),n.push(e))}if(!r){for(const e of t){const t=e.key,o=e.childKeys;o.length>0&&o.every(e=>n.includes(e))&&(l.includes(t)&&l.splice(0,l.length,...l.filter(e=>e!==t)),n.includes(t)||n.push(t))}for(const e of t){const t=e.key,o=e.childKeys.filter(e=>l.includes(e));0!==o.length&&(n.includes(t)||(Q.value.includes(t)&&!o.every(e=>Q.value.includes(e))&&Q.value.splice(0,Q.value.length,...Q.value.filter(e=>e!==t)),!Q.value.includes(t)&&o.every(e=>Q.value.includes(e))&&Q.value.push(t)))}}}if("Radio"===e.selectedRowMode)for(const e of[...F.value]){const t=e.key,o=e.rowGlobalIndex,r=ie.getValue(W.value[o]),a=!1!==ie.getValue(r?.selectable);!a||n.includes(t)||l.includes(t)||l.push(t),a||n.includes(t)||n.push(t)}const a={"s-border-table":ae.hasBorder.value,"s-header-table":ae.hasHeader.value,"s-bodyer-table":ae.hasBodyer.value,"s-footer-table":ae.hasFooter.value},i={tableLayout:["fixed","auto"].includes(e.tableLayout)?e.tableLayout:f.value.length>1?"auto":"fixed"},s={width:ae.tableBodyWidth.value,maxHeight:ae.tableBodyHeight.value,minWidth:"auto"===ae.tableBodyWidth.value||["fit-content","max-content"].includes(ae.tableBodyWidth.value)?"100%":"0px",overflow:ae.tableBodyOverflow.value??("100%"!==ae.tableBodyWidth.value||"auto"!==ae.tableBodyHeight.value?"auto":"visible")};return w("div",{ref:"refTableWrapper",class:"s-nested-table-wrapper",style:s,onScrollPassive:se.updateWrapperContainer,onMousedown:e=>{if("undefined"!=typeof HTMLElement&&e.target instanceof HTMLElement){if(!le.resizer.activate&&e.target.classList.contains("s-table-thead-functional-resizable")){const t=e.clientX,l=e.target,n=le.refTableWrapper.value,o=l.closest(".s-table-thead-th"),r=+o.getAttribute("row-index"),a=+o.getAttribute("col-index"),i=[...ae.filterDataColumns.value],s=[...ae.filterListColumns.value],d=r>=0&&a>=0&&ie.findListColumns(s,r,a);if(d)for(let e=i.length-1;e>=0;e--){const l=i[e].rowSpan,o=i[e].colSpan,r=i[e].colOffset,a=r<d.colOffset,s=r+o>d.colOffset+d.colSpan,c=i.filter((t,l)=>l>=e&&l<e+o).some(e=>e.resizable);if(l>0&&o>0&&!a&&!s&&c){let l=0;for(;l<o;){const t=i[e+l],o=n.querySelector(`.s-nested-table > colgroup > col[col-index="${t.colIndex}"]`).getBoundingClientRect();t.resizable&&le.resizer.queues.push({width:o.width,minWidth:qe.isFiniteNumber(t.minWidth)&&t.minWidth>0?t.minWidth:0,maxWidth:qe.isFiniteNumber(t.maxWidth)&&t.maxWidth>0?t.maxWidth:Number.MAX_SAFE_INTEGER,column:t}),l++}le.resizer.point=t,le.resizer.activate=!0,document.body.classList.add("user-select-none"),document.body.classList.add("cursor-column-resizable");break}}return e.preventDefault(),void e.stopPropagation()}if(!le.dragger.visible&&e.target.classList.contains("s-table-thead-draggable-th")){const t=+(e.target.getAttribute("col-index")||0),l=+(e.target.getAttribute("row-index")||0),n=ie.findListColumns(ae.filterListColumns.value,l,t),o=le.refTableWrapper.value.getBoundingClientRect();if(n){const r=n.key,a=le.wrapperScrollTop.value+e.clientY-o.top,i=le.wrapperScrollLeft.value+e.clientX-o.left,s=ie.getValue(E.value[l][t]);le.dragger.top=a,le.dragger.left=i,le.dragger.allow=!0,le.dragger.value=qe.isPrimitive(s)?`${s}`:r,le.dragger.element=e.target,le.dragger.colIndex=t,le.dragger.rowIndex=l,le.dragger.activate=!0,le.dragger.visible=!1,le.cursor.visible=!1,le.cursor.rowIndex=0,le.cursor.colIndex=0,le.cursor.height=0,le.cursor.width=0,le.cursor.left=0,le.cursor.top=0,document.body.classList.add("user-select-none"),document.body.classList.add("cursor-column-draggable")}return}}}},[w("table",{ref:"refTableNoder",class:["s-nested-table",a],style:i},[(()=>{const e="small"===re.size.value?32:"middle"===re.size.value?36:38,t=!0===ae.hasSelection.value;return w("colgroup",null,[t&&w("col",{"col-index":-1,style:{width:`${e}px`,minWidth:`${e}px`,maxWidth:`${e}px`}},null),S(ae.filterDataColumns).value.map(e=>w("col",{"col-index":e.colIndex,style:de.computeTableGroupStyle(e)},null))])})(),(()=>{const n={position:"relative","z-index":50},r=re.sticky.value.topHeader;if(ae.isFixedTop.value||!0===r||qe.isFiniteNumber(r)){const e=/^\+?\d+\.?\d*$/.test(`${r}`)?r:0;Object.assign(n,{position:"sticky",top:e+"px","z-index":50}),ae.overflowScrollTop.value&&Object.assign(n,{"box-shadow":"0 1px 1px 0 rgba(0, 0, 0, .1)"})}return w("thead",{ref:"refTableTheader",class:["s-table-thead",{"s-border-table":[].concat(e.border).includes("thead")}],style:n},[S(ae.filterListColumns).value.map((n,r)=>w("tr",k(ie.getValue(x.value[r]),{style:{position:"relative","z-index":f.value.length-r},class:"s-table-thead-tr","row-index":r}),[(()=>{if(!ae.hasSelection.value)return;if(r>0)return;const t={padding:{small:"8px 5px",middle:"12px 7px",default:"16px 6px",large:"16px 6px"}[re.size.value]||"16px 6px",textAlign:"center",...e.tHeaderThStyle};if(ae.fixedLeftIndex.value>-1&&Object.assign(t,{"text-align":"center",position:"sticky",left:"0px","z-index":5}),"Checkbox"!==e.selectedRowMode)return w("th",{style:t,rowspan:ae.filterListColumns.value.length,class:["s-table-thead-th","s-table-thead-selection-th"],"col-index":-1,"row-index":0,"col-offset":-1,"row-offset":0},null);const n=l.length>0&&l.some(e=>Q.value.includes(e)),a=l.length>0&&l.every(e=>Q.value.includes(e));return w("th",{style:t,rowspan:ae.filterListColumns.value.length,class:["s-table-thead-th","s-table-thead-selection-th"],"col-index":-1,"row-index":0,"col-offset":-1,"row-offset":0},[w(Ct,{type:e.selectedRowMode,size:re.size.value,indeterminate:!a&&n,disabled:0===l.length,checked:a,onCheck:e=>{e||(Q.value.splice(0,Q.value.length,...o.filter(e=>!l.includes(e))),ce.select([...Q.value],Q.value.map(e=>ie.getValue(F.value.find(t=>t.key===e)?.referRecord||null)))),e&&(Q.value.splice(0,Q.value.length,...Array.from(new Set([...l,...o]))),ce.select([...Q.value],Q.value.map(e=>ie.getValue(F.value.find(t=>t.key===e)?.referRecord||null))))}},null)])})(),n.map(l=>{if(l&&l.rowSpan>0&&l.colSpan>0){const n=l.sorter,o=l.rowSpan,r=l.rowIndex,a=l.colIndex,i=l.rowOffset,s=l.sorterField,d=l.sorterValue,c=ae.filterDataColumns.value.map(e=>e.rowMaxSpan),u=n&&i+o===Math.max(...c,0),f=ie.getValue(E.value[r][a]),b={title:f,column:l,rowIndex:r,colIndex:a,scroller:{top:le.resizerScrollTop.value,left:le.resizerScrollLeft.value,right:le.resizerScrollRight.value,bottom:le.resizerScrollBottom.value},paginater:ne.paginate},h=!ie.isVueNode(f)&&qe.isFunction(t.slots.headerCell)?ie.getVNodes(j(t.slots,"headerCell",b)):f,g=t=>{const n=t.field,o=t.value,r=ie.getValue(p);if(l.sorterField=n,l.sorterValue=o,!0!==e.columnSorterMultiple){o&&(r.splice(0,r.length),r.push({field:n,value:o})),o||r.splice(0,r.length),qe.isFunction(l.sorterValueChange)&&l.sorterValueChange({field:n,value:o,values:r});for(const e of ae.filterDataColumns.value)e.sorterField!==n&&""!==e.sorterValue&&(e.sorterValue="");ce.sorter(r)}!0===e.columnSorterMultiple&&(o&&(r.splice(0,r.length,...r.filter(e=>e.field!==n)),r.push({field:n,value:o})),o||r.splice(0,r.length,...r.filter(e=>e.field!==n)),qe.isFunction(l.sorterValueChange)&&l.sorterValueChange({field:n,value:o,values:r}),ce.sorter(r)),p.value=r};return w("th",k({colspan:l.colSpan,rowspan:l.rowSpan},ie.getValue(T.value[r][a]),{style:{...de.computeTableChildStyle(l,l,"thead"),...e.tHeaderThStyle},class:["s-table-thead-th",{"s-table-thead-leafed-th":l.rowIndex===l.rowMaxSpan-1,"s-table-thead-draggable-th":!0===e.columnPresetDraggable,"s-table-thead-sortable-th":u}],"col-index":l.colIndex,"row-index":l.rowIndex,"col-offset":l.colOffset,"row-offset":l.rowOffset}),[w(Qe,{open:!0===l.tooltip&&void 0,tooltip:!0===l.tooltip||!0===l.ellipsis,ellipsis:!0===l.tooltip||!0===l.ellipsis},{default:()=>[h??f]}),w("div",{class:"s-table-thead-th-functional"},[u?w(Rt,{field:s,value:d,onChange:g},null):null,l.resizable?w("span",{class:"s-table-thead-functional-resizable"},null):null])])}})]))])})(),(()=>{if(!ae.hasBodyer.value)return w("tbody",{class:["s-table-tbody",{"s-border-table":[].concat(e.border).includes("tbody")}],style:{position:"relative","z-index":10}},[w("tr",{class:"s-table-tbody-tr"},[w("td",{class:"s-table-tbody-td",style:{...e.tBodyerTdStyle},colspan:ae.hasSelection.value?ae.filterDataColumns.value.length+1:ae.filterDataColumns.value.length},[w(Et,null,null)])])]);const a=S(b).value,i=S(ae.filterDataColumns).value,s=S(ae.filterPageSources).value,d=S(ae.filterRangeSources).value,c=S(re.persistSourceRanges).value,p={},u={},f={};for(const[t,l]of d.entries()){const n=l.rowGroupIndex,o=l.rowGlobalIndex,r=p[o]||new Map,s=u[o]||new Set,b=f[o]||new Set;p[o]=r,u[o]=s,f[o]=b;for(let l=0;l<a.length;l++){let s=0,u=0,f=0,b=0,h=!0;const g=a[l],y=i.find(e=>e.colIndex===g.colIndex)||g,m=ie.getValue($.value[o][y.key]),v=ie.getValue(V.value[o][y.key]),x=ie.getValue(B.value[o][y.key]),w=!1!==e.cellMegreNormalize,k=r.get(l);if(h=!1!==v?.cellSpan&&i.some(e=>e.colIndex===l),s=qe.isFiniteNumber(v?.colSpan)?v.colSpan:qe.isFiniteNumber(y.colSpan)?y.colSpan:1,u=qe.isFiniteNumber(v?.rowSpan)?v.rowSpan:1,u=qe.isFiniteNumber(k?.rowSpan)?k.rowSpan:u,s=qe.isFiniteNumber(k?.colSpan)?k.colSpan:s,b=u-1,f=s-1,!0===w){let e=0;if(f>0)for(let t=1;t<=f;t++)p[o].set(l+t,{index:l+t,rowCount:0,rowSpan:1,colCount:-1,colSpan:0,cellAttrs:null,cellProps:null,cellValue:null,cellRender:!0});if(b>0)for(let n=1;n<=b;n++){const o=d[t+n],r=o?.rowGlobalIndex;if(!r)break;p[r]=p[r]||new Map,p[r].set(l,{index:l,colCount:s-1,colSpan:s,rowCount:-1,rowSpan:0,cellAttrs:null,cellProps:null,cellValue:null,cellRender:!1}),e++}if(b>0&&f>0)for(let n=1;n<=b;n++){const e=d[t+n],o=e?.rowGlobalIndex;if(!o)break;for(let t=1;t<=f;t++){const e=l+t;(p[o]=p[o]||new Map).set(e,{index:e,rowCount:-1,rowSpan:0,colCount:-1,colSpan:s,cellAttrs:null,cellProps:null,cellValue:null,cellRender:!0})}}b-e>0&&(u=u-(b-e)>0?u-(b-e):1,b=0)}if(!1===c&&(u=1,s=1,b=0,f=0),qe.isNonEmptyArray(c)){let e=!1;for(const t of c)if(n>=t[0]||n<=t[1]){e=!0;break}u=e?u:1,s=e?s:1,b=e?b:0,f=e?f:0}r.set(l,{index:l,rowSpan:u,colSpan:s,colCount:f,rowCount:b,cellAttrs:m,cellProps:v,cellValue:x,cellRender:h})}}return w("tbody",{class:["s-table-tbody",{"s-border-table":[].concat(e.border).includes("tbody")}],style:{position:"relative","z-index":10}},[(()=>{const s=[],c=[];for(const e of d){const l=e.rowIndex,n=e.rowGroupLevel,o=e.rowGroupIndex,r=e.rowGroupIndexs,a=e.rowGlobalIndex,i=e.referRecord,d=e.parentKey;s.push({count:e.treeChildren.length||0,level:n,parentKey:d}),c.push({vnode:ie.getVNodes(j(t.slots,"expander",{record:i,rowIndex:l,groupIndex:o,groupLevel:n,groupIndexs:r,globalIndex:a})),level:n,parentKey:d})}return d.map((d,b)=>{let h=0,g=!0;const y=d.key,x=d.rowIndex,S=d.childKeys,C=d.parentKeys,N=d.rowGroupLevel,T=d.rowGroupIndex,A=d.rowGroupIndexs,I=d.rowGlobalIndex,z=d.treeChildren,P=d.referRecord,R=d.rowKeyField,E=p[I],K=u[I],O=f[I],M=s.some(e=>!!e.count),D=c.some(e=>!!e.vnode),V=P[R]||I,$=c[b].vnode,B=ie.getValue(W.value[I]),Y=!1!==ie.getValue(B?.expandable),U=t=>{if(!g)return;if(!M&&!D)return;if(i.find(e=>!1!==e.expandIcon)!==t)return;const l=re.size.value,n="default"===l?16:8,o=N-1>0?N-1:0,r=(e.selectIndentSize>0?e.selectIndentSize:"default"===l?16:14)*o+n;if(!$&&0===z.length)return w("div",{class:"s-table-tbody-expand-container",style:{left:r+"px"}},null);if(J.value.includes(V)){return w("div",{class:"s-table-tbody-expand-container",style:{left:r+"px"}},[w("div",{class:["s-table-tbody-expand-button",{"s-table-tbody-expand-disabled":!Y}],onClick:e=>{if(Y){const e=J.value.length,t=J.value.filter(e=>!S.includes(e)&&e!==V);J.value.splice(0,e,...t),ce.expand([...J.value],J.value.map(e=>ie.getValue(F.value.find(t=>t.key===e)?.referRecord||null)))}e.stopPropagation()}},[w(m,{class:"s-table-tbody-expand-icon"},null)])])}if(!J.value.includes(V)){return w("div",{class:"s-table-tbody-expand-container",style:{left:r+"px"}},[w("div",{class:["s-table-tbody-expand-button",{"s-table-tbody-expand-disabled":!Y}],onClick:e=>{Y&&(J.value.push(V),ce.expand([...J.value],J.value.map(e=>ie.getValue(F.value.find(t=>t.key===e)?.referRecord||null)))),e.stopPropagation()}},[w(v,{class:"s-table-tbody-expand-icon"},null)])])}},G=(t,l)=>{if(!g)return l;if(!0===g&&(g=!1),!M&&!D)return l;if(i.find(e=>!1!==e.expandIcon)!==t)return l;const n=re.size.value,o="default"===n?26:22,r=N-1>0?N-1:0,a=(e.selectIndentSize>0?e.selectIndentSize:"default"===n?16:14)*r+o;return w("div",{class:"s-table-tbody-valuer-container",style:{marginLeft:a+"px"}},[l])};return w(H,null,[(()=>{const s=()=>{if(!ae.hasSelection.value)return;const t={padding:{small:"8px 5px",middle:"12px 7px",default:"16px 6px",large:"16px 6px"}[re.size.value]||"16px 6px",textAlign:"center",...e.tBodyerTdStyle};ae.fixedLeftIndex.value>-1&&Object.assign(t,{"text-align":"center",position:"sticky",left:"0px","z-index":5});const a=r?[]:S.filter(e=>l.includes(e)),i=a.length>0&&a.some(e=>Q.value.includes(e)),s=a.length>0?a.every(e=>Q.value.includes(e)):Q.value.includes(y);return w("td",{style:t,class:["s-table-tbody-td","s-table-tbody-selection-td"],"col-index":-1,"col-offset":-1,"row-global-index":I,"row-group-index":T,"row-group-level":N,"row-index":x},[w(Ct,{type:e.selectedRowMode,size:re.size.value,indeterminate:!s&&i,disabled:n.includes(y),checked:s,onCheck:t=>{if("Radio"!==e.selectedRowMode||1===Q.value.length&&Q.value[0]===y||(Q.value.splice(0,Q.value.length,y),ce.select([...Q.value],Q.value.map(e=>ie.getValue(F.value.find(t=>t.key===e)?.referRecord||null)))),"Checkbox"!==e.selectedRowMode||t||(r&&Q.value.splice(0,Q.value.length,...o.filter(e=>e!==y||n.includes(e))),r||Q.value.splice(0,Q.value.length,...o.filter(e=>e!==y&&!C?.includes(e)&&!S.includes(e)||n.includes(e))),ce.select([...Q.value],Q.value.map(e=>ie.getValue(F.value.find(t=>t.key===e)?.referRecord||null)))),"Checkbox"===e.selectedRowMode&&t&&(r&&Q.value.splice(0,Q.value.length,...o,y),r||Q.value.splice(0,Q.value.length,...o,...S.filter(e=>!n.includes(e)),y)),"Checkbox"===e.selectedRowMode&&!r){const e=[...F.value.filter(()=>!0)].reverse();for(const t of e){const e=t.key,o=t.childKeys.filter(e=>l.includes(e));n.includes(e)||Q.value.includes(e)||o.length>0&&o.every(e=>Q.value.includes(e))&&Q.value.push(e)}}ce.select([...Q.value],Q.value.map(e=>ie.getValue(F.value.find(t=>t.key===e)?.referRecord||null)))}},null)])},c=()=>a.map((l,n)=>{const o=ie.takeCellMegre({index:n,colIndex:l.colIndex,rowIndex:d.rowIndex,cachers:E,spikers:K,empters:O}),r=o.cacher.cellRender,a=o.cacher.cellValue,s=o.cacher.cellProps,c=o.cacher.cellAttrs,p=o.cacher.rowSpan,u=o.cacher.colSpan;if(r&&u>=1&&(h+=u),r&&p>=1&&u>=1){let o;const r=i.find(e=>e.colIndex===l.colIndex),d={value:a,record:P,column:r,colIndex:n,rowIndex:x,groupIndex:T,groupLevel:N,groupIndexs:A,globalIndex:I,scroller:{top:le.resizerScrollTop.value,left:le.resizerScrollLeft.value,right:le.resizerScrollRight.value,bottom:le.resizerScrollBottom.value},paginater:ne.paginate},f={colOffset:h-u,colSpan:u},b=O.has(n)?null:!ie.isVueNode(a)&&qe.isFunction(t.slots.bodyerCell)?ie.getVNodes(j(t.slots,"bodyerCell",d))??a:a;return w("td",k({rowspan:p,colspan:u,style:{...de.computeTableChildStyle(r,f,"tbody"),...e.tBodyerTdStyle}},de.computeTableChildAttrs(c,"tbody"),de.computeTableChildProps(s,"tbody"),{class:"s-table-tbody-td","col-index":r.colIndex,"col-offset":r.colOffset,"row-global-index":I,"row-group-index":T,"row-group-level":N,"row-index":x}),[U(r),w(Qe,{open:!!(qe.isBoolean(s?.tooltip)?s?.tooltip:!0===r.tooltip)&&void 0,tooltip:(qe.isBoolean(s?.tooltip)?s?.tooltip:!0===r.tooltip)||(qe.isBoolean(s?.ellipsis)?s?.ellipsis:!0===r.ellipsis),ellipsis:(qe.isBoolean(s?.tooltip)?s?.tooltip:!0===r.tooltip)||(qe.isBoolean(s?.ellipsis)?s?.ellipsis:!0===r.ellipsis)},Kt(o=G(r,b))?o:{default:()=>[o]})])}}),p=!0===e.rowExpandedByClick,u=z.length>0||!!$;if(!p||!u)return w("tr",k(ie.getValue(L.value[I]),{"row-global-index":d.rowGlobalIndex,"row-group-index":d.rowGroupIndex,"row-group-level":d.rowGroupLevel,"row-index":d.rowGroupIndex,class:["s-table-tbody-tr"]}),[s(),c()]);if(p&&u){const e={click:e=>{const t=J.value.includes(V),l=!1!==Y;if(l&&!t&&(J.value.push(V),ce.expand([...J.value],J.value.map(e=>ie.getValue(F.value.find(t=>t.key===e)?.referRecord||null)))),l&&t){const e=J.value.length,t=J.value.filter(e=>!S.includes(e)&&e!==V);J.value.splice(0,e,...t),ce.expand([...J.value],J.value.map(e=>ie.getValue(F.value.find(t=>t.key===e)?.referRecord||null)))}e.stopPropagation()}};return w("tr",k(ie.getValue(L.value[I]),{class:["s-table-tbody-tr","s-table-tbody-click-tr"],"row-global-index":d.rowGlobalIndex,"row-group-index":d.rowGroupIndex,"row-group-level":d.rowGroupLevel,"row-index":d.rowGroupIndex,onClick:e.click}),[s(),c()])}})(),(()=>{if(J.value.includes(V)&&!(z.length>0)&&($||(J.value=J.value.filter(e=>e!==V)),$)){const t=!0===ae.hasSelection.value,l="default"===re.size.value?26:22,n="small"===re.size.value?32:"middle"===re.size.value?36:38,o=t?n+l:l,r={position:"relative","z-index":8,...e.expandTdStyle},a={display:"flex","flex-flow":"column nowrap","justify-content":"flex-start","align-items":"flex-start",width:"100%",height:"100%","padding-left":(e.expandIndentSize>=0?e.expandIndentSize:o)+"px"};return w("tr",{class:["s-table-tbody-tr","s-table-tbody-expand-tr"],"row-global-index":d.rowGlobalIndex,"row-group-index":d.rowGroupIndex,"row-group-level":d.rowGroupLevel,"row-index":d.rowGroupIndex},[w("td",{colspan:ae.hasSelection.value?ae.filterDataColumns.value.length+1:ae.filterDataColumns.value.length,class:["s-table-tbody-td","s-table-tbody-expand-td"],"row-global-index":I,"row-group-index":T,"row-group-level":N,"row-index":x,style:r},[w("div",{style:a},[$])])])}})()])})})(),(()=>{const t=s.length,l=re.bodyMinRows.value;if(!(l<=0||t>=l))return Array.from({length:l-t},()=>{let t=0;return w("tr",{class:["s-table-tbody-tr","s-table-tbody-empty-tr"]},[(()=>{if(!ae.hasSelection.value)return;const t={padding:{small:"8px 5px",middle:"12px 7px",default:"16px 6px",large:"16px 6px"}[re.size.value]||"16px 6px",textAlign:"center",...e.tBodyerTdStyle};return ae.fixedLeftIndex.value>-1&&Object.assign(t,{"text-align":"center",position:"sticky",left:"0px","z-index":5}),w("td",{style:t,class:["s-table-tbody-td","s-table-tbody-empty-td","s-table-tbody-selection-td"]},null)})(),a.map(l=>{const n=i.find(e=>e.colIndex===l.colIndex);if(n){const l={colOffset:t++,colSpan:1};return w("td",{style:{...de.computeTableChildStyle(n,l,"tbody"),...e.tBodyerTdStyle},class:["s-table-tbody-td","s-table-tbody-empty-td"]},null)}})])})})()])})(),(()=>{const l={position:"relative","z-index":30},n=re.sticky.value.bottomFooter;if(!0===n||qe.isFiniteNumber(n)){const e="default"!==(ne.paginate.size||re.size.value)||ne.paginate.simple?45:56,t=!0===ne.paginate.visible;Object.assign(l,{position:"sticky",bottom:/^\+?\d+\.?\d*$/.test(`${n}`)?`${n+(t?e:0)}px`:`${t?e:0}px`,"z-index":80})}const o=S(b).value,r=S(ae.filterDataColumns).value,a=S(ae.filterPageSummarys).value,i={},s={},d={};for(const t of a.keys()){const l=i[t]||new Map,n=s[t]||new Set,a=d[t]||new Set;s[t]=n,d[t]=a,i[t]=l;for(let s=0;s<o.length;s++){let n=0,a=0,d=0,c=0,p=!0;const u=o[s],f=r.find(e=>e.colIndex===u.colIndex)||u,b=ie.getValue(X.value[t][f.key]),h=ie.getValue(G.value[t][f.key]),g=ie.getValue(_.value[t][f.key]),y=!1!==e.cellMegreNormalize,m=l.get(s);if(p=!1!==h?.cellSpan&&r.some(e=>e.colIndex===s),n=qe.isFiniteNumber(h?.colSpan)?h.colSpan:qe.isFiniteNumber(f.colSpan)?f.colSpan:1,a=qe.isFiniteNumber(h?.rowSpan)?h.rowSpan:1,a=qe.isFiniteNumber(m?.rowSpan)?m.rowSpan:a,n=qe.isFiniteNumber(m?.colSpan)?m.colSpan:n,c=a-1,d=n-1,!0===y){if(d>0)for(let e=1;e<=d;e++)i[t].set(s+e,{index:s+e,rowCount:0,rowSpan:1,colCount:-1,colSpan:0,cellAttrs:null,cellProps:null,cellValue:null,cellRender:!0});if(c>0)for(let e=1;e<=c;e++)i[t+e]=i[t+e]||new Map,i[t+e].set(s,{index:s,colCount:n-1,colSpan:n,rowCount:-1,rowSpan:0,cellAttrs:null,cellProps:null,cellValue:null,cellRender:!1});if(c>0&&d>0)for(let e=1;e<=c;e++)for(let l=1;l<=d;l++){const o=s+l,r=t+e;(i[r]=i[r]||new Map).set(o,{index:o,rowCount:-1,rowSpan:0,colCount:-1,colSpan:n,cellAttrs:null,cellProps:null,cellValue:null,cellRender:!0})}c=0}l.set(s,{index:s,rowSpan:a,colSpan:n,colCount:d,rowCount:c,cellAttrs:b,cellProps:h,cellValue:g,cellRender:p})}}return w("tfoot",{class:["s-table-tfoot",{"s-border-table":[].concat(e.border).includes("tfoot")}],style:l},[a.map((l,n)=>{let a=0,c=ae.hasSelection.value?1:0;const p=i[n],u=s[n],f=d[n];return w("tr",k(ie.getValue(U.value[n]),{class:"s-table-tfoot-tr","row-index":n}),[o.map((o,i)=>{const s=ie.takeCellMegre({index:i,colIndex:o.colIndex,rowIndex:n,cachers:p,spikers:u,empters:f}),d=s.cacher.cellRender,b=s.cacher.cellValue,h=s.cacher.cellProps,g=s.cacher.cellAttrs,y=s.cacher.rowSpan,m=s.cacher.colSpan;if(d&&m>=1&&(a+=m),d&&y>=1&&m>=1){const s=ae.filterPageSources.value.filter(e=>1===e.rowGroupLevel),d=r.find(e=>e.colIndex===o.colIndex),p=s.map(e=>e.referRecord),u={value:b,column:d,record:l,sources:p,rowIndex:n,colIndex:i,scroller:{top:le.resizerScrollTop.value,left:le.resizerScrollLeft.value,right:le.resizerScrollRight.value,bottom:le.resizerScrollBottom.value},paginater:ne.paginate},v={colOffset:a-m,colSpan:m},x=f.has(i)?null:!ie.isVueNode(b)&&qe.isFunction(t.slots.footerCell)?ie.getVNodes(j(t.slots,"footerCell",u))??b:b;return w("td",k({rowspan:y,colspan:m+(c>0?c--:0),style:{...de.computeTableChildStyle(d,v,"tfoot"),...e.tFooterTdStyle}},de.computeTableChildAttrs(g,"tfoot"),de.computeTableChildProps(h,"tfoot"),{class:"s-table-tfoot-td","col-index":d.colIndex,"col-offset":d.colOffset,"row-index":n}),[w(Qe,{open:!!(qe.isBoolean(h?.tooltip)?h?.tooltip:!0===d.tooltip)&&void 0,tooltip:(qe.isBoolean(h?.tooltip)?h?.tooltip:!0===d.tooltip)||(qe.isBoolean(h?.ellipsis)?h?.ellipsis:!0===d.ellipsis),ellipsis:(qe.isBoolean(h?.tooltip)?h?.tooltip:!0===d.tooltip)||(qe.isBoolean(h?.ellipsis)?h?.ellipsis:!0===d.ellipsis)},Kt(x)?x:{default:()=>[x]})])}})])})])})()]),(()=>{if(!ne.paginate.visible)return;const t={position:"relative",zIndex:1e3,...e.paginateStyle},l=re.sticky.value.bottomFooter,n=ne.paginate.fixed??l;return(!0===n||qe.isFiniteNumber(n))&&Object.assign(t,{position:"sticky",bottom:/^\+?\d+\.?\d*$/.test(`${n}`)?`${n}px`:0,left:0}),w(Nt,k(ne.paginate,{size:"default"===re.size.value?"default":"small",onPageSizeChange:ce.pageSizeChange,onPageChange:ce.pageChange,style:t}),null)})(),(()=>{if(!0===re.sticky.value.bottomScrollbar)return w(Tt,ae.scrollbar.value,null)})(),(()=>{if(le.dragger.visible)return w(zt,{top:le.dragger.top,left:le.dragger.left,value:le.dragger.value,allow:le.dragger.allow,rowIndex:le.dragger.rowIndex,colIndex:le.dragger.colIndex,container:le.refTableWrapper.value},null)})(),(()=>{if(le.cursor.visible)return w(Pt,{top:le.cursor.top,left:le.cursor.left,width:le.cursor.width,height:le.cursor.height},null)})()])};return()=>(t=>{const l={width:["fit-content","max-content"].includes(ae.tableBodyWidth.value)&&"visible"===ae.tableBodyOverflow.value?"fit-content":"100%",minWidth:["fit-content","max-content"].includes(ae.tableBodyWidth.value)&&"visible"===ae.tableBodyOverflow.value?"100%":"0"},n={"--table-padding-vertical":te.value.padding+"px","--table-padding-horizontal":te.value.padding+"px","--table-padding-vertical-middle":te.value.paddingSM+"px","--table-padding-horizontal-middle":te.value.paddingXS+"px","--table-padding-vertical-small":te.value.paddingXS+"px","--table-padding-horizontal-small":te.value.paddingXS+"px","--table-primary-color":te.value.colorPrimary,"--table-background-color":te.value.colorBgContainer,"--table-border-color":te.value.colorBorderSecondary,"--table-thead-color":new s(te.value.colorFillAlter).onBackground(te.value.colorBgContainer).toHexString()};return w("section",{ref:"refTableContainer",style:{...l,...n},class:["s-table-container",`s-${re.size.value}-table-container`]},[w("div",{class:["s-table-spining-container",{spining:ee}]},[(()=>{if(!e.columnPresetSettings)return;const t=ie.getValue(h),l=S(t.filter(e=>f.value.flat().some(t=>t?.key===e&&(t.settings.checkbox||!t.settings.disabled)))),n=S(t.filter(()=>!0)),o={},r=f.value.length>1,a=!0===e.columnPresetDraggable,i=ae.tableBodyOverflow.value??("100%"!==ae.tableBodyWidth.value||"auto"!==ae.tableBodyHeight.value?"auto":"visible"),s=re.sticky.value.topHeader,d=ae.isFixedTop.value;return"auto"!==i&&"hidden"!==i&&(d||!0===s||qe.isFiniteNumber(s))&&Object.assign(o,{position:"sticky",top:/^\+?\d+\.?\d*$/.test(`${s}`)?`${s}px`:0}),w(At,{allTreeKeys:l.value,"onUpdate:allTreeKeys":e=>l.value=e,checkedKeys:y.value,"onUpdate:checkedKeys":e=>y.value=e,expandedKeys:n.value,"onUpdate:expandedKeys":e=>n.value=e,treeData:g.value,dropHandler:e=>{const t=e.appendNodes,l=e.reloadNodes,n=e.removeNodes;if(t?.length>0||n?.length>0)return!1;if(1!==l?.length||l[0].oldChildNodes?.length!==l[0].newChildNodes?.length)return!1;const o=l[0].parentNode,r=o?.column.rowIndex,a=o?.column.colIndex,i=l[0].newChildNodes||[],s=ie.recloneColumns(u.value),d=o?ie.findTreeColumns(s,r,a):null,c=d?d.treeChildren:s,p=[...c];for(const[u,f]of i.entries())c[u]=p.find(e=>e.referColumn.rowIndex===f.column.rowIndex&&e.referColumn.colIndex===f.column.colIndex);return ie.updatePropColumns(s),!1},multiline:r,draggable:a,style:o},null)})(),pe(t),(()=>{if(!0===e.loadinger&&!0===ee.value)return w(It,{optionser:le},null)})()])])})(t)},methods:{}}),Ft=e=>e,Lt=e=>S(e),Mt=e=>S(e),Wt=e=>S(e),Ht=e=>S(e),jt=A({getPrefixCls:(e,t)=>t||(e?`s-pro-${e}`:"s-pro"),locale:e=>e||""}),Dt=Symbol("RouteContext"),Vt=()=>((e=Symbol(),t)=>B(e,t||{}))(Dt,jt);function $t(e){return e.map(e=>{const t={...e};return t.name&&!0!==t.meta?.hideInMenu?qe.isNonEmptyArray(t.children)&&!0!==t.meta?.hideChildInMenu&&t.children.some(e=>e&&e.name&&!0!==e.meta?.hideInMenu)?{...t,children:$t(t.children)}:(Reflect.has(t,"children")&&delete t.children,t):null}).filter(e=>e)}const Bt={xs:{maxWidth:575,matchMedia:"(max-width: 575px)"},sm:{minWidth:576,maxWidth:767,matchMedia:"(min-width: 576px) and (max-width: 767px)"},md:{minWidth:768,maxWidth:991,matchMedia:"(min-width: 768px) and (max-width: 991px)"},lg:{minWidth:992,maxWidth:1199,matchMedia:"(min-width: 992px) and (max-width: 1199px)"},xl:{minWidth:1200,maxWidth:1599,matchMedia:"(min-width: 1200px) and (max-width: 1599px)"},xxl:{minWidth:1600,maxWidth:1999,matchMedia:"(min-width: 1600px) and (max-width: 1999px)"},xxxl:{minWidth:2e3,matchMedia:"(min-width: 2000px)"}};tt(".s-pro-global-header {\n  display: flex;\n  align-items: center;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  color: #000000e0;\n  background: #ffffff;\n  box-shadow: 0 1px 4px rgba(0, 21, 41, 0.08);\n  position: relative;\n}\n.s-pro-global-header-layout-mix {\n  background-color: inherit;\n}\n.s-pro-global-header-logo {\n  position: relative;\n  overflow: hidden;\n}\n.s-pro-global-header > * {\n  height: 100%;\n}\n");tt(".s-pro-top-nav-header {\n  width: 100%;\n  height: 100%;\n  color: #ffffff;\n  position: relative;\n  box-shadow: 0 1px 2px 0 rgba(0, 21, 41, 0.12);\n  transition: background 0.3s, width 0.2s;\n}\n.s-pro-top-nav-header.light {\n  color: inherit;\n  background-color: #ffffff;\n}\n.s-pro-top-nav-header-main {\n  display: flex;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n}\n.s-pro-top-nav-header-main-left {\n  display: flex;\n}\n.s-pro-top-nav-header-menu {\n  flex: 1 1 auto;\n  min-width: 0;\n  height: 100%;\n}\n.s-pro-top-nav-header-menu .s-pro-menu.s-pro-menu-horizontal {\n  height: 100%;\n  border: none;\n}\n.s-pro-top-nav-header-logo {\n  height: 100%;\n  position: relative;\n  overflow: hidden;\n}\n");tt(".s-pro-layout-sider {\n  position: relative;\n  border-right: 0;\n  z-index: 20;\n}\n.s-pro-layout-sider ::-webkit-scrollbar-track {\n  box-shadow: inset 0 0 5px rgba(37, 37, 37, 0.05);\n  background: rgba(255, 255, 255, 0.15);\n  border-radius: 4px;\n  cursor: pointer;\n}\n.s-pro-layout-sider ::-webkit-scrollbar-thumb {\n  box-shadow: inset 0 0 5px rgba(255, 255, 255, 0.05);\n  background: rgba(255, 255, 255, 0.2);\n  border-radius: 4px;\n  cursor: pointer;\n}\n.s-pro-layout-sider ::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n  cursor: pointer;\n}\n.s-pro-layout-sider .s-pro-layout-sider-logo {\n  display: flex;\n  align-items: center;\n  transition: padding 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\n  position: relative;\n  cursor: pointer;\n}\n.s-pro-layout-sider .s-pro-layout-sider-logo h1 {\n  display: inline-block;\n  margin: 0;\n  padding: 0;\n  font-size: 18px;\n  font-weight: 600;\n  vertical-align: middle;\n  animation: pro-layout-title-hide 0.3s;\n}\n.s-pro-layout-sider .s-pro-layout-sider-menu {\n  min-height: 100%;\n  position: relative;\n  border-right: none;\n  z-index: 10;\n}\n.s-pro-layout-sider .s-pro-layout-sider-children {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.s-pro-layout-sider.s-pro-layout-sider.s-pro-layout-sider-fixed {\n  height: 100vh;\n  overflow: auto;\n  overflow-x: hidden;\n  box-shadow: 2px 0 8px 0 rgba(29, 35, 41, 0.05);\n  position: fixed;\n  z-index: 100;\n  left: 0;\n  top: 0;\n}\n@keyframes pro-layout-title-hide {\n  0% {\n    display: none;\n    opacity: 0;\n  }\n  80% {\n    display: none;\n    opacity: 0;\n  }\n  100% {\n    display: unset;\n    opacity: 1;\n  }\n}\n.s-pro-sider-light {\n  background-color: #ffffff;\n  box-shadow: 2px 0 8px 0 rgba(29, 35, 41, 0.05);\n}\n.s-pro-sider-light ::-webkit-scrollbar-track {\n  box-shadow: inset 0 0 5px rgba(0, 21, 41, 0.05);\n  background: rgba(0, 0, 0, 0.06);\n  border-radius: 4px;\n  cursor: pointer;\n}\n.s-pro-sider-light ::-webkit-scrollbar-thumb {\n  box-shadow: inset 0 0 5px rgba(0, 21, 41, 0.05);\n  background: rgba(0, 0, 0, 0.12);\n  border-radius: 4px;\n  cursor: pointer;\n}\n.s-pro-sider-light ::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n  cursor: pointer;\n}\n.s-pro-menu-light.s-pro-menu-inline {\n  background-color: #ffffff;\n}\n.s-pro-menu-light.s-pro-menu-inline .s-pro-menu-sub.s-pro-menu-inline {\n  background-color: transparent;\n}\n");const Yt={theme:e().def("light"),layout:e().def("side"),headerTheme:e().def("light"),headerHeight:e().def(48),contentWidth:e().def("Fluid"),primaryColor:e().def("#f5222d"),fixedHeader:e().def(!0),fixSiderbar:e().def(!0),splitMenus:e().def(!1),iconfontUrl:e().def(""),iconPrefix:e().def("icon-"),iconStyle:e().def(void 0),iconClass:e().def(void 0)},Ut={...Yt,mode:t().def("inline"),theme:t().def("light"),locale:i().def(e=>e||""),layout:t().def("side"),menuData:o().def([]),multiple:n().def(!1),prefixCls:t().def("s-pro"),collapsed:n().def(!1),inlineIndent:l().def(16),menuItemRender:e().def(()=>{}),subMenuItemRender:e().def(()=>{}),selectedKeys:e().def(void 0),openKeys:e().def(void 0)},Gt={...Yt,...Ut,siderWidth:l().def(192),headerHeight:l().def(48),collapsedWidth:l().def(48),menuHeaderRender:e().def(()=>{}),menuFooterRender:e().def(()=>{}),menuContentRender:e().def(()=>{}),menuExtraRender:e().def(()=>{}),headerRender:e().def(()=>{}),breakpoint:e().def(void 0),splitMenus:n().def(!1),isMobile:n().def(!1),fixed:n().def(!1),onMenuClick:i().def(void 0),onCollapse:i().def(void 0),onOpenKeys:i().def(void 0),onSelect:i().def(void 0)},qt={...Yt,prefixCls:t().def("s-pro"),splitMenus:n().def(!1),collapsed:n().def(!1),isMobile:n().def(!1),menuData:o().def(()=>[]),headerTheme:t().def("light"),rightContentRender:e().def(()=>{}),subMenuItemRender:e().def(()=>{}),menuHeaderRender:e().def(()=>{}),menuItemRender:e().def(()=>{}),onCollapse:i().def(void 0),onOpenKeys:i().def(void 0),onSelect:i().def(void 0)},Xt={...Yt,...qt,hasSiderMenu:n().def(!1),headerRender:e().def(()=>{}),collapsedWidth:l().def(48),siderWidth:l().def(192)},_t={...Yt,...Ut,...Gt,...qt,...Xt,hasSider:n().def(void 0),contentStyle:e().def(null),headerRender:e().def(()=>{}),locale:i().def(e=>e||""),theme:t().def("light")};tt(".s-pro-lazy-menu-icon {\n  display: block;\n  width: 14px;\n  height: 14px;\n  font-size: 14px;\n  line-height: 14px;\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n");const Qt=e=>{const t=e.icon,l=e.prefixCls||"s-pro",n=e.iconPrefix||"icon-",o=e.iconfontUrl||"";return qe.isNonEmptyString(t)&&qe.isNonEmptyString(o)&&t.startsWith(n)?w(_e,{class:e.class||{},style:e.style||{},iconfontUrl:o,iconPrefix:n,type:t},null):qe.isNonEmptyString(t)&&/^https?:\/\/[\s\S]+/i.test(t)?w("span",{role:"img",class:"anticon"},[w("img",{src:t,alt:"icon",class:`${l}-lazy-menu-icon`},null)]):qe.isNonEmptyString(t)&&Xe(t)?w(_e,k(e,{type:t}),null):M(t)?t:null};function Jt(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!M(e)}const Zt=x({name:"BaseMenu",inheritAttrs:!1,props:{...Yt,...Ut},emits:{click:e=>!0,"update:openKeys":e=>!0,"update:selectedKeys":e=>!0},setup(e,{emit:t,attrs:l}){const n=Vt().value.getPrefixCls,o=e=>{if(qe.isArray(e))return e.map(e=>r(e)).filter(e=>e)},r=t=>{const l={...t.meta},n=(t=>{const l={...t.meta},n={title:null,icon:null},o={to:{name:t.name,...t.meta}},r={},a=/^https?:\/\/.+/i;if(l.icon){const t=e.iconClass,o=e.iconStyle,r=e.iconPrefix,a=e.iconfontUrl;n.icon=w(Qt,{icon:l.icon,class:t,style:o,iconPrefix:r,iconfontUrl:a},null)}if(l.target&&Object.assign(r,{href:t.path,target:l.target}),a.test(t.path)&&Object.assign(r,{href:t.path,target:"_blank"}),"_blank"!==l.target&&"_self"!==l.target&&"_none"!==l.target){const t=e.locale,r=e.prefixCls,a=Y(l.target??"RouterLink"),i=qe.isFunction(t)?t(l.title):l.title,s=n.icon?{marginInlineStart:"10px"}:{};n.title=w(a,k(o,{class:`${r}-menu-item`}),{default:()=>[n.icon,w("span",{style:s},[i])]})}if("_blank"===l.target||"_self"===l.target){const t=e.locale,o=e.prefixCls,a=qe.isFunction(t)?t(l.title):l.title,i=n.icon?{marginInlineStart:"10px"}:{};n.title=w("a",k(r,{class:`${o}-menu-item`}),[n.icon,w("span",{style:i},[a])])}if("_none"!==l.target&&a.test(t.path)){const t=e.locale,o=e.prefixCls,a=qe.isFunction(t)?t(l.title):l.title,i=n.icon?{marginInlineStart:"10px"}:{};n.title=w("a",k(r,{class:`${o}-menu-item`}),[n.icon,w("span",{style:i},[a])])}if("_none"===l.target){const t=e.locale,o=e.prefixCls,r=qe.isFunction(t)?t(l.title):l.title,a=n.icon?{marginInlineStart:"10px"}:{};n.title=w("span",{class:`${o}-menu-item`},[n.icon,w("span",{style:a},[r])])}return n})(t),r={title:l.title},a=n.icon,i=n.title,s=e.locale,d=e.iconClass,c=e.iconStyle,p=e.prefixCls,u=e.iconPrefix,f=e.iconfontUrl,b=e.menuItemRender,h=e.subMenuItemRender;if(qe.isNonEmptyArray(t.children)&&!l.hideInMenu&&!l.hideChildrenInMenu){let e;if(qe.isFunction(h))return h({item:t,children:o(t.children)});qe.isFunction(s)&&(r.title=s(l.title)),l.icon||(r.title=w("span",{class:`${p}-menu-item`},[r.title])),l.icon&&(r.title=w("span",{class:`${p}-menu-item`},[w("span",{class:`${p}-menu-item-title`},[r.title])]));const n=w(Qt,{icon:l.icon,iconPrefix:u,iconfontUrl:f,class:d,style:c},null),a=r.title;return w(xe.SubMenu,{key:t.path,icon:n,title:a,popupClassName:`${p}-menu-popup`},Jt(e=o(t.children))?e:{default:()=>[e]})}return qe.isFunction(b)?b({item:t,title:i,icon:a}):w(xe.Item,{disabled:l.disabled,danger:l.danger,key:t.path},Jt(i)?i:{default:()=>[i]})},a=e=>{/^https?:\/\/[^\s\S]+/i.test(e.key)||t("update:selectedKeys",e.selectedKeys)},i=e=>{t("update:openKeys",e)},s=e=>{t("click",e)};return()=>{let t;return w(xe,{key:"Menu",mode:e.mode,class:l.class,style:l.style,theme:e.theme,prefixCls:n("menu"),inlineIndent:e.inlineIndent||16,selectedKeys:e.selectedKeys||[],openKeys:e.openKeys||[],onOpenChange:i,onSelect:a,onClick:s},Jt(t=o(e.menuData))?t:{default:()=>[t]})}}}),el=x({name:"SiderMenu",inheritAttrs:!1,props:{...Yt,...Ut,...Gt},emits:{menuClick:(...e)=>!0,collapse:e=>!0,openKeys:e=>!0,select:e=>!0},setup(e,{emit:t}){const l=Vt(),n=l.value.getPrefixCls,o=l.value.getPrefixCls("layout-sider"),r=e=>{f.value?t("select",[l.value.selectedKeys[0],...e]):t("select",e)},a=e=>{t("openKeys",e)},i=l=>{e.isMobile||t("collapse",l)},s=(...e)=>{t("menuClick",...e)},d=D(()=>e.collapsed?e.collapsedWidth:e.siderWidth),c=D(()=>"mix"===e.layout&&"realDark"!==e.theme?"light":"realDark"!==e.theme?e.theme:"dark"),p=D(()=>e.locale||l.value.locale),u=D(()=>f.value?l.value.flatMenuData:l.value.menuData),f=D(()=>"mix"===e.layout&&e.splitMenus),b=D(()=>{if("mix"===e.layout&&!e.isMobile)return`${e.headerHeight}px`}),h=D(()=>({[o]:!0,[`${o}-fixed`]:e.fixSiderbar,[`${o}-${c.value}`]:!0,[`${o}-layout-${e.layout}`]:e.layout&&!e.isMobile})),g=()=>{const t=w(Zt,k({mode:"inline",style:"width: 100%; background-color: transparent; border: none;",class:`${o}-menu`,prefixCls:n("menu"),theme:c.value,locale:p.value,menuData:u.value,selectedKeys:e.selectedKeys,menuItemRender:e.menuItemRender,subMenuItemRender:e.subMenuItemRender,iconfontUrl:e.iconfontUrl,iconPrefix:e.iconPrefix,collapsed:e.collapsed,openKeys:e.openKeys,onClick:s},{"onUpdate:selectedKeys":r,"onUpdate:openKeys":a}),null);return qe.isFunction(e.menuContentRender)?w("div",{style:"flex: 1 1 auto; overflow: hidden auto;"},[e.menuContentRender({...e},t)||t]):w("div",{style:"flex: 1 1 auto; overflow: hidden auto;"},[t])},y=()=>{if((e.isMobile||"mix"!==e.layout)&&qe.isFunction(e.menuHeaderRender)){const t=e.menuHeaderRender({...e});if(t)return w("div",{class:`${o}-logo`},[t])}},m=()=>{if(qe.isFunction(e.menuExtraRender)){const t=e.menuExtraRender({...e});if(t)return w("div",{class:`${o}-extra`},[t])}},v=()=>{if(qe.isFunction(e.menuFooterRender))return w("div",{class:`${o}-footer`},[e.menuFooterRender({...e})])},x=()=>{if(e.fixSiderbar&&qe.isNonEmptyArray(u.value))return w("div",{style:{flex:`0 0 ${d.value}px`,width:`${d.value}px`,maxWidth:`${d.value}px`,minWidth:`${d.value}px`,transition:"background-color 0.3s, min-width 0.3s, max-width 0.3s cubic-bezier(0.645, 0.045, 0.355, 1)",overflow:"hidden"}},null)},S=()=>{if(qe.isNonEmptyArray(u.value))return w(me.Sider,{style:{overflow:"hidden",backgroundColor:"light"!==c.value?"#001529 !important":"#ffffff !important",paddingTop:b.value},trigger:null,collapsible:!0,width:d.value,theme:c.value,class:h.value,prefixCls:n("layout-sider"),collapsed:e.collapsed,breakpoint:e.breakpoint,collapsedWidth:e.collapsedWidth,onCollapse:i},{default:()=>[y(),m(),g(),v()]})};return()=>w(H,null,[x(),S()])}}),tl=x({name:"SiderMenuWrapper",inheritAttrs:!1,props:{...Yt,...Ut,...Gt},emits:{menuClick:(...e)=>!0,collapse:e=>!0,openKeys:e=>!0,select:e=>!0},setup(e,{emit:t}){const l=Vt().value.getPrefixCls,n=e=>{t("select",e)},o=e=>{t("openKeys",e)},r=(...e)=>{t("menuClick",...e)},a=l=>{e.isMobile||t("collapse",l)};return()=>e.isMobile?w(ve,{mask:!0,closable:!1,maskClosable:!0,placement:"left",open:!e.collapsed,width:e.siderWidth,style:{padding:0,height:"100vh"},onClose:()=>t("collapse",!0),rootClassName:l("sider-menu-drawer"),bodyStyle:{display:"flex",height:"100vh",padding:"0px 0px",flexDirection:"row"}},{default:()=>[w(el,k({mode:e.mode,theme:e.theme,fixed:e.fixed,locale:e.locale,layout:e.layout,isMobile:e.isMobile,menuData:e.menuData,multiple:e.multiple,siderWidth:e.siderWidth,breakpoint:e.breakpoint,iconPrefix:e.iconPrefix,iconfontUrl:e.iconfontUrl,fixedHeader:e.fixedHeader,fixSiderbar:e.fixSiderbar,headerTheme:e.headerTheme,headerHeight:e.headerHeight,contentWidth:e.contentWidth,primaryColor:e.primaryColor,inlineIndent:e.inlineIndent,selectedKeys:e.selectedKeys,headerRender:e.headerRender,collapsedWidth:e.collapsedWidth,menuItemRender:e.menuItemRender,menuExtraRender:e.menuExtraRender,menuHeaderRender:e.menuHeaderRender,menuFooterRender:e.menuFooterRender,menuContentRender:e.menuContentRender,subMenuItemRender:e.subMenuItemRender,collapsed:!e.isMobile&&e.collapsed,openKeys:e.openKeys,onMenuClick:r,onCollapse:a,splitMenus:!1},{"onUpdate:selectedKeys":n,"onUpdate:openKeys":o}),null)]}):w(el,k({mode:e.mode,theme:e.theme,fixed:e.fixed,locale:e.locale,layout:e.layout,isMobile:e.isMobile,menuData:e.menuData,multiple:e.multiple,splitMenus:e.splitMenus,siderWidth:e.siderWidth,breakpoint:e.breakpoint,iconPrefix:e.iconPrefix,iconfontUrl:e.iconfontUrl,fixedHeader:e.fixedHeader,fixSiderbar:e.fixSiderbar,headerTheme:e.headerTheme,headerHeight:e.headerHeight,contentWidth:e.contentWidth,primaryColor:e.primaryColor,inlineIndent:e.inlineIndent,selectedKeys:e.selectedKeys,headerRender:e.headerRender,collapsedWidth:e.collapsedWidth,menuItemRender:e.menuItemRender,menuExtraRender:e.menuExtraRender,menuHeaderRender:e.menuHeaderRender,menuFooterRender:e.menuFooterRender,menuContentRender:e.menuContentRender,subMenuItemRender:e.subMenuItemRender,collapsed:!e.isMobile&&e.collapsed,openKeys:e.openKeys,onMenuClick:r,onCollapse:a},{"onUpdate:selectedKeys":n,"onUpdate:openKeys":o}),null)}}),ll=x({name:"TopNavHeaderRightContent",inheritAttrs:!1,props:{...Yt,...Ut,...Gt,...qt},setup(e){const t=Vt().value.getPrefixCls,l=()=>{if(qe.isFunction(e.rightContentRender))return e.rightContentRender({...e})};return()=>w("div",{class:t("top-nav-header-right-content"),style:{flex:"0 0 auto",height:"100%"}},[l()])}}),nl=x({name:"TopNavHeader",inheritAttrs:!1,props:{...Yt,...Ut,...Gt,...qt},emits:{openKeys:e=>!0,select:e=>!0},setup(e,{emit:t}){const l=Vt(),n=l.value.getPrefixCls,o=n("top-nav-header"),r=D(()=>({[o]:!0,light:"light"===e.theme})),a=D(()=>({[`${o}-main`]:!0,wide:"Fixed"===e.contentWidth})),i=()=>{if(qe.isFunction(e.menuHeaderRender)){const t=e.menuHeaderRender({...e});if(t)return w("div",{class:`${o}-main-left`},[w("div",{class:`${o}-logo`},[t])])}},s=()=>{const o=D(()=>"realDark"!==e.theme?e.theme:"dark"),r=D(()=>e.locale||l.value.locale);return w("div",{style:"flex: 1 1 auto; overflow: hidden auto;"},[w(Zt,k({mode:e.mode,theme:o.value,locale:r.value,style:{"line-height":`${e.headerHeight}px`,"background-color":"transparent",border:"none"},class:{"s-pro-top-nav-menu":"horizontal"===e.mode},prefixCls:n("top-nav-header-menu"),menuData:e.menuData,collapsed:e.collapsed,iconPrefix:e.iconPrefix,iconfontUrl:e.iconfontUrl,menuItemRender:e.menuItemRender,subMenuItemRender:e.subMenuItemRender,selectedKeys:e.selectedKeys,openKeys:e.openKeys},{"onUpdate:selectedKeys":e=>{t("select",e)},"onUpdate:openKeys":e=>{t("openKeys",e)}}),null)])},d=()=>{if(e.rightContentRender)return w(ll,e,null)};return()=>w("div",{class:r.value},[w("div",{class:a.value},[i(),s(),d()])])}}),ol=x({name:"GlobalHeader",inheritAttrs:!1,props:{...Yt,...Ut,...qt},setup(e,t){const l=(0,Vt().value.getPrefixCls)("global-header"),n=D(()=>{if(!qe.isArray(e.menuData))return[];return $t(e.menuData.map(e=>({...e,children:void 0})))}),o=D(()=>"realDark"!==e.theme?e.theme:"dark"),r=D(()=>({[l]:!0,[`${l}-layout-${e.layout}`]:e.layout&&"dark"===e.headerTheme})),a=()=>{if(qe.isFunction(e.rightContentRender))return e.rightContentRender({...e})};return()=>!e.isMobile&&e.splitMenus&&"mix"===e.layout?w(nl,k(e,{mode:"horizontal",theme:o.value,menuData:n.value}),null):w("div",{class:r.value},[w("div",{style:"flex: 1 1 auto"},[t?.slots.default?.()]),a()])}});tt(".s-pro-basicLayout {\n  display: flex;\n  width: 100%;\n  min-height: 100%;\n  flex-direction: row;\n}\n.s-pro-basicLayout .s-pro-layout.s-pro-layout-has-sider {\n  display: flex;\n  width: 0;\n  flex: 1 1 auto;\n  flex-direction: row;\n}\n.s-pro-basicLayout .s-pro-layout.s-pro-layout-has-sider > .s-pro-layout,\n.s-pro-basicLayout .s-pro-layout.s-pro-layout-has-sider > .s-pro-layout-content {\n  width: auto;\n}\n.s-pro-basicLayout .s-pro-basicLayout-content {\n  position: relative;\n  padding: 0;\n  margin: 0;\n}\n.s-pro-basicLayout .s-pro-layout-header.s-pro-layout-fixed-header {\n  position: fixed;\n  z-index: 19;\n  right: 0;\n  top: 0;\n  transition: all 0.2s, background 0s;\n}\n");const rl=(e,t,l="default")=>void 0===t[l]?e[l]:t[l];const al=x({name:"ProLayoutHeader",inheritAttrs:!1,props:{...Yt,...Ut,...qt,...Xt},setup(e,{emit:t}){const l=Vt(),n=D(()=>l.value.getPrefixCls("layout-header")),o=D(()=>r.value&&e.hasSiderMenu&&!e.isMobile&&"top"!==e.layout),r=D(()=>e.fixedHeader||l.value.fixedHeader||"mix"===e.layout),a=D(()=>({[`${n.value.slice(0,-7)}-fixed-header`]:r.value,[`${n.value}-top-menu`]:"top"===e.layout})),i=D(()=>qe.isArray(l.value.menuData)?$t(l.value.menuData):[]),s=D(()=>"realDark"!==e.theme?e.theme:"dark"),d=D(()=>"mix"!==e.layout&&o.value?`calc(100% - ${e.collapsed?e.collapsedWidth:e.siderWidth}px)`:"100%"),c=()=>{if(r.value)return w(me.Header,{style:{height:`${e.headerHeight}px`,lineHeight:`${e.headerHeight}px`,background:"transparent"}},null)},p=()=>{let t;return w(me.Header,{prefixCls:n.value,class:a.value,style:{width:d.value,height:`${e.headerHeight}px`,margin:0,padding:0,lineHeight:`${e.headerHeight}px`,backgroundColor:"#001529 !important",zIndex:"mix"===e.layout?100:19,right:r.value?0:void 0}},"function"==typeof(l=t=(()=>{let t=null;return e.isMobile||"top"!==e.layout||(t=w(nl,k(e,{mode:"horizontal",theme:s.value,menuData:i.value}),null)),qe.isFunction(e.headerRender)?e.headerRender({...e},t):t})())||"[object Object]"===Object.prototype.toString.call(l)&&!M(l)?t:{default:()=>[t]});var l};return()=>w(H,null,[c(),p()])}}),il=x({name:"ProBasicLayout",inheritAttrs:!1,props:{...Yt,...Ut,...Gt,...qt,...Xt,..._t},emits:{"update:selectedKeys":e=>!0,"update:openKeys":e=>!0,menuClick:(...e)=>!0,openKeys:e=>!0,select:e=>!0},setup(e,{attrs:t,slots:l,emit:n}){const o=(()=>{const e=S("md");return Object.keys(Bt).forEach(t=>{const l=Bt[t].matchMedia,n=window.matchMedia(l);n.onchange=l=>{l.matches&&(e.value=t)},n.matches&&(e.value=t)}),e})(),r=D(()=>"mix"===e.layout||"side"===e.layout),a=D(()=>"sm"===o.value||"xs"===o.value),i=D(()=>e.collapsed?e.collapsedWidth:e.siderWidth),s=D(()=>!0===r.value&&!0===d.value),d=D(()=>"mix"===e.layout&&!0===e.splitMenus),c=D(()=>`${e.prefixCls}-basicLayout`),p=D(()=>`${e.prefixCls}-layout`),u=D(()=>s.value&&qe.isArray(e.selectedKeys)?function(e,t){if(void 0!==t){const l=e.find(e=>e.path===t);return l?.children||[]}return[]}(e.menuData,e.selectedKeys[0]):[]),f=D(()=>({...jt,locale:e.locale,menuData:e.menuData,openKeys:e.openKeys||[],selectedKeys:e.selectedKeys||[],contentWidth:e.contentWidth,headerHeight:e.headerHeight,fixSiderbar:e.fixSiderbar,fixedHeader:e.fixedHeader,hasSide:r.value,isMobile:a.value,siderWidth:i.value,flatMenuData:u.value,flatMenu:s.value,hasHeader:!0}));U(Dt,f);const b=(...e)=>{n("menuClick",...e)},h=e=>{n("update:openKeys",e),n("openKeys",e)},g=e=>{n("update:selectedKeys",e),n("select",e)};return()=>{const n=rl(l,e,"rightContentRender"),r=rl(l,e,"subMenuItemRender"),i=rl(l,e,"menuContentRender"),s=rl(l,e,"menuHeaderRender"),d=rl(l,e,"menuFooterRender"),u=rl(l,e,"menuExtraRender"),y=rl(l,e,"menuItemRender"),m=rl(l,e,"headerRender"),v=D(()=>({[`${e.prefixCls}-screen-${o.value}`]:o.value,[`${c.value}-top-menu`]:"top"===e.layout,[`${c.value}-fix-siderbar`]:e.fixSiderbar,[`${c.value}-${e.layout}`]:e.layout,[`${c.value}`]:!0})),x=D(()=>({[`${c.value}-content`]:!0,[`${c.value}-has-header`]:!0})),k=()=>{const t={...e,isMobile:a.value,hasSiderMenu:"top"!==e.layout,rightContentRender:n,subMenuItemRender:r,menuContentRender:i,menuHeaderRender:s,menuExtraRender:u,menuItemRender:y,headerRender:m,onOpenKeys:h,onSelect:g};return w(al,t,null)},S=()=>{if("top"!==e.layout||a.value){const t={...e,isMobile:a.value,menuContentRender:i,subMenuItemRender:r,menuHeaderRender:s,menuFooterRender:d,menuExtraRender:u,menuItemRender:y,onMenuClick:b,onOpenKeys:h,onSelect:g};return w(tl,t,null)}};return w("div",{class:v.value},[w(me,{prefixCls:p.value,style:{minHeight:"100%",...t.style||{}}},{default:()=>[S(),w("div",{style:"display: flex; flex: 1 1 auto; flex-direction: column; min-width: 0; position: relative;"},[k(),w(me.Content,{style:e.contentStyle,class:x.value,prefixCls:f.value.getPrefixCls("layout-content"),hasSider:e.hasSider},{default:()=>[l.default?.()]})])]})])}}});var sl={install(e){e.component("SEditCellInput",lt),e.component("SEditCellSelect",nt),e.component("SEditCellTextarea",ot),e.component("SEditCellSelectIcon",rt),e.component("SEditCellTreeSelect",at),e.component("SEditCellDatePicker",it),e.component("SEditCellAutoComplete",st),e.component("SIconSelect",et),e.component("SEllipsis",Qe),e.component("STable",Ot),e.component("STree",mt),e.component("SForm",gt),e.component("SIcon",_e)}};export{ol as G,il as P,kt as a,vt as b,$t as c,Wt as d,Ht as e,Lt as f,Mt as g,Ft as h,ut as i,ft as j,bt as k,xt as l,ht as m,sl as n,wt as t};
