var e,t,n,r,o,s,a,i,c,l,u,d,h;(t=e||(e={})).GET_DATA="ui-bg-get-data",t.GET_DEVTOOLS_DATA="ui-bg-get-devtools-data",t.SUBSCRIBE_TO_CHANGES="ui-bg-subscribe-to-changes",t.UNSUBSCRIBE_FROM_CHANGES="ui-bg-unsubscribe-from-changes",t.CHANGE_SETTINGS="ui-bg-change-settings",t.SET_THEME="ui-bg-set-theme",t.TOGGLE_ACTIVE_TAB="ui-bg-toggle-active-tab",t.MARK_NEWS_AS_READ="ui-bg-mark-news-as-read",t.MARK_NEWS_AS_DISPLAYED="ui-bg-mark-news-as-displayed",t.LOAD_CONFIG="ui-bg-load-config",t.APPLY_DEV_DYNAMIC_THEME_FIXES="ui-bg-apply-dev-dynamic-theme-fixes",t.RESET_DEV_DYNAMIC_THEME_FIXES="ui-bg-reset-dev-dynamic-theme-fixes",t.APPLY_DEV_INVERSION_FIXES="ui-bg-apply-dev-inversion-fixes",t.RESET_DEV_INVERSION_FIXES="ui-bg-reset-dev-inversion-fixes",t.APPLY_DEV_STATIC_THEMES="ui-bg-apply-dev-static-themes",t.RESET_DEV_STATIC_THEMES="ui-bg-reset-dev-static-themes",t.START_ACTIVATION="ui-bg-start-activation",t.RESET_ACTIVATION="ui-bg-reset-activation",t.COLOR_SCHEME_CHANGE="ui-bg-color-scheme-change",t.HIDE_HIGHLIGHTS="ui-bg-hide-highlights",(n||(n={})).CHANGES="bg-ui-changes",(o=r||(r={})).CSS_UPDATE="debug-bg-ui-css-update",o.UPDATE="debug-bg-ui-update",(a=s||(s={})).ADD_CSS_FILTER="bg-cs-add-css-filter",a.ADD_DYNAMIC_THEME="bg-cs-add-dynamic-theme",a.ADD_STATIC_THEME="bg-cs-add-static-theme",a.ADD_SVG_FILTER="bg-cs-add-svg-filter",a.CLEAN_UP="bg-cs-clean-up",a.FETCH_RESPONSE="bg-cs-fetch-response",a.UNSUPPORTED_SENDER="bg-cs-unsupported-sender",(i||(i={})).RELOAD="debug-bg-cs-reload",(l=c||(c={})).COLOR_SCHEME_CHANGE="cs-bg-color-scheme-change",l.DARK_THEME_DETECTED="cs-bg-dark-theme-detected",l.DARK_THEME_NOT_DETECTED="cs-bg-dark-theme-not-detected",l.FETCH="cs-bg-fetch",l.DOCUMENT_CONNECT="cs-bg-document-connect",l.DOCUMENT_FORGET="cs-bg-document-forget",l.DOCUMENT_FREEZE="cs-bg-document-freeze",l.DOCUMENT_RESUME="cs-bg-document-resume",(u||(u={})).LOG="debug-cs-bg-log",(d||(d={})).EXPORT_CSS_RESPONSE="cs-ui-export-css-response",(h||(h={})).EXPORT_CSS="ui-cs-export-css";const f="undefined"!=typeof navigator,m=f?navigator.userAgentData&&Array.isArray(navigator.userAgentData.brands)?navigator.userAgentData.brands.map(e=>`${e.brand.toLowerCase()} ${e.version}`).join(" "):navigator.userAgent.toLowerCase():"some useragent",g=f?navigator.userAgentData&&"string"==typeof navigator.userAgentData.platform?navigator.userAgentData.platform.toLowerCase():navigator.platform.toLowerCase():"some platform",p=m.includes("chrome")||m.includes("chromium"),b=m.includes("firefox")||m.includes("thunderbird")||m.includes("librewolf"),y=m.includes("safari")&&!p,w=g.startsWith("win"),k=g.startsWith("mac");f&&navigator.userAgentData?navigator.userAgentData.mobile:m.includes("mobile");const S="function"==typeof ShadowRoot,E="function"==typeof CSSLayerBlockRule;(()=>{const e=m.match(/chrom(?:e|ium)(?:\/| )([^ ]+)/);e&&e[1]&&e[1]})(),(()=>{const e=m.match(/(?:firefox|librewolf)(?:\/| )([^ ]+)/);e&&e[1]&&e[1]})();const v=(()=>{try{return document.querySelector(":defined"),!0}catch(e){return!1}})(),C=(()=>{try{if("undefined"==typeof document)return!1;const e=document.createElement("div");return!(!e||"object"!=typeof e.style)&&("string"==typeof e.style.colorScheme||(e.setAttribute("style","color-scheme: dark"),"dark"===e.style.colorScheme))}catch(e){return!1}})();async function _(e,t,n){const r=n&&e.startsWith(`${n}/`)?void 0:"omit",o=await fetch(e,{cache:"force-cache",credentials:r,referrer:n});if(b&&"text/css"===t&&e.startsWith("moz-extension://")&&e.endsWith(".css"))return o;if(t&&!o.headers.get("Content-Type").startsWith(t))throw new Error(`Mime type mismatch when loading ${e}`);if(!o.ok)throw new Error(`Unable to load ${e} ${o.status} ${o.statusText}`);return o}async function R(e){const t=await e.blob();return await new Promise(e=>{const n=new FileReader;n.onloadend=()=>e(n.result),n.readAsDataURL(t)})}let x=async e=>Promise.reject(new Error(["Embedded Dark Reader cannot access a cross-origin resource",e,"Overview your URLs and CORS policies or use","`DarkReader.setFetchMethod(fetch: (url) => Promise<Response>))`.","See if using `DarkReader.setFetchMethod(window.fetch)`","before `DarkReader.enable()` works."].join(" ")));window.chrome||(window.chrome={}),chrome.runtime||(chrome.runtime={});const A=new Set;async function $(...e){if(e[0]&&e[0].type===c.FETCH){const{id:n}=e[0];try{const{url:t,responseType:r}=e[0].data,o=await async function(e){return await x(e)}(t);let a;a="data-url"===r?await R(o):await o.text(),A.forEach(e=>e({type:s.FETCH_RESPONSE,data:a,error:null,id:n}))}catch(t){A.forEach(e=>e({type:s.FETCH_RESPONSE,data:null,error:t,id:n}))}}}function T(e){A.add(e)}if("function"==typeof chrome.runtime.sendMessage){const e=chrome.runtime.sendMessage;chrome.runtime.sendMessage=(...t)=>{$(...t),e.apply(chrome.runtime,t)}}else chrome.runtime.sendMessage=$;if(chrome.runtime.onMessage||(chrome.runtime.onMessage={}),"function"==typeof chrome.runtime.onMessage.addListener){const e=chrome.runtime.onMessage.addListener;chrome.runtime.onMessage.addListener=(...t)=>{T(t[0]),e.apply(chrome.runtime.onMessage,t)}}else chrome.runtime.onMessage.addListener=(...e)=>T(e[0]);var M,V,L,D;(V=M||(M={})).cssFilter="cssFilter",V.svgFilter="svgFilter",V.staticTheme="staticTheme",V.dynamicTheme="dynamicTheme",(D=L||(L={})).NONE="",D.TIME="time",D.SYSTEM="system",D.LOCATION="location";const P={background:"#181a1b",text:"#e8e6e3"},O={background:"#dcdad7",text:"#181a1b"},W={mode:1,brightness:100,contrast:100,grayscale:0,sepia:0,useFont:!1,fontFamily:k?"Helvetica Neue":w?"Segoe UI":"Open Sans",textStroke:0,engine:M.dynamicTheme,stylesheet:"",darkSchemeBackgroundColor:P.background,darkSchemeTextColor:P.text,lightSchemeBackgroundColor:O.background,lightSchemeTextColor:O.text,scrollbarColor:"",selectionColor:"auto",styleSystemControls:!C,lightColorScheme:"Default",darkColorScheme:"Default",immediateModify:!1};function N(e,t,n=0){const r=[];let o;for(;o=e.exec(t);)r.push(o[n]);return r}function F(e){const t=e.length;let n=0;for(let r=0;r<t;r++){n=(n<<5)-n+e.charCodeAt(r)&4294967295}return n}function I(e,t=0){return function(e,t,n,r,o){let s;s=0===o.length?(t,n)=>e.indexOf(t,n):(t,n)=>U(e,t,n,o);const{length:a}=e;let i=0,c=-1;for(let l=t;l<a;l++)if(0===i){const e=s(n,l);if(e<0)break;c=e,i++,l=e}else{const e=s(r,l);if(e<0)break;const t=s(n,l);if(t<0||e<=t){if(i--,0===i)return{start:c,end:e+1};l=e}else i++,l=t}return null}(e,t,"(",")",[])}function U(e,t,n,r){const o=e.indexOf(t,n),s=r.find(e=>o>=e.start&&o<e.end);return s?U(e,t,s.end,r):o}let q;["*.officeapps.live.com","*.sharepoint.com","docs.google.com","onedrive.live.com"].map(e=>{const t=M.cssFilter;return{url:[e],theme:{...W,engine:t},builtIn:!0}}),L.NONE;const j=new Map;function B(e){return q||(q=document.createElement("a")),q.href=e,q.href}function H(e,t=null){const n=`${e}${t?`;${t}`:""}`;if(j.has(n))return j.get(n);if(t){const r=new URL(e,B(t));return j.set(n,r),r}const r=new URL(B(e));return j.set(e,r),r}function G(e,t){if(t.match(/^data\\?\:/))return t;if(/^\/\//.test(t))return`${location.protocol}${t}`;const n=H(e);return H(t,n.href).href}const z=["pre","pre *","code",'[aria-hidden="true"]','[class*="fa-"]',".fa",".fab",".fad",".fal",".far",".fas",".fass",".fasr",".fat",".icofont",'[style*="font-"]','[class*="icon"]','[class*="Icon"]','[class*="symbol"]','[class*="Symbol"]',".glyphicon",'[class*="material-symbol"]','[class*="material-icon"]',"mu",'[class*="mu-"]',".typcn",'[class*="vjs-"]'];function Q(e,t){if(function(e){return null!=e.length}(e))for(let n=0,r=e.length;n<r;n++)t(e[n]);else for(const n of e)t(n)}function K(e,t){Q(t,t=>e.push(t))}function Y(e,t,n,r,o){return(e-t)*(o-r)/(n-t)+r}function J(e,t,n){return Math.min(n,Math.max(t,e))}function X(e,t){const n=[];for(let r=0,o=e.length;r<o;r++){n[r]=[];for(let o=0,s=t[0].length;o<s;o++){let s=0;for(let n=0,a=e[0].length;n<a;n++)s+=e[r][n]*t[n][o];n[r][o]=s}}return n}function Z(e){let t=ee.identity();return 0!==e.sepia&&(t=X(t,ee.sepia(e.sepia/100))),0!==e.grayscale&&(t=X(t,ee.grayscale(e.grayscale/100))),100!==e.contrast&&(t=X(t,ee.contrast(e.contrast/100))),100!==e.brightness&&(t=X(t,ee.brightness(e.brightness/100))),1===e.mode&&(t=X(t,ee.invertNHue())),t}const ee={identity:()=>[[1,0,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,1]],invertNHue:()=>[[.333,-.667,-.667,0,1],[-.667,.333,-.667,0,1],[-.667,-.667,.333,0,1],[0,0,0,1,0],[0,0,0,0,1]],brightness:e=>[[e,0,0,0,0],[0,e,0,0,0],[0,0,e,0,0],[0,0,0,1,0],[0,0,0,0,1]],contrast(e){const t=(1-e)/2;return[[e,0,0,0,t],[0,e,0,0,t],[0,0,e,0,t],[0,0,0,1,0],[0,0,0,0,1]]},sepia:e=>[[.393+.607*(1-e),.769-.769*(1-e),.189-.189*(1-e),0,0],[.349-.349*(1-e),.686+.314*(1-e),.168-.168*(1-e),0,0],[.272-.272*(1-e),.534-.534*(1-e),.131+.869*(1-e),0,0],[0,0,0,1,0],[0,0,0,0,1]],grayscale:e=>[[.2126+.7874*(1-e),.7152-.7152*(1-e),.0722-.0722*(1-e),0,0],[.2126-.2126*(1-e),.7152+.2848*(1-e),.0722-.0722*(1-e),0,0],[.2126-.2126*(1-e),.7152-.7152*(1-e),.0722+.9278*(1-e),0,0],[0,0,0,1,0],[0,0,0,0,1]]};var te,ne;function re(e){const t=[];return e.mode===te.dark&&t.push("invert(100%) hue-rotate(180deg)"),100!==e.brightness&&t.push(`brightness(${e.brightness}%)`),100!==e.contrast&&t.push(`contrast(${e.contrast}%)`),0!==e.grayscale&&t.push(`grayscale(${e.grayscale}%)`),0!==e.sepia&&t.push(`sepia(${e.sepia}%)`),0===t.length?null:t.join(" ")}function oe(e){const t=[],n=[];let r;for(let s=0,a=e.length;s<a;s++){const o=e[s];if(o&&" "!==o){if(ae.has(o)){const e=ae.get(o);for(;n.length;){const r=ae.get(n[0]);if(!r)break;if(!e.lessOrEqualThan(r))break;t.push(n.shift())}n.unshift(o)}else!r||ae.has(r)?t.push(o):t[t.length-1]+=o;r=o}}t.push(...n);const o=[];for(let s=0,a=t.length;s<a;s++){const e=ae.get(t[s]);if(e){const t=o.splice(0,2);o.push(e.exec(t[1],t[0]))}else o.unshift(parseFloat(t[s]))}return o[0]}(ne=te||(te={}))[ne.light=0]="light",ne[ne.dark=1]="dark";class se{constructor(e,t){this.precendce=e,this.execMethod=t}exec(e,t){return this.execMethod(e,t)}lessOrEqualThan(e){return this.precendce<=e.precendce}}const ae=new Map([["+",new se(1,(e,t)=>e+t)],["-",new se(1,(e,t)=>e-t)],["*",new se(2,(e,t)=>e*t)],["/",new se(2,(e,t)=>e/t)]]),ie=new Map,ce=new Map;function le(e){if(e=e.trim(),ce.has(e))return ce.get(e);e.includes("calc(")&&(e=function(e){let t=0;const n=(t,n,r)=>{e=e.substring(0,t)+r+e.substring(n)};for(;-1!==(t=e.indexOf("calc("));){const r=I(e,t);if(!r)break;let o=e.slice(r.start+1,r.end-1);const s=o.includes("%");o=o.split("%").join("");const a=Math.round(oe(o));n(r.start-4,r.end,a+(s?"%":""))}return e}(e));const t=ke(e);return t?(ce.set(e,t),t):null}function ue(e){if(ie.has(e))return ie.get(e);const t=le(e);if(!t)return null;const n=he(t);return ie.set(e,n),n}function de({h:e,s:t,l:n,a:r=1}){if(0===t){const[e,t,o]=[n,n,n].map(e=>Math.round(255*e));return{r:e,g:o,b:t,a:r}}const o=(1-Math.abs(2*n-1))*t,s=o*(1-Math.abs(e/60%2-1)),a=n-o/2,[i,c,l]=(e<60?[o,s,0]:e<120?[s,o,0]:e<180?[0,o,s]:e<240?[0,s,o]:e<300?[s,0,o]:[o,0,s]).map(e=>Math.round(255*(e+a)));return{r:i,g:c,b:l,a:r}}function he({r:e,g:t,b:n,a:r=1}){const o=e/255,s=t/255,a=n/255,i=Math.max(o,s,a),c=Math.min(o,s,a),l=i-c,u=(i+c)/2;if(0===l)return{h:0,s:0,l:u,a:r};let d=60*(i===o?(s-a)/l%6:i===s?(a-o)/l+2:(o-s)/l+4);d<0&&(d+=360);return{h:d,s:l/(1-Math.abs(2*u-1)),l:u,a:r}}function fe(e,t=0){const n=e.toFixed(t);if(0===t)return n;const r=n.indexOf(".");if(r>=0){const e=n.match(/0+$/);if(e)return e.index===r+1?n.substring(0,r):n.substring(0,e.index)}return n}function me({r:e,g:t,b:n,a:r}){return`#${(null!=r&&r<1?[e,t,n,Math.round(255*r)]:[e,t,n]).map(e=>`${e<16?"0":""}${e.toString(16)}`).join("")}`}function ge(e){const{h:t,s:n,l:r,a:o}=e;return null!=o&&o<1?`hsla(${fe(t)}, ${fe(100*n)}%, ${fe(100*r)}%, ${fe(o,2)})`:`hsl(${fe(t)}, ${fe(100*n)}%, ${fe(100*r)}%)`}const pe=/^rgba?\([^\(\)]+\)$/,be=/^hsla?\([^\(\)]+\)$/,ye=/^#[0-9a-f]+$/i,we=["color","color-mix","hwb","lab","lch","oklab","oklch"];function ke(e){const t=e.trim().toLowerCase();if(t.includes("(from "))return t.indexOf("(from")!==t.lastIndexOf("(from")?null:Ve(t);if(t.match(pe))return t.startsWith("rgb(#")||t.startsWith("rgba(#")?t.lastIndexOf("rgb")>0?null:Ve(t):Ce(t);if(t.match(be))return function(e){const[t,n,r,o=1]=Se(e,_e,Re);if(null==t||null==n||null==r||null==o)return null;return de({h:t,s:n,l:r,a:o})}(t);if(t.match(ye))return function(e){const t=e.substring(1);switch(t.length){case 3:case 4:{const[e,n,r]=[0,1,2].map(e=>parseInt(`${t[e]}${t[e]}`,16));return{r:e,g:n,b:r,a:3===t.length?1:parseInt(`${t[3]}${t[3]}`,16)/255}}case 6:case 8:{const[e,n,r]=[0,2,4].map(e=>parseInt(t.substring(e,e+2),16));return{r:e,g:n,b:r,a:6===t.length?1:parseInt(t.substring(6,8),16)/255}}}return null}(t);if(xe.has(t))return function(e){const t=xe.get(e);return{r:t>>16&255,g:t>>8&255,b:255&t,a:1}}(t);if(Ae.has(t))return function(e){const t=Ae.get(e);return{r:t>>16&255,g:t>>8&255,b:255&t,a:1}}(t);if("transparent"===t)return{r:0,g:0,b:0,a:0};if(t.endsWith(")")&&we.some(e=>t.startsWith(e)&&"("===t[e.length]&&0===t.lastIndexOf(e)))return Ve(t);if(t.startsWith("light-dark(")&&t.endsWith(")")){const e=t.match(/^light-dark\(\s*([a-z]+(\(.*\))?),\s*([a-z]+(\(.*\))?)\s*\)$/);if(e){return ke(matchMedia("(prefers-color-scheme: dark)").matches?e[3]:e[1])}}return null}function Se(e,t,n){const r=function(e){const t=[];let n=0,r=!1;const o=e.indexOf("(");e=e.substring(o+1,e.length-1);for(let s=0;s<e.length;s++){const o=e[s];o>="0"&&o<="9"||"."===o||"+"===o||"-"===o?r=!0:!r||" "!==o&&","!==o&&"/"!==o?r||(n=s+1):(t.push(e.substring(n,s)),r=!1,n=s+1)}return r&&t.push(e.substring(n,e.length)),t}(e),o=Object.entries(n);return r.map(e=>e.trim()).map((e,n)=>{let r;const s=o.find(([t])=>e.endsWith(t));return r=s?parseFloat(e.substring(0,e.length-s[0].length))/s[1]*t[n]:parseFloat(e),t[n]>1?Math.round(r):r})}const Ee=[255,255,255,1],ve={"%":100};function Ce(e){const[t,n,r,o=1]=Se(e,Ee,ve);return null==t||null==n||null==r||null==o?null:{r:t,g:n,b:r,a:o}}const _e=[360,1,1,1],Re={"%":100,deg:360,rad:2*Math.PI,turn:1};const xe=new Map(Object.entries({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074})),Ae=new Map(Object.entries({ActiveBorder:3906044,ActiveCaption:0,AppWorkspace:11184810,Background:6513614,ButtonFace:16777215,ButtonHighlight:15329769,ButtonShadow:10461343,ButtonText:0,CaptionText:0,GrayText:8355711,Highlight:11720703,HighlightText:0,InactiveBorder:16777215,InactiveCaption:16777215,InactiveCaptionText:0,InfoBackground:16514245,InfoText:0,Menu:16185078,MenuText:16777215,Scrollbar:11184810,ThreeDDarkShadow:0,ThreeDFace:12632256,ThreeDHighlight:16777215,ThreeDLightShadow:16777215,ThreeDShadow:0,Window:15527148,WindowFrame:11184810,WindowText:0,"-webkit-focus-ring-color":15046400}).map(([e,t])=>[e.toLowerCase(),t]));function $e(e,t,n){return(.2126*e+.7152*t+.0722*n)/255}let Te,Me;function Ve(e){Me||(Te=document.createElement("canvas"),Te.width=1,Te.height=1,Me=Te.getContext("2d",{willReadFrequently:!0})),Me.fillStyle=e,Me.fillRect(0,0,1,1);const t=Me.getImageData(0,0,1,1).data;return Ce(`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${(t[3]/255).toFixed(2)})`)}function Le(e){let t,n=!1,r=null;return Object.assign((...o)=>{t=o,r?n=!0:(e(...t),r=requestAnimationFrame(()=>{r=null,n&&(e(...t),n=!1)}))},{cancel:()=>{cancelAnimationFrame(r),n=!1,r=null}})}const De=new Set;function Pe(){if("randomUUID"in crypto){const e=crypto.randomUUID();return e.substring(0,8)+e.substring(9,13)+e.substring(14,18)+e.substring(19,23)+e.substring(24)}return"getRandomValues"in crypto?Array.from(crypto.getRandomValues(new Uint8Array(16))).map(e=>{return((t=e)<16?"0":"")+t.toString(16);var t}).join(""):Math.floor(Math.random()*2**55).toString(36)}let Oe=null,We=!document.hidden;const Ne={capture:!0,passive:!0};function Fe(e){const t=Boolean(Oe);Oe=()=>{document.hidden||(Ie(),e(),We=!0)},t||(document.addEventListener("visibilitychange",Oe,Ne),window.addEventListener("pageshow",Oe,Ne),window.addEventListener("focus",Oe,Ne))}function Ie(){document.removeEventListener("visibilitychange",Oe,Ne),window.removeEventListener("pageshow",Oe,Ne),window.removeEventListener("focus",Oe,Ne),Oe=null}function Ue(){return We}function qe(e){let t=0;return e.seconds&&(t+=1e3*e.seconds),e.minutes&&(t+=60*e.minutes*1e3),e.hours&&(t+=60*e.hours*60*1e3),e.days&&(t+=24*e.days*60*60*1e3),t}function je(...e){}function Be(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function He(e,t,n=Function.prototype){const r=qe({seconds:2}),o=qe({seconds:10});let s=e.previousSibling,a=e.parentNode;if(!a)throw new Error("Unable to watch for node position: parent element not found");if("prev-sibling"===t&&!s)throw new Error("Unable to watch for node position: there is no previous sibling");let i=0,c=null,l=null;const u=Le(()=>{if(l)return;i++;const h=Date.now();if(null==c)c=h;else if(i>=10){if(h-c<o)return void(l=setTimeout(()=>{c=null,i=0,l=null,u()},r));c=h,i=1}if("head"===t&&s&&s.parentNode!==a&&(s=document.head.lastChild),"prev-sibling"===t){if(null==s.parentNode)return void f();s.parentNode!==a&&m(s.parentNode)}"head"!==t||a.isConnected||(a=document.head),a.insertBefore(e,s&&s.isConnected?s.nextSibling:a.firstChild),d.takeRecords(),n&&n()}),d=new MutationObserver(()=>{("head"===t&&(e.parentNode!==a||!e.parentNode.isConnected)||"prev-sibling"===t&&e.previousSibling!==s)&&u()}),h=()=>{d.observe(a,{childList:!0})},f=()=>{clearTimeout(l),d.disconnect(),u.cancel()},m=e=>{a=e,f(),h()};return h(),{run:h,stop:f,skip:()=>{d.takeRecords()}}}function Ge(e,t){if(null==e)return;const n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>null==e.shadowRoot?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT});for(let r=e.shadowRoot?n.currentNode:n.nextNode();null!=r;r=n.nextNode())r.classList.contains("surfingkeys_hints_host")||(t(r),Ge(r.shadowRoot,t))}let ze=()=>"complete"===document.readyState||"interactive"===document.readyState;const Qe=new Set;function Ke(e){ze()?e():Qe.add(e)}function Ye(e){Qe.delete(e)}function Je(){return"complete"===document.readyState}const Xe=new Set;function Ze(e){Je()?e():Xe.add(e)}if(!ze()){const e=()=>{ze()&&(Qe.forEach(e=>e()),Qe.clear(),Je()&&(document.removeEventListener("readystatechange",e),Xe.forEach(e=>e()),Xe.clear()))};document.addEventListener("readystatechange",e)}const et=new Map,tt=new WeakMap;function nt(e,t){let n,r,o;if(et.has(e))n=et.get(e),r=tt.get(n);else{let t=!1,s=!1;n=new MutationObserver(n=>{if(function(e){if(e.length>1e3)return!0;let t=0;for(let n=0;n<e.length;n++)if(t+=e[n].addedNodes.length,t>1e3)return!0;return!1}(n))!t||ze()?r.forEach(({onHugeMutations:t})=>t(e)):s||(o=()=>r.forEach(({onHugeMutations:t})=>t(e)),Ke(o),s=!0),t=!0;else{const t=function(e){const t=new Set,n=new Set,r=new Set;e.forEach(e=>{Q(e.addedNodes,e=>{e instanceof Element&&e.isConnected&&t.add(e)}),Q(e.removedNodes,e=>{e instanceof Element&&(e.isConnected?(r.add(e),t.delete(e)):n.add(e))})});const o=[],s=[];return t.forEach(e=>{t.has(e.parentElement)&&o.push(e)}),n.forEach(e=>{n.has(e.parentElement)&&s.push(e)}),o.forEach(e=>t.delete(e)),s.forEach(e=>n.delete(e)),{additions:t,moves:r,deletions:n}}(n);r.forEach(({onMinorMutations:n})=>n(e,t))}}),n.observe(e,{childList:!0,subtree:!0}),et.set(e,n),r=new Set,tt.set(n,r)}return r.add(t),{disconnect(){r.delete(t),o&&Ye(o),0===r.size&&(n.disconnect(),tt.delete(n),et.delete(e))}}}function rt(e,t,n){Q(e,e=>{if(wt(e))t(e),e.cssRules?.length>0&&rt(e.cssRules,t);else if(function(e){if(!e)return!1;if(mt.has(e))return!1;if(gt.has(e))return!0;if(e.href)return gt.add(e),!0;return!1}(e))try{rt(e.styleSheet.cssRules,t,n)}catch(r){n?.()}else if(kt(e)){const r=Array.from(e.media),o=r.some(e=>e.startsWith("screen")||e.startsWith("all")||e.startsWith("(")),s=!o&&r.some(e=>ot.some(t=>e.startsWith(t)));!o&&s||rt(e.cssRules,t,n)}else!function(e){if(!e)return!1;if(mt.has(e))return!1;if(bt.has(e))return!0;if(e instanceof CSSSupportsRule)return bt.add(e),!0;return!1}(e)?St(e)&&rt(e.cssRules,t,n):CSS.supports(e.conditionText)&&rt(e.cssRules,t,n)})}const ot=["aural","braille","embossed","handheld","print","projection","speech","tty","tv"],st=["background","border","border-color","border-bottom","border-left","border-right","border-top","outline","outline-color"],at=y?st.map(e=>[e,new RegExp(`${e}:\\s*(.*?)\\s*;`)]):null;function it(e,t){Q(e,n=>{const r=e.getPropertyValue(n).trim();r&&t(n,r)});const n=e.cssText;n.includes("var(")&&(y?at.forEach(([e,r])=>{const o=n.match(r);if(o&&o[1]){const n=o[1].trim();t(e,n)}}):st.forEach(n=>{const r=e.getPropertyValue(n);r&&r.includes("var(")&&t(n,r)})),!n.includes("background-color: ;")&&!n.includes("background-image: ;")||e.getPropertyValue("background")||ct("background",e,t),n.includes("border-")&&n.includes("-color: ;")&&!e.getPropertyValue("border")&&ct("border",e,t)}function ct(e,t,n){const r=t.parentRule;if(wt(r)){const t=r.parentStyleSheet?.ownerNode?.textContent;if(t){let o=r.selectorText.replaceAll(/[\^$.*+?\(\)\[\]{}|\-\\]/g,"\\$&");o=o.replaceAll(/\s+/g,"\\s*"),o=o.replaceAll(/::/g,"::?");const s=new RegExp(`${o}\\s*{[^}]*${e}:\\s*([^;}]+)`),a=t.match(s);a&&n(e,a[1])}else"background"===e&&(n("background-color","#ffffff"),n("background-image","none"))}}const lt=/url\((('.*?')|(".*?")|([^\)]*?))\)/g,ut=/@import\s*(url\()?(('.+?')|(".+?")|([^\)]*?))\)? ?(screen)?;?/gi;function dt(e){return e.trim().replace(/[\n\r\\]+/g,"").replace(/^url\((.*)\)$/,"$1").trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1").replace(/(?:\\(.))/g,"$1")}function ht(e){const t=H(e);return`${t.origin}${t.pathname.replace(/\?.*$/,"").replace(/(\/)([^\/]+)$/i,"$1")}`}const ft=/@font-face\s*{[^}]*}/g;const mt=new WeakSet,gt=new WeakSet,pt=new WeakSet,bt=new WeakSet,yt=new WeakSet;function wt(e){return!!e&&(!!mt.has(e)||!!e.selectorText&&(mt.add(e),!0))}function kt(e){return!!e&&(!mt.has(e)&&(!!pt.has(e)||!!e.media&&(pt.add(e),!0)))}function St(e){return!!e&&(!mt.has(e)&&(!!yt.has(e)||!!(E&&e instanceof CSSLayerBlockRule)&&(yt.add(e),!0)))}const Et=new WeakMap;function vt(e,t){Et.set(e,t)}let Ct;const _t=new Map;function Rt(e){Ct=e;const t=["background","text","border"];_t.forEach(e=>{t.forEach(t=>{if(e[t]){const{variable:n,value:r}=e[t];Ct?.cssRules[0].style.setProperty(n,r)}})})}function xt(e,t){return`var(${t[e].variable}, ${t[e].value})`}function At(){_t.clear()}function $t(e){return e[1===e.mode?"darkSchemeBackgroundColor":"lightSchemeBackgroundColor"]}function Tt(e){return e[1===e.mode?"darkSchemeTextColor":"lightSchemeTextColor"]}const Mt=new Map;const Vt=["r","g","b","a"],Lt=["mode","brightness","contrast","grayscale","sepia","darkSchemeBackgroundColor","darkSchemeTextColor","lightSchemeBackgroundColor","lightSchemeTextColor"];function Dt(e,t,n,r,o){let s;Mt.has(n)?s=Mt.get(n):(s=new Map,Mt.set(n,s));const a=function(e,t){let n="";return Vt.forEach(t=>{n+=`${e[t]};`}),Lt.forEach(e=>{n+=`${t[e]};`}),n}(e,t);if(s.has(a))return s.get(a);const i=n(he(e),null==r?null:ue(r),null==o?null:ue(o)),{r:c,g:l,b:u,a:d}=de(i),h=Z({...t,mode:0}),[f,m,g]=function([e,t,n],r){const o=X(r,[[e/255],[t/255],[n/255],[1],[1]]);return[0,1,2].map(e=>J(Math.round(255*o[e][0]),0,255))}([c,l,u],h),p=1===d?me({r:f,g:m,b:g}):function(e){const{r:t,g:n,b:r,a:o}=e;return null!=o&&o<1?`rgba(${fe(t)}, ${fe(n)}, ${fe(r)}, ${fe(o,2)})`:`rgb(${fe(t)}, ${fe(n)}, ${fe(r)})`}({r:f,g:m,b:g,a:d});return s.set(a,p),p}function Pt(e,t,n,r){const o=function(e,t){const n=me(t),r=_t.get(n);return r?.[e]?xt(e,r):null}(e,t);if(o)return o;return function(e,t,n){const r=me(t);let o;_t.has(r)?o=_t.get(r):(o={parsed:le(r)},_t.set(r,o));const s=`--darkreader-${e}-${r.replace("#","")}`;return o[e]={variable:s,value:n},Ct?.cssRules[0]?.style&&Ct?.cssRules[0].style.setProperty(s,n),xt(e,o)}(e,t,r(t,n))}function Ot(e,t){const n=$t(t);return Dt(e,t,Wt,Tt(t),n)}function Wt({h:e,s:t,l:n,a:r},o,s){const a=n<.5;let i;if(a)i=n<.2||t<.12;else{i=t<.24||n>.8&&(e>200&&e<280)}let c=e,l=t;i&&(a?(c=o.h,l=o.s):(c=s.h,l=s.s));return{h:c,s:l,l:Y(n,0,1,o.l,s.l),a:r}}function Nt({h:e,s:t,l:n,a:r},o){const s=t<.12||n>.8&&(e>200&&e<280);if(n<.5){const a=Y(n,0,.5,0,.4);if(s){return{h:o.h,s:o.s,l:a,a:r}}return{h:e,s:t,l:a,a:r}}let a=Y(n,.5,1,.4,o.l);if(s){return{h:o.h,s:o.s,l:a,a:r}}let i=e;if(e>60&&e<180){i=e>120?Y(e,120,180,135,180):Y(e,60,120,60,105)}return i>40&&i<80&&(a*=.75),{h:i,s:t,l:a,a:r}}function Ft(e,t){if(0===t.mode)return Ot(e,t);return Dt(e,t,Nt,$t(t))}function It(e,t,n=!0){return n?Pt("background",e,t,Ft):Ft(e,t)}const Ut=.55;function qt(e){return Y(e,205,245,205,220)}function jt({h:e,s:t,l:n,a:r},o){const s=n<.2||t<.24,a=!s&&e>205&&e<245;if(n>.5){const i=Y(n,.5,1,Ut,o.l);if(s){return{h:o.h,s:o.s,l:i,a:r}}let c=e;return a&&(c=qt(e)),{h:c,s:t,l:i,a:r}}if(s){return{h:o.h,s:o.s,l:Y(n,0,.5,o.l,Ut),a:r}}let i,c=e;return a?(c=qt(e),i=Y(n,0,.5,o.l,Math.min(1,.6000000000000001))):i=Y(n,0,.5,o.l,Ut),{h:c,s:t,l:i,a:r}}function Bt(e,t){if(0===t.mode)return Ot(e,t);return Dt(e,t,jt,Tt(t))}function Ht(e,t,n=!0){return n?Pt("text",e,t,Bt):Bt(e,t)}function Gt({h:e,s:t,l:n,a:r},o,s){let a=e,i=t;(n<.2||t<.24)&&(n<.5?(a=o.h,i=o.s):(a=s.h,i=s.s));return{h:a,s:i,l:Y(n,0,1,.5,.2),a:r}}function zt(e,t){if(0===t.mode)return Ot(e,t);return Dt(e,t,Gt,Tt(t),$t(t))}function Qt(e,t,n=!0){return n?Pt("border",e,t,zt):zt(e,t)}function Kt(e,t){return It(e,t)}const Yt="conic-",Jt=Yt.length,Xt="radial-",Zt="linear-";const en="__darkreader__imageDetails_v2_list",tn="__darkreader__imageDetails_v2_",nn="__darkreader__cssFetch_";let rn=0;const on=new Map,sn=[];function an(){on.forEach((e,t)=>{if(t&&t.startsWith("https://"))try{const n=JSON.stringify(e);sessionStorage.setItem(`${tn}${t}`,n),sn.push(t)}catch(n){}}),on.clear(),sessionStorage.setItem(en,JSON.stringify(sn))}const cn=1e3/60;const ln=new Map,un=new Map;async function dn(e){if(window.DarkReader?.Plugins?.fetch)return window.DarkReader.Plugins.fetch(e);const t=new URL(e.url);if(t.origin!==e.origin&&function(e){const t=e.hostname;mn.has(t)||mn.add(t);if(mn.size>=fn||"localhost"===t||t.startsWith("[")||t.endsWith(".local")||t.match(hn))return!0;return!1}(t))throw new Error("Cross-origin limit reached");return new Promise((t,n)=>{const r=Pe();ln.set(r,t),un.set(r,n),chrome.runtime.sendMessage({type:c.FETCH,data:e,id:r})})}chrome.runtime.onMessage.addListener(({type:e,data:t,error:n,id:r})=>{if(e===s.FETCH_RESPONSE){const e=ln.get(r),o=un.get(r);ln.delete(r),un.delete(r),n?o&&o("string"==typeof n?new Error(n):n):e&&e(t)}});const hn=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/,fn=16,mn=new Set;const gn=new class{constructor(){this.queue=[],this.timerId=null}addTask(e){this.queue.push(e),this.scheduleFrame()}stop(){null!==this.timerId&&(cancelAnimationFrame(this.timerId),this.timerId=null),this.queue=[]}scheduleFrame(){this.timerId||(this.timerId=requestAnimationFrame(()=>{this.timerId=null;const e=Date.now();let t;for(;t=this.queue.shift();)if(t(),Date.now()-e>=cn){this.scheduleFrame();break}}))}};async function pn(e){return new Promise(async(t,n)=>{try{const n=e.startsWith("data:")?e:await async function(e){const t=new URL(e);if(t.origin===location.origin)return await async function(e,t){const n=await _(e,t);return await R(n)}(e);return await dn({url:e,responseType:"data-url",origin:location.origin})}(e),r=Vn(n)??await async function(e,t){const n=await _(e,t);return await n.blob()}(e);let o;o=n.startsWith("data:image/svg+xml")?await wn(n):await async function(e){try{return await createImageBitmap(e)}catch(t){return e.type,String(t),null}}(r)??await wn(n),gn.addTask(()=>{const r=function(e){Sn||function(){const e=kn,t=kn;Sn=document.createElement("canvas"),Sn.width=e,Sn.height=t,En=Sn.getContext("2d",{willReadFrequently:!0}),En.imageSmoothingEnabled=!1}();let t,n;e instanceof HTMLImageElement?(t=e.naturalWidth,n=e.naturalHeight):(t=e.width,n=e.height);if(0===t||0===n)return{isDark:!1,isLight:!1,isTransparent:!1,isLarge:!1};const r=t*n>vn,o=t*n,s=Math.min(1,Math.sqrt(kn/o)),a=Math.ceil(t*s),i=Math.ceil(n*s);En.clearRect(0,0,a,i),En.drawImage(e,0,0,t,n,0,0,a,i);const c=En.getImageData(0,0,a,i).data,l=.05,u=.4,d=.7;let h,f,m,g,p,b,y,w,k=0,S=0,E=0;for(m=0;m<i;m++)for(f=0;f<a;f++)h=4*(m*a+f),g=c[h+0],p=c[h+1],b=c[h+2],y=c[h+3],y/255<l?k++:(w=$e(g,p,b),w<u&&S++,w>d&&E++);const v=a*i,C=v-k;return{isDark:S/C>=.7,isLight:E/C>=.7,isTransparent:k/v>=.1,isLarge:r}}(o);t({src:e,dataURL:r.isLarge?"":n,width:o.width,height:o.height,...r})})}catch(r){n(r)}})}const bn=256;let yn=0;async function wn(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=()=>n(`Unable to load image ${e}`),++yn<=bn||Je()?r.src=e:Ze(()=>r.src=e)})}const kn=1024;let Sn,En;const vn=262144;let Cn=null,_n=!1,Rn=!1;const xn=[];document.addEventListener("__darkreader__inlineScriptsAllowed",()=>_n=!0,{once:!0}),document.addEventListener("securitypolicyviolation",function e(t){"blob"===t.blockedURI&&(Cn=!1,document.removeEventListener("securitypolicyviolation",e))});const An=new Set;function $n({dataURL:e,width:t,height:n},r){e.startsWith("data:image/svg+xml")&&(e=e.replace(/[<>&'"]/g,e=>Tn[e]??e));const o=[`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="${t}" height="${n}">`,"<defs>",'<filter id="darkreader-image-filter">',`<feColorMatrix type="matrix" values="${Z(r).slice(0,4).map(e=>e.map(e=>e.toFixed(3)).join(" ")).join(" ")}" />`,"</filter>","</defs>",`<image width="${t}" height="${n}" filter="url(#darkreader-image-filter)" xlink:href="${e}" />`,"</svg>"].join("");if(!Cn)return`data:image/svg+xml;base64,${btoa(o)}`;const s=new Uint8Array(o.length);for(let c=0;c<o.length;c++)s[c]=o.charCodeAt(c);const a=new Blob([s],{type:"image/svg+xml"}),i=URL.createObjectURL(a);return An.add(i),i}const Tn={"<":"&lt;",">":"&gt;","&":"&amp;","'":"&apos;",'"':"&quot;"};const Mn=new Map;function Vn(e){const t=e.indexOf(":"),n=e.indexOf(";",t+1),r=e.indexOf(",",n+1),o=e.substring(n+1,r).toLocaleLowerCase(),s=e.substring(t+1,n);if("base64"!==o||!s)return null;const a=atob(e.substring(r+1)),i=new Uint8Array(a.length);for(let c=0;c<a.length;c++)i[c]=a.charCodeAt(c);return new Blob([i],{type:s})}function Ln(){gn&&gn.stop(),Sn=null,En=null,An.forEach(e=>URL.revokeObjectURL(e)),An.clear(),Mn.forEach(e=>URL.revokeObjectURL(e)),Mn.clear()}function Dn(e,t){return Boolean(e&&e.getPropertyPriority(t))}function Pn(e,t,n,r,o,s){let a=null;if(e.startsWith("--"))a=function(e,t,n,r,o,s){return e.getModifierForVariable({varName:t,sourceValue:n,rule:r,ignoredImgSelectors:o,isCancelled:s})}(r,e,t,n,o,s);else if(t.includes("var("))a=function(e,t,n){return e.getModifierForVarDependant(t,n)}(r,e,t);else if("color-scheme"===e)a=e=>0===e.mode?"dark light":"dark";else if("scrollbar-color"===e)a=function(e){const t=e.match(/^\s*([a-z]+(\(.*\))?)\s+([a-z]+(\(.*\))?)\s*$/);if(!t)return e;const n=le(t[1]),r=le(t[3]);if(!n||!r)return[n,r].filter(e=>!e),null;return e=>`${Ht(n,e)} ${It(r,e)}`}(t);else if(e.includes("color")&&"-webkit-print-color-adjust"!==e||"fill"===e||"stroke"===e||"stop-color"===e)if(e.startsWith("border")&&"border-color"!==e&&"initial"===t){const r=e.substring(0,e.length-6),o=n.style.getPropertyValue(r);o.startsWith("0px")||"none"===o?(e=r,a=o):a=t}else a=function(e,t,n){if(qn.has(t.toLowerCase())&&("color"!==e||"initial"!==t))return t;let r=null;r="color"===e&&"initial"===t?{r:0,g:0,b:0,a:1}:le(t);if(!r)return null;if(e.includes("background"))return n.style.webkitMaskImage&&"none"!==n.style.webkitMaskImage||n.style.webkitMask&&!n.style.webkitMask.startsWith("none")||n.style.mask&&"none"!==n.style.mask||n.style.getPropertyValue("mask-image")&&"none"!==n.style.getPropertyValue("mask-image")?e=>Ht(r,e):e=>It(r,e);if(e.includes("border")||e.includes("outline"))return e=>Qt(r,e);return e=>Ht(r,e)}(e,t,n);else"background-image"===e||"list-style-image"===e?a=Xn(t,n,o,s):e.includes("shadow")&&(a=function(e){const t=Zn(e);if(!t)return null;return e=>t(e).result}(t));return a?{property:e,value:a,important:Dn(n.style,e),sourceValue:t}:null}function On(...e){return e.filter(Boolean).join(", ")}const Wn=["calendar.google.com"];function Nn(e,t,n){const r=[];t||(r.push("html {"),r.push(`    background-color: ${It({r:255,g:255,b:255},e)} !important;`),r.push("}")),C&&1===e.mode&&(r.push("html {"),r.push("    color-scheme: dark !important;"),r.push("}"),r.push("iframe {"),r.push("    color-scheme: dark !important;"),r.push("}"));const o=On(t?"":"html, body",n?"input, textarea, select, button, dialog":"");return o&&(r.push(`${o} {`),r.push(`    background-color: ${It({r:255,g:255,b:255},e)};`),r.push("}")),r.push(`${On("html, body",n?"input, textarea, select, button":"")} {`),r.push(`    border-color: ${Qt({r:76,g:76,b:76},e)};`),r.push(`    color: ${Ht({r:0,g:0,b:0},e)};`),r.push("}"),r.push("a {"),r.push(`    color: ${Ht({r:0,g:64,b:255},e)};`),r.push("}"),r.push("table {"),r.push(`    border-color: ${Qt({r:128,g:128,b:128},e)};`),r.push("}"),r.push("mark {"),r.push(`    color: ${Ht({r:0,g:0,b:0},e)};`),r.push("}"),r.push("::placeholder {"),r.push(`    color: ${Ht({r:169,g:169,b:169},e)};`),r.push("}"),r.push("input:-webkit-autofill,"),r.push("textarea:-webkit-autofill,"),r.push("select:-webkit-autofill {"),r.push(`    background-color: ${It({r:250,g:255,b:189},e)} !important;`),r.push(`    color: ${Ht({r:0,g:0,b:0},e)} !important;`),r.push("}"),e.scrollbarColor&&!Wn.includes(location.hostname)&&r.push(function(e){let t,n;if("auto"===e.scrollbarColor)t=It({r:241,g:241,b:241},e),n=It({r:176,g:176,b:176},e);else{const r=he(le(e.scrollbarColor));t=ge((e=>({...r,l:J(r.l-e,0,1)}))(.4)),n=ge(r)}return["* {",`    scrollbar-color: ${n} ${t};`,"}"].join("\n")}(e)),e.selectionColor&&r.push(function(e){const t=[],n=Fn(e),r=n.backgroundColorSelection,o=n.foregroundColorSelection;return["::selection","::-moz-selection"].forEach(e=>{t.push(`${e} {`),t.push(`    background-color: ${r} !important;`),t.push(`    color: ${o} !important;`),t.push("}")}),t.join("\n")}(e)),E&&(r.unshift("@layer {"),r.push("}")),r.join("\n")}function Fn(e){let t,n;if("auto"===e.selectionColor)t=It({r:0,g:96,b:212},{...e,grayscale:0}),n=Ht({r:255,g:255,b:255},{...e,grayscale:0});else{const r=he(le(e.selectionColor));t=e.selectionColor,n=r.l<.5?"#FFF":"#000"}return{backgroundColorSelection:t,foregroundColorSelection:n}}function In(e,{strict:t}){return Un(e,{strict:t})}function Un(e,{strict:t}){const n=[];return n.push(`html, body, ${t?"body :not(iframe)":"body > :not(iframe)"} {`),n.push(`    background-color: ${It({r:255,g:255,b:255},e)} !important;`),n.push(`    border-color: ${Qt({r:64,g:64,b:64},e)} !important;`),n.push(`    color: ${Ht({r:0,g:0,b:0},e)} !important;`),n.push("}"),n.push('div[style*="background-color: rgb(135, 135, 135)"] {'),n.push("    background-color: #878787 !important;"),n.push("}"),n.join("\n")}const qn=new Set(["inherit","transparent","initial","currentcolor","none","unset","auto"]);const jn=new Map,Bn=new Map;let Hn=!1;const Gn=new Map,zn=new Map,Qn=new Set;let Kn=null,Yn=null;function Jn(e){for(const[t,n]of Gn)(e.querySelector(t)||e instanceof Element&&e.matches(t))&&(Gn.delete(t),n.forEach(e=>e()));Yn||(Yn=new MutationObserver(e=>{e.forEach(e=>{Qn.add(e.target),Kn||(Kn=requestAnimationFrame(()=>{Qn.forEach(e=>{Jn(e)}),Qn.clear(),Kn=null}))})}),Yn.observe(document.documentElement,{attributes:!0,attributeFilter:["class"],subtree:!0}))}function Xn(e,t,n,r){try{if(function(e,t){if(!e||0===t.length)return!1;if(t.some(e=>"*"===e))return!0;const n=e.split(/,\s*/g);for(let r=0;r<t.length;r++){const e=t[r];if(e.startsWith("^")){const t=e.slice(1);if(n.some(e=>e.startsWith(t)))return!0}else if(e.endsWith("$")){const t=e.slice(0,e.length-1);if(n.some(e=>e.endsWith(t)))return!0}else if(n.some(t=>t===e))return!0}return!1}(t.selectorText,n))return e;const o=function(e){const t=[];let n=0,r=Yt.length;for(;-1!==(n=e.indexOf("gradient",r));){let o;if([Zt,Xt,Yt].find(t=>{if(n-t.length>=0&&e.substring(n-t.length,n)===t)return"repeating"===e.slice(n-t.length-10,n-t.length-1)?(o=`repeating-${t}gradient`,!0):"-webkit"===e.slice(n-t.length-8,n-t.length-1)?(o=`-webkit-${t}gradient`,!0):(o=`${t}gradient`,!0)}),!o)break;const{start:s,end:a}=I(e,n+8),i=e.substring(s+1,a-1);r=a+1+Jt,t.push({typeGradient:o,match:i,offset:o.length+2,index:n-o.length+8,hasComma:!0})}return t.length&&(t[t.length-1].hasComma=!1),t}(e),s=N(lt,e);if(0===s.length&&0===o.length)return e;const a=t=>{let n=0;return t.map(t=>{const r=e.indexOf(t,n);return n=r+t.length,{match:t,index:r}})},i=o.map(e=>({type:"gradient",...e})).concat(a(s).map(e=>({type:"url",offset:0,...e}))).sort((e,t)=>e.index>t.index?1:-1),c=e=>{const{typeGradient:t,match:n,hasComma:r}=e,o=/^(from|color-stop|to)\(([^\(\)]*?,\s*)?(.*?)\)$/,s=N(/([^\(\),]+(\([^\(\)]*(\([^\(\)]*\)*[^\(\)]*)?\))?([^\(\), ]|( (?!calc)))*),?/g,n,1).map(e=>{let t=le(e=e.trim());if(t)return e=>Kt(t,e);const n=e.lastIndexOf(" ");if(t=le(e.substring(0,n)),t)return r=>`${Kt(t,r)} ${e.substring(n+1)}`;const r=e.match(o);return r&&(t=le(r[3]),t)?e=>`${r[1]}(${r[2]?`${r[2]}, `:""}${Kt(t,e)})`:()=>e});return e=>`${t}(${s.map(t=>t(e)).join(", ")})${r?", ":""}`},l=e=>{Hn||(Hn=!0,function(e){try{const t=sessionStorage.getItem(en);if(!t)return;JSON.parse(t).forEach(t=>{const n=sessionStorage.getItem(`${tn}${t}`);if(n){const r=JSON.parse(n);e.set(t,r)}})}catch(t){}}(jn));let n=dt(e);const o=0===n.length,{parentStyleSheet:s}=t,a=s?.ownerNode,i=(s&&function(e){if(!e.ownerNode)return null;if(Et.has(e))return Et.get(e);let t=e.ownerNode;for(;t;){if(t instanceof ShadowRoot||t instanceof Document)return vt(e,t),t;t=t.parentNode}return null}(s))??document,c=s&&s.href?ht(s.href):a?.baseURI||location.origin;return n=G(c,n),async s=>{if(o)return"url('')";let a=t.selectorText;a&&(a.includes("::before")&&(a=a.replaceAll("::before","")),a.includes("::after")&&(a=a.replaceAll("::after","")),i.querySelector(a)||await new Promise(t=>{Gn.has(a)?Gn.get(a).push(t):(Gn.set(a,[t]),zn.set(a,e))}));let c=null;if(jn.has(n))c=jn.get(n);else try{if(null==Cn&&_n&&await async function(){if(_n){if(Rn)return await new Promise(e=>xn.push(e));Rn=!0,await new Promise(e=>{document.addEventListener("__darkreader__blobURLCheckResponse",t=>{Cn=t.detail.blobURLAllowed,e(),xn.forEach(e=>e()),xn.splice(0)},{once:!0}),document.dispatchEvent(new CustomEvent("__darkreader__blobURLCheckRequest"))})}}(),Bn.has(n)){const e=Bn.get(n);if(c=await new Promise(t=>e.push(t)),!c)return null}else{if(Bn.set(n,[]),c=await pn(n),jn.set(n,c),!n.startsWith("data:")){new URL(n).origin===location.origin&&function(e,t){e&&e.startsWith("https://")&&(on.set(e,t),clearTimeout(rn),rn=setTimeout(an,1e3))}(n,c)}Bn.get(n).forEach(e=>e(c)),Bn.delete(n)}if(r())return null}catch(l){Bn.has(n)&&(Bn.get(n).forEach(e=>e(null)),Bn.delete(n))}if(c){const e=u(c,s);if(e)return e}if(n.startsWith("data:")){const e=await async function(e){if(!Cn)return null;const t=F(e);let n=Mn.get(t);if(n)return n;let r=Vn(e);if(!r){const t=await fetch(e);r=await t.blob()}return n=URL.createObjectURL(r),Mn.set(t,n),n}(n);if(e)return`url("${e}")`}return`url("${n}")`}},u=(e,t)=>{const{isDark:n,isLight:r,isTransparent:o,isLarge:s,width:a}=e;let i;e.src.startsWith("data:")||e.src;if(s&&r&&!o&&1===t.mode)i="none";else if(n&&o&&1===t.mode&&a>2){i=`url("${$n(e,{...t,sepia:J(t.sepia+10,0,100)})}")`}else if(r&&!o&&1===t.mode){i=`url("${$n(e,t)}")`}else if(0===t.mode&&r){i=`url("${$n(e,{...t,brightness:J(t.brightness-10,5,200),sepia:J(t.sepia+10,0,100)})}")`}else i=null;return i},d=[];let h=0,f=!1;return i.forEach(({type:t,match:n,index:r,typeGradient:o,hasComma:s,offset:a},u)=>{const m=r,g=h,p=m+n.length+a;h=p,g!==m&&(f?d.push(()=>{let t=e.substring(g,m);return","===t[0]&&(t=t.substring(1)),t}):d.push(()=>e.substring(g,m))),f=s||!1,"url"===t?d.push(l(n)):"gradient"===t&&d.push(c({match:n,index:r,typeGradient:o,hasComma:s||!1,offset:a})),u===i.length-1&&d.push(()=>e.substring(p))}),e=>{const t=d.filter(Boolean).map(t=>t(e));if(t.some(e=>e instanceof Promise))return Promise.all(t).then(e=>e.filter(Boolean).join(""));const n=t.join("");return n.endsWith(", initial")?n.slice(0,-9):n}}catch(o){return null}}function Zn(e){try{let t=0;const n=N(/(^|\s)(?!calc)([a-z]+\(.+?\)|#[0-9a-f]+|[a-z]+)(.*?(inset|outset)?($|,))/gi,e,2);let r=0;const o=n.map((o,s)=>{const a=t,i=e.indexOf(o,t),c=i+o.length;t=c;const l=le(o);return l?t=>`${e.substring(a,i)}${function(e,t){return It(e,t)}(l,t)}${s===n.length-1?e.substring(c):""}`:(r++,()=>e.substring(a,c))});return e=>{const t=o.map(t=>t(e)).join("");return{matchesLength:n.length,unparsableMatchesLength:r,result:t}}}catch(t){return null}}function er(){Mt.clear(),jn.clear(),Ln(),Bn.clear(),Gn.clear(),Yn?.disconnect(),Yn=null}const tr=!location.hostname.startsWith("www.ebay.")&&!location.hostname.includes(".ebay.");const nr=new class{constructor(){this.varTypes=new Map,this.rulesQueue=new Set,this.inlineStyleQueue=[],this.definedVars=new Set,this.varRefs=new Map,this.unknownColorVars=new Set,this.unknownBgVars=new Set,this.undefinedVars=new Set,this.initialVarTypes=new Map,this.changedTypeVars=new Set,this.typeChangeSubscriptions=new Map,this.unstableVarValues=new Map}clear(){this.varTypes.clear(),this.rulesQueue.clear(),this.inlineStyleQueue.splice(0),this.definedVars.clear(),this.varRefs.clear(),this.unknownColorVars.clear(),this.unknownBgVars.clear(),this.undefinedVars.clear(),this.initialVarTypes.clear(),this.changedTypeVars.clear(),this.typeChangeSubscriptions.clear(),this.unstableVarValues.clear()}isVarType(e,t){return this.varTypes.has(e)&&(this.varTypes.get(e)&t)>0}addRulesForMatching(e){this.rulesQueue.add(e)}addInlineStyleForMatching(e){this.inlineStyleQueue.push(e)}matchVariablesAndDependents(){0===this.rulesQueue.size&&0===this.inlineStyleQueue.length||(this.changedTypeVars.clear(),this.initialVarTypes=new Map(this.varTypes),this.collectRootVariables(),this.collectVariablesAndVarDep(),this.collectRootVarDependents(),this.varRefs.forEach((e,t)=>{e.forEach(e=>{this.varTypes.has(t)&&this.resolveVariableType(e,this.varTypes.get(t))})}),this.unknownColorVars.forEach(e=>{this.unknownBgVars.has(e)?(this.unknownColorVars.delete(e),this.unknownBgVars.delete(e),this.resolveVariableType(e,1)):this.isVarType(e,7)?this.unknownColorVars.delete(e):this.undefinedVars.add(e)}),this.unknownBgVars.forEach(e=>{null!=this.findVarRef(e,e=>this.unknownColorVars.has(e)||this.isVarType(e,7))?this.iterateVarRefs(e,e=>{this.resolveVariableType(e,1)}):this.isVarType(e,9)?this.unknownBgVars.delete(e):this.undefinedVars.add(e)}),this.changedTypeVars.forEach(e=>{this.typeChangeSubscriptions.has(e)&&this.typeChangeSubscriptions.get(e).forEach(e=>{e()})}),this.changedTypeVars.clear())}getModifierForVariable(e){return t=>{const{varName:n,sourceValue:r,rule:o,ignoredImgSelectors:s,isCancelled:a}=e,i=()=>{const e=[],i=(o,s,a)=>{if(!this.isVarType(n,o))return;const i=s(n);let c;if(hr(r))if(fr(r)){let e=Er(r,this.unstableVarValues);e||(e=1===o?"#ffffff":"#000000"),c=a(e,t)}else c=ar(r,e=>s(e),e=>a(e,t));else c=a(r,t);e.push({property:i,value:c})};if(i(1,ir,wr),i(2,cr,kr),i(4,lr,Sr),this.isVarType(n,8)){const i=ur(n);let c=r;hr(r)&&(c=ar(r,e=>ir(e),e=>wr(e,t)));const l=Xn(c,o,s,a);c="function"==typeof l?l(t):l,e.push({property:i,value:c})}return e},c=new Set;return{declarations:i(),onTypeChange:{addListener:e=>{const t=()=>{const t=i();e(t)};c.add(t),this.subscribeForVarTypeChange(n,t)},removeListeners:()=>{c.forEach(e=>{this.unsubscribeFromVariableTypeChanges(n,e)})}}}}}getModifierForVarDependant(e,t){const n=t.match(/^\s*(rgb|hsl)a?\(/),r=t.match(/^rgba?\(var\(--[\-_A-Za-z0-9]+\)(\s*,?\/?\s*0?\.\d+)?\)$/);if(n&&!r){const n=e.startsWith("background"),r=gr(e);return e=>{let o=Er(t,this.unstableVarValues);o||(o=n?"#ffffff":"#000000");return(n?wr:r?kr:Sr)(o,e)}}return"background-color"===e||r&&"background"===e?e=>{const r=tr?wr(n?"255, 255, 255":"#ffffff",e):"transparent";return ar(t,e=>ir(e),t=>wr(t,e),r)}:gr(e)?e=>{const r=kr(n?"0, 0, 0":"#000000",e);return ar(t,e=>cr(e),t=>kr(t,e),r)}:"background"===e||"background-image"===e||"box-shadow"===e?n=>{const r=new Set,o=()=>{const o=ar(t,e=>this.isVarType(e,1)?ir(e):this.isVarType(e,8)?ur(e):(r.add(e),e),e=>wr(e,n));if("box-shadow"===e){const e=Zn(o)(n);if(e.unparsableMatchesLength!==e.matchesLength)return e.result}return o},s=o();return r.size>0?function(e){if(e.startsWith("var(")&&e.endsWith(")")){const t=e.endsWith("))"),n=e.endsWith(")))"),r=t?e.lastIndexOf("("):-1,o=n?e.lastIndexOf("(",r-1):r,s=e.lastIndexOf(",",t?o:e.length);if(s<0||" "!==e[s+1])return!1;const a=e.slice(s+2,e.length-1);return t?a.startsWith("rgb(")||a.startsWith("rgba(")||a.startsWith("hsl(")||a.startsWith("hsla(")||a.startsWith("var(--darkreader-bg--")||a.startsWith("var(--darkreader-background-")||n&&a.includes("var(--darkreader-background-"):a.match(/^(#[0-9a-f]+)|([a-z]+)$/i)}return!1}(s)?s:new Promise(e=>{for(const t of r.values()){const n=()=>{this.unsubscribeFromVariableTypeChanges(t,n);const r=o();e(r)};this.subscribeForVarTypeChange(t,n)}}):s}:e.startsWith("border")||e.startsWith("outline")?e=>ar(t,e=>lr(e),t=>Sr(t,e)):null}subscribeForVarTypeChange(e,t){this.typeChangeSubscriptions.has(e)||this.typeChangeSubscriptions.set(e,new Set);const n=this.typeChangeSubscriptions.get(e);n.has(t)||n.add(t)}unsubscribeFromVariableTypeChanges(e,t){this.typeChangeSubscriptions.has(e)&&this.typeChangeSubscriptions.get(e).delete(t)}collectVariablesAndVarDep(){this.rulesQueue.forEach(e=>{rt(e,e=>{e.style&&this.collectVarsFromCSSDeclarations(e.style)})}),this.inlineStyleQueue.forEach(e=>{this.collectVarsFromCSSDeclarations(e)}),this.rulesQueue.clear(),this.inlineStyleQueue.splice(0)}collectVarsFromCSSDeclarations(e){it(e,(e,t)=>{dr(e)&&this.inspectVariable(e,t),hr(t)&&this.inspectVarDependant(e,t)})}shouldProcessRootVariables(){return this.rulesQueue.size>0&&document.documentElement.getAttribute("style")?.includes("--")}collectRootVariables(){this.shouldProcessRootVariables()&&it(document.documentElement.style,(e,t)=>{dr(e)&&this.inspectVariable(e,t)})}inspectVariable(e,t){if(this.unstableVarValues.set(e,t),hr(t)&&fr(t)&&(this.unknownColorVars.add(e),this.definedVars.add(e)),this.definedVars.has(e))return;this.definedVars.add(e);Boolean(t.match(pr)||t.match(br)||le(t))?this.unknownColorVars.add(e):(t.includes("url(")||t.includes("linear-gradient(")||t.includes("radial-gradient("))&&this.resolveVariableType(e,8)}resolveVariableType(e,t){const n=this.initialVarTypes.get(e)||0,r=(this.varTypes.get(e)||0)|t;this.varTypes.set(e,r),(r!==n||this.undefinedVars.has(e))&&(this.changedTypeVars.add(e),this.undefinedVars.delete(e)),this.unknownColorVars.delete(e),this.unknownBgVars.delete(e)}collectRootVarDependents(){this.shouldProcessRootVariables()&&it(document.documentElement.style,(e,t)=>{hr(t)&&this.inspectVarDependant(e,t)})}inspectVarDependant(e,t){dr(e)?this.iterateVarDeps(t,t=>{this.varRefs.has(e)||this.varRefs.set(e,new Set),this.varRefs.get(e).add(t)}):"background-color"===e||"box-shadow"===e?this.iterateVarDeps(t,e=>this.resolveVariableType(e,1)):gr(e)?this.iterateVarDeps(t,e=>this.resolveVariableType(e,2)):e.startsWith("border")||e.startsWith("outline")?this.iterateVarDeps(t,e=>this.resolveVariableType(e,4)):"background"!==e&&"background-image"!==e||this.iterateVarDeps(t,e=>{if(this.isVarType(e,9))return;const t=null!=this.findVarRef(e,e=>this.unknownColorVars.has(e)||this.isVarType(e,7));this.iterateVarRefs(e,e=>{t?this.resolveVariableType(e,1):this.unknownBgVars.add(e)})})}iterateVarDeps(e,t){const n=new Set;!function(e,t){ar(e,e=>(t(e),e))}(e,e=>n.add(e)),n.forEach(e=>t(e))}findVarRef(e,t,n=new Set){if(n.has(e))return null;n.add(e);if(t(e))return e;const r=this.varRefs.get(e);if(!r||0===r.size)return null;for(const o of r){const e=this.findVarRef(o,t,n);if(e)return e}return null}iterateVarRefs(e,t){this.findVarRef(e,e=>(t(e),!1))}setOnRootVariableChange(e){this.onRootVariableDefined=e}putRootVars(e,t){const n=e.sheet;n.cssRules.length>0&&n.deleteRule(0);const r=new Map;it(document.documentElement.style,(e,n)=>{dr(e)&&(this.isVarType(e,1)&&r.set(ir(e),wr(n,t)),this.isVarType(e,2)&&r.set(cr(e),kr(n,t)),this.isVarType(e,4)&&r.set(lr(e),Sr(n,t)),this.subscribeForVarTypeChange(e,this.onRootVariableDefined))});const o=[];o.push(":root {");for(const[a,i]of r)o.push(`    ${a}: ${i};`);o.push("}");const s=o.join("\n");n.insertRule(s)}};function rr(e,t=0){const n=e.indexOf("var(",t);if(n>=0){const t=I(e,n+3);if(t)return{start:n,end:t.end}}return null}function or(e,t){const n=function(e){const t=[];let n,r=0;for(;n=rr(e,r);){const{start:o,end:s}=n;t.push({start:o,end:s,value:e.substring(o,s)}),r=n.end+1}return t}(e),r=n.length;if(0===r)return e;const o=e.length,s=n.map(e=>t(e.value,n.length)),a=[];a.push(e.substring(0,n[0].start));for(let i=0;i<r;i++){a.push(s[i]);const t=n[i].end,c=i<r-1?n[i+1].start:o;a.push(e.substring(t,c))}return a.join("")}function sr(e){const t=e.indexOf(",");let n,r;return t>=0?(n=e.substring(4,t).trim(),r=e.substring(t+1,e.length-1).trim()):(n=e.substring(4,e.length-1).trim(),r=""),{name:n,fallback:r}}function ar(e,t,n,r){return or(e,e=>{const{name:o,fallback:s}=sr(e),a=t(o);if(!s)return r?`var(${a}, ${r})`:`var(${a})`;let i;return i=hr(s)?ar(s,t,n):n?n(s):s,`var(${a}, ${i})`})}function ir(e){return`--darkreader-bg${e}`}function cr(e){return`--darkreader-text${e}`}function lr(e){return`--darkreader-border${e}`}function ur(e){return`--darkreader-bgimg${e}`}function dr(e){return e.startsWith("--")}function hr(e){return e.includes("var(")}function fr(e){return e.match(/^\s*(rgb|hsl)a?\(/)||e.match(/^(((\d{1,3})|(var\([\-_A-Za-z0-9]+\))),?\s*?){3}$/)}const mr=["color","caret-color","-webkit-text-fill-color","fill","stroke"];function gr(e){return mr.includes(e)}const pr=/^(\d{1,3})\s+(\d{1,3})\s+(\d{1,3})$/,br=/^(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})$/;function yr(e,t,n){const{isRaw:r,color:o}=function(e){const t=e.match(pr)??e.match(br);if(t)return{isRaw:!0,color:`rgb(${t[1]}, ${t[2]}, ${t[3]})`};return{isRaw:!1,color:e}}(e),s=le(o);if(s){const e=n(s,t,!r);if(r){const t=le(e);return t?`${t.r}, ${t.g}, ${t.b}`:e}return e}return o}function wr(e,t){return yr(e,t,It)}function kr(e,t){return yr(e,t,Ht)}function Sr(e,t){return yr(e,t,Qt)}function Er(e,t,n=new Set){let r=!1;const o=or(e,(e,o)=>{const{name:s,fallback:a}=sr(e),i=o>1?new Set(n):n;if(i.has(s))return r=!0,null;i.add(s);const c=t.get(s)||a;let l=null;return c&&(l=hr(c)?Er(c,t,i):c),l||(r=!0,null)});return r?null:o}const vr=function(){const e=[];let t=null;function n(){let n;for(;n=e.shift();)n();t=null}return{add:function(r){e.push(r),t||(t=requestAnimationFrame(n))},cancel:function(){e.splice(0),cancelAnimationFrame(t),t=null}}}();function Cr(){let e=0;const t=new Set,n=new Map,r=new Set;let o=null,s=!1,a=!1;return{modifySheet:function(i){const c=i.sourceCSSRules,{theme:l,ignoreImageAnalysis:u,force:d,prepareSheet:h,isAsyncCancelled:f}=i;let m=0===n.size;const g=new Set(n.keys()),b=function(e){let t="";return Lt.forEach(n=>{t+=`${n}:${e[n]};`}),t}(l),y=b!==o;s&&(a=!0);const w=[];if(rt(c,e=>{const r=function(e){let t=e.cssText;return kt(e.parentRule)&&(t=`${e.parentRule.media.mediaText} { ${t} }`),St(e.parentRule)&&(t=`${e.parentRule.name} { ${t} }`),F(t)}(e);let o=!1;if(g.delete(r),t.has(r)||(t.add(r),o=!0),!o)return void w.push(n.get(r));if(m=!0,"revert"===e.style.all)return;const s=[];e.style&&it(e.style,(t,n)=>{const r=Pn(t,n,e,nr,u,f);r&&s.push(r)});let a=null;if(s.length>0){const t=e.parentRule;a={selector:e.selectorText,declarations:s,parentRule:t},w.push(a)}n.set(r,a)},()=>{s=!0}),g.forEach(e=>{t.delete(e),n.delete(e)}),o=b,!d&&!m&&!y)return;function k(e,t,n){const{selector:r,declarations:o}=n;let s=r;const a=p&&r.startsWith(":is(")&&(r.includes(":is()")||r.includes(":where()")||r.includes(":where(")&&r.includes(":-moz")),i=r.includes("::view-transition-");(a||i)&&(s=".darkreader-unsupported-selector"),p&&s.endsWith("::picker")&&(s=s.replaceAll("::picker","::picker(select)"));let c=`${s} {`;for(const l of o){const{property:e,value:t,important:n}=l;t&&(c+=` ${e}: ${t}${n?" !important":""};`)}c+=" }",e.insertRule(c,t)}e++;const S=new Map,E=new Map;let v=0,C=0;const _={rule:null,rules:[],isGroup:!0},R=new WeakMap;function x(e){if(null==e)return _;if(R.has(e))return R.get(e);const t={rule:e,rules:[],isGroup:!0};R.set(e,t);return x(e.parentRule).rules.push(t),t}r.forEach(e=>e()),r.clear(),w.filter(e=>e).forEach(({selector:t,declarations:n,parentRule:o})=>{const s=x(o),a={selector:t,declarations:[],isGroup:!1},i=a.declarations;function c(t,n,r,o){const s=++v,a={property:t,value:null,important:r,asyncKey:s,sourceValue:o};i.push(a);const c=e;n.then(t=>{t&&!f()&&c===e&&(a.value=t,vr.add(()=>{f()||c!==e||function(e){const{rule:t,target:n,index:r}=S.get(e);n.deleteRule(r),k(n,r,t),S.delete(e)}(s)}))})}function u(t,n,o,s){const{declarations:a,onTypeChange:l}=n,u=++C,d=e,h=i.length;let m=[];if(0===a.length){const e={property:t,value:s,important:o,sourceValue:s,varKey:u};i.push(e),m=[e]}a.forEach(e=>{if(e.value instanceof Promise)c(e.property,e.value,o,s);else{const t={property:e.property,value:e.value,important:o,sourceValue:s,varKey:u};i.push(t),m.push(t)}}),l.addListener(t=>{if(f()||d!==e)return;const n=t.map(e=>({property:e.property,value:e.value,important:o,sourceValue:s,varKey:u})),r=i.indexOf(m[0],h);i.splice(r,m.length,...n),m=n,function(e){const{rule:t,target:n,index:r}=E.get(e);n.deleteRule(r),k(n,r,t)}(u)}),r.add(()=>l.removeListeners())}s.rules.push(a),n.forEach(({property:e,value:t,important:n,sourceValue:r})=>{if("function"==typeof t){const o=t(l);o instanceof Promise?c(e,o,n,r):e.startsWith("--")?u(e,o,n,r):i.push({property:e,value:o,important:n,sourceValue:r})}else i.push({property:e,value:t,important:n,sourceValue:r})})});const A=h();!function e(t,n,r){t.rules.forEach(t=>{if(t.isGroup){const o=function(e,t){const{rule:n}=e;if(wt(n)){const{selectorText:e}=n,r=t.cssRules.length;return t.insertRule(`${e} {}`,r),t.cssRules[r]}if(kt(n)){const{media:e}=n,r=t.cssRules.length;return t.insertRule(`@media ${e.mediaText} {}`,r),t.cssRules[r]}if(St(n)){const{name:e}=n,r=t.cssRules.length;return t.insertRule(`@layer ${e} {}`,r),t.cssRules[r]}return t}(t,n);e(t,o,r)}else r(t,n)})}(_,A,(e,t)=>{const n=t.cssRules.length;e.declarations.forEach(({asyncKey:r,varKey:o})=>{null!=r&&S.set(r,{rule:e,target:t,index:n}),null!=o&&E.set(o,{rule:e,target:t,index:n})}),k(t,n,e)})},shouldRebuildStyle:function(){return s&&!a}}}let _r=!1;document.addEventListener("__darkreader__inlineScriptsAllowed",()=>_r=!0,{once:!0});const Rr=new WeakSet,xr=new WeakMap;function Ar(e){let t=!1;function n(t,n){const r=[...e.adoptedStyleSheets],o=r.indexOf(t),s=r.indexOf(n);s>=0&&r.splice(s,1),r.splice(o+1,0,n),e.adoptedStyleSheets=r}function r(){const t=[...e.adoptedStyleSheets];for(let e=t.length-1;e>=0;e--){const n=t[e];Rr.has(n)&&t.splice(e,1)}e.adoptedStyleSheets.length!==t.length&&(e.adoptedStyleSheets=t),i=new WeakSet,c=new WeakSet}const o=[];let s=0;function a(){let t=0;var n;if(n=e=>{t+=e.cssRules.length},e.adoptedStyleSheets.forEach(t=>{Rr.has(t)||n(t),vt(t,e)}),1===t){const n=e.adoptedStyleSheets[0].cssRules[0];return n instanceof CSSStyleRule?n.style.length:t}return t}let i=new WeakSet,c=new WeakSet;let l=!1;function u(t){l||(l=!0,queueMicrotask(()=>{l=!1;const n=e.adoptedStyleSheets.filter(e=>!Rr.has(e));n.forEach(e=>xr.delete(e)),t(n)}))}let d=null;function h(e){d=requestAnimationFrame(()=>{_r||(a()!==s&&u(e),h(e))})}function f(t,n){e.addEventListener(t,n),o.push(()=>e.removeEventListener(t,n))}return{render:function(o,l){r();for(let r=e.adoptedStyleSheets.length-1;r>=0;r--){const u=e.adoptedStyleSheets[r];if(Rr.has(u))continue;i.add(u);const d=xr.get(u);if(d){s=a(),n(u,d);continue}const h=u.cssRules,f=new CSSStyleSheet;xr.set(u,f),rt(h,e=>c.add(e.style));const m=()=>{for(let e=f.cssRules.length-1;e>=0;e--)f.deleteRule(e);return f.insertRule("#__darkreader__adoptedOverride {}"),n(u,f),Rr.add(f),f};Cr().modifySheet({prepareSheet:m,sourceCSSRules:h,theme:o,ignoreImageAnalysis:l,force:!1,isAsyncCancelled:()=>t})}s=a()},destroy:function(){o.forEach(e=>e()),o.splice(0),t=!0,r(),d&&(cancelAnimationFrame(d),d=null)},watch:function(e){const t=()=>{_r=!0,u(e)};f("__darkreader__adoptedStyleSheetsChange",t),f("__darkreader__adoptedStyleSheetChange",t),f("__darkreader__adoptedStyleDeclarationChange",t),_r||h(e)}}}class $r{constructor(){this.cssRules=[],this.commands=[]}insertRule(e,t=0){return this.commands.push({type:"insert",index:t,cssText:e}),this.cssRules.splice(t,0,new $r),t}deleteRule(e){this.commands.push({type:"delete",index:e}),this.cssRules.splice(e,1)}replaceSync(e){if(this.commands.splice(0),this.commands.push({type:"replace",cssText:e}),""!==e)throw new Error("StyleSheetCommandBuilder.replaceSync() is not fully supported");this.cssRules.splice(0)}getDeepCSSCommands(){const e=[];return this.commands.forEach(t=>{e.push({type:t.type,cssText:"delete"!==t.type?t.cssText:"",path:"replace"===t.type?[]:[t.index]})}),this.cssRules.forEach((e,t)=>{e.getDeepCSSCommands().forEach(e=>e.path.unshift(t))}),e}clearDeepCSSCommands(){this.commands.splice(0),this.cssRules.forEach(e=>e.clearDeepCSSCommands())}}const Tr=["gogoprivate.com","gprivate.com","www.berlingske.dk","www.bloomberg.com","www.diffusioneshop.com","www.weekendavisen.dk","zhale.me"].includes(location.hostname)?"away":"next";function Mr(){return Tr}const Vr=new Set;let Lr,Dr;function Pr(e){if(!document.body)return Vr.add(e),void(Lr||(Lr=new MutationObserver(()=>{document.body&&(Lr.disconnect(),Lr=null,Vr.forEach(e=>Pr(e)),Vr.clear())})));let t=document.body.querySelector(".darkreader-style-container");t||(t=document.createElement("div"),t.classList.add("darkreader"),t.classList.add("darkreader-style-container"),t.style.display="none",document.body.append(t),Dr=new MutationObserver(()=>{null!=t?.nextElementSibling&&(t.querySelectorAll(".darkreader--sync").forEach(e=>{if(e.sheet.cssRules.length>0){let t="";for(const n of e.sheet.cssRules)t+=n.cssText;e.textContent=t}}),document.body.append(t))}),Dr.observe(document.body,{childList:!0})),t.append(e)}const Or={"background-color":{customProp:"--darkreader-inline-bgcolor",cssProp:"background-color",dataAttr:"data-darkreader-inline-bgcolor"},"background-image":{customProp:"--darkreader-inline-bgimage",cssProp:"background-image",dataAttr:"data-darkreader-inline-bgimage"},"border-color":{customProp:"--darkreader-inline-border",cssProp:"border-color",dataAttr:"data-darkreader-inline-border"},"border-bottom-color":{customProp:"--darkreader-inline-border-bottom",cssProp:"border-bottom-color",dataAttr:"data-darkreader-inline-border-bottom"},"border-left-color":{customProp:"--darkreader-inline-border-left",cssProp:"border-left-color",dataAttr:"data-darkreader-inline-border-left"},"border-right-color":{customProp:"--darkreader-inline-border-right",cssProp:"border-right-color",dataAttr:"data-darkreader-inline-border-right"},"border-top-color":{customProp:"--darkreader-inline-border-top",cssProp:"border-top-color",dataAttr:"data-darkreader-inline-border-top"},"box-shadow":{customProp:"--darkreader-inline-boxshadow",cssProp:"box-shadow",dataAttr:"data-darkreader-inline-boxshadow"},color:{customProp:"--darkreader-inline-color",cssProp:"color",dataAttr:"data-darkreader-inline-color"},fill:{customProp:"--darkreader-inline-fill",cssProp:"fill",dataAttr:"data-darkreader-inline-fill"},stroke:{customProp:"--darkreader-inline-stroke",cssProp:"stroke",dataAttr:"data-darkreader-inline-stroke"},"outline-color":{customProp:"--darkreader-inline-outline",cssProp:"outline-color",dataAttr:"data-darkreader-inline-outline"},"stop-color":{customProp:"--darkreader-inline-stopcolor",cssProp:"stop-color",dataAttr:"data-darkreader-inline-stopcolor"}},Wr={background:{customProp:"--darkreader-inline-bg",cssProp:"background",dataAttr:"data-darkreader-inline-bg"},border:{customProp:"--darkreader-inline-border-short",cssProp:"border",dataAttr:"data-darkreader-inline-border-short"},"border-bottom":{customProp:"--darkreader-inline-border-bottom-short",cssProp:"border-bottom",dataAttr:"data-darkreader-inline-border-bottom-short"},"border-left":{customProp:"--darkreader-inline-border-left-short",cssProp:"border-left",dataAttr:"data-darkreader-inline-border-left-short"},"border-right":{customProp:"--darkreader-inline-border-right-short",cssProp:"border-right",dataAttr:"data-darkreader-inline-border-right-short"},"border-top":{customProp:"--darkreader-inline-border-top-short",cssProp:"border-top",dataAttr:"data-darkreader-inline-border-top-short"}},Nr=Object.values(Or),Fr={};Nr.forEach(({cssProp:e,customProp:t})=>Fr[t]=e);const Ir=["style","fill","stop-color","stroke","bgcolor","color","background"],Ur=Ir.map(e=>`[${e}]`).join(", ");function qr(){return Nr.concat(Object.values(Wr)).map(({dataAttr:e,customProp:t,cssProp:n})=>[`[${e}] {`,`  ${n}: var(${t}) !important;`,"}"].join("\n")).concat(["[data-darkreader-inline-invert] {","    filter: invert(100%) hue-rotate(180deg);","}"]).join("\n")}const jr=new Map,Br=new Map;function Hr(e,t,n){jr.has(e)&&(jr.get(e).disconnect(),Br.get(e).disconnect());const r=new WeakSet;function o(e){(function(e){const t=[];return e instanceof Element&&e.matches(Ur)&&t.push(e),(e instanceof Element||S&&e instanceof ShadowRoot||e instanceof Document)&&K(t,e.querySelectorAll(Ur)),t})(e).forEach(e=>{r.has(e)||(r.add(e),t(e))}),Ge(e,o=>{r.has(e)||(r.add(e),n(o.shadowRoot),Hr(o.shadowRoot,t,n))}),nr.matchVariablesAndDependents()}const s=nt(e,{onMinorMutations:(e,{additions:t})=>{t.forEach(e=>o(e))},onHugeMutations:()=>{o(e)}});jr.set(e,s);let a=0,i=null;const c=qe({seconds:10}),l=qe({seconds:2});let u=[],d=null;const h=Le(e=>{const n=new Set;e.forEach(e=>{const r=e.target;n.has(r)||Ir.includes(e.attributeName)&&(n.add(r),t(r))}),nr.matchVariablesAndDependents()}),f=new MutationObserver(e=>{if(d)return void u.push(...e);a++;const t=Date.now();if(null==i)i=t;else if(a>=50){if(t-i<c)return d=setTimeout(()=>{i=null,a=0,d=null;const e=u;u=[],h(e)},l),void u.push(...e);i=t,a=1}h(e)});f.observe(e,{attributes:!0,attributeFilter:Ir.concat(Nr.map(({dataAttr:e})=>e)),subtree:!0}),Br.set(e,f)}const Gr=new WeakMap,zr=new WeakSet,Qr=new WeakMap,Kr=["brightness","contrast","grayscale","sepia","mode"];function Yr(e,t){return Ir.map(t=>`${t}="${e.getAttribute(t)}"`).concat(Kr.map(e=>`${e}="${t[e]}"`)).join(" ")}const Jr=new WeakMap,Xr=new WeakMap,Zr=new WeakMap,eo=new WeakMap;function to(e){if(!e)return null;if(Zr.has(e))return Zr.get(e);if(e instanceof SVGSVGElement)return e;const t=to(e.parentNode);return Zr.set(e,t),t}function no(e,t,n,r){if(Jr.has(e)){if(Date.now()-Jr.get(e)<1e3){const t=Xr.get(e)??0;Xr.set(e,t+1)}if((Xr.get(e)??0)>=10)return}if(e.parentElement?.dataset.nodeViewContent)return;if(Yr(e,t)===Gr.get(e))return;const o=new Set(Object.keys(Or));function s(n,s,a){const i=Pn(s,a,{style:e.style},nr,r,null);if(!i)return;function c(t){const{customProp:r,dataAttr:s}=Or[n]??Wr[n];e.style.setProperty(r,t),e.hasAttribute(s)||e.setAttribute(s,""),o.delete(n)}const l="function"==typeof i.value?i.value(t):i.value;var u;"string"==typeof l?c(l):l instanceof Promise?(u=a,l.then(r=>{r&&"background"===n&&r.startsWith("var(--darkreader-bg--")&&c(r),r&&"background-image"===n&&(e!==document.documentElement&&e!==document.body||r!==u||(r="none"),c(r)),Gr.set(e,Yr(e,t))})):"object"==typeof l&&function(t){let n=[];function r(t){n.forEach(({property:t})=>{e.style.removeProperty(t)}),t.forEach(({property:t,value:n})=>{n instanceof Promise||e.style.setProperty(t,n)}),n=t}r(t.declarations),t.onTypeChange.addListener(r)}(l)}if(n.length>0&&function(e,t){for(let n=0,r=t.length;n<r;n++){const r=t[n];if(e.matches(r))return!0}return!1}(e,n))return void o.forEach(t=>{e.removeAttribute(Or[t].dataAttr)});const a=e instanceof SVGElement,i=a?e.ownerSVGElement??(e instanceof SVGSVGElement?e:null):null;if(a&&1===t.mode&&i){if(zr.has(i))return;if(function(e){if(Qr.has(e))return Qr.get(e);const t=Boolean(e&&(e.getAttribute("class")?.includes("logo")||e.parentElement?.getAttribute("class")?.includes("logo")));return Qr.set(e,t),t}(i)){zr.add(i);const e=()=>{let e=i.outerHTML;e=e.replaceAll('<style class="darkreader darkreader--sync" media="screen"></style>',"");pn(`data:image/svg+xml;base64,${btoa(e)}`).then(e=>{e.isDark&&e.isTransparent||e.isLarge&&e.isLight&&!e.isTransparent?i.setAttribute("data-darkreader-inline-invert",""):i.removeAttribute("data-darkreader-inline-invert")})};return e(),void(ze()||Ke(e))}}if(e.hasAttribute("bgcolor")){let t=e.getAttribute("bgcolor");(t.match(/^[0-9a-f]{3}$/i)||t.match(/^[0-9a-f]{6}$/i))&&(t=`#${t}`),s("background-color","background-color",t)}if((e===document.documentElement||e===document.body)&&e.hasAttribute("background")){s("background-image","background-image",`url("${G(location.href,e.getAttribute("background")??"")}")`)}if(e.hasAttribute("color")&&"mask-icon"!==e.rel){let t=e.getAttribute("color");(t.match(/^[0-9a-f]{3}$/i)||t.match(/^[0-9a-f]{6}$/i))&&(t=`#${t}`),s("color","color",t)}if(a){if(e.hasAttribute("fill")){const t=e.getAttribute("fill");if("none"!==t)if(e instanceof SVGTextElement)s("fill","color",t);else{const n=()=>{let n=!1;const r=to(e);if(!r)return;if(eo.has(r))n=eo.get(r);else{const e=r.getBoundingClientRect();n=e.width*e.height<=Math.pow(32,2),eo.set(r,n)}let o;if(n)o=!1;else{const{width:t,height:n}=e.getBoundingClientRect();o=t>32||n>32}s("fill",o?"background-color":"color",t)};Je()?n():Ze(n)}}e.hasAttribute("stop-color")&&s("stop-color","background-color",e.getAttribute("stop-color"))}if(e.hasAttribute("stroke")){const t=e.getAttribute("stroke");s("stroke",e instanceof SVGLineElement||e instanceof SVGTextElement?"border-color":"color",t)}e.style&&it(e.style,(t,n)=>{if("background-image"===t&&n.includes("url"))e!==document.documentElement&&e!==document.body||s(t,t,n);else if(Or.hasOwnProperty(t)||t.startsWith("--")&&!Fr[t])s(t,t,n);else if(Wr[t]&&n.includes("var("))s(t,t,n);else{const n=Fr[t];if(n&&!e.style.getPropertyValue(n)&&!e.hasAttribute(n)){if("background-color"===n&&e.hasAttribute("bgcolor"))return;e.style.setProperty(t,"")}}}),e.style&&e instanceof SVGTextElement&&e.style.fill&&s("fill","color",e.style.getPropertyValue("fill")),e.getAttribute("style")?.includes("--")&&nr.addInlineStyleForMatching(e.style),Q(o,t=>{e.removeAttribute(Or[t].dataAttr)}),Gr.set(e,Yr(e,t)),Jr.set(e,Date.now())}const ro="theme-color",oo=`meta[name="${ro}"]`;let so=null,ao=null;function io(e,t){so=so||e.content;const n=le(so);n&&(e.content=It(n,t,!1))}const co=/\/\*[\s\S]*?\*\//g;function lo(e){return e.replace(co,"")}let uo=!1;function ho(e,t,n,r){let o=null;let s=!1;function a(){uo=!0,o?.stop(),s||(s=!0,queueMicrotask(function(){s=!1,r()||n()}))}return{start:function(){e.addEventListener("__darkreader__updateSheet",a),uo&&e.sheet||(o=function(e,t,n,r){let o=null,s=null;function a(){const e=t();return e?e.length:null}function i(){return a()!==o}function c(){o=a(),l();const t=()=>{const c=r();!c&&i()&&(o=a(),n()),c||uo&&e.sheet?l():s=requestAnimationFrame(t)};t()}function l(){s&&cancelAnimationFrame(s)}return{start:c,stop:l}}(e,t,n,r),o.start())},stop:function(){e.removeEventListener("__darkreader__updateSheet",a),o?.stop()}}}document.addEventListener("__darkreader__inlineScriptsAllowed",()=>uo=!0,{once:!0});const fo=["account.containerstore.com","containerstore.com","www.onet.pl"];function mo(e){return(e instanceof HTMLStyleElement||e instanceof SVGStyleElement&&!fo.includes(location.hostname)||e instanceof HTMLLinkElement&&Boolean(e.rel)&&e.rel.toLowerCase().includes("stylesheet")&&Boolean(e.href)&&!e.disabled&&(!b||!e.href.startsWith("moz-extension://"))&&!function(e){if(!e.href)return!1;try{return"fonts.googleapis.com"===new URL(e.href).hostname}catch(t){return e.href,!1}}(e))&&!e.classList.contains("darkreader")&&!ot.includes(e.media.toLowerCase())&&!e.classList.contains("stylus")}function go(e,t=[],n=!0){return mo(e)?t.push(e):(e instanceof Element||S&&e instanceof ShadowRoot||e===document)&&(Q(e.querySelectorAll('style, link[rel*="stylesheet" i]:not([disabled])'),e=>go(e,t,!1)),n&&Ge(e,e=>go(e.shadowRoot,t,!1))),t}const po=new WeakSet,bo=new WeakMap,yo=new WeakMap;let wo=0;const ko=new Map;function So(e,{update:t,loadingStart:n,loadingEnd:r}){const o=Mr();let s=null;if("next"===o){const t=[];let n=e;for(;(n=n.nextElementSibling)&&n.matches(".darkreader");)t.push(n);s=t.find(e=>e.matches(".darkreader--sync")&&!po.has(e))||null}let a=null,i=!1,c=!0;const l=()=>i,u=Cr(),d=new MutationObserver(n=>{if(n.some(e=>"characterData"===e.type)&&f()){E((e.textContent??"").trim(),location.href).then(t)}else t()}),h={attributes:!0,childList:!0,subtree:!0,characterData:!0};function f(){if(!(e instanceof HTMLStyleElement))return!1;return lo(e.textContent??"").trim().match(ut)}function m(e,t){let n=!1;if(e){let r;e:for(let o=0,s=e.length;o<s;o++)if(r=e[o],r.href){if(!t){n=!0;break e}if(!r.href.startsWith("https://fonts.googleapis.com/")&&r.href.startsWith("http")&&!r.href.startsWith(location.origin)){n=!0;break e}}}return n}function g(){if(bo.has(e))return bo.get(e).cssRules;if(f())return null;const t=_();return e instanceof HTMLLinkElement&&!function(e){if(e.startsWith("data:"))return!0;const t=H(e);return t.protocol===location.protocol&&t.hostname===location.hostname&&t.port===location.port&&t.pathname===location.pathname}(e.href)&&m(t,!1)||m(t,!0)?null:t}function p(){"next"===o?e.nextSibling!==s&&e.parentNode.insertBefore(s,e.nextSibling):"away"===o&&Pr(s)}let b=!1,w=!1;const k=++wo;async function S(){let t,n;if(e instanceof HTMLLinkElement){let[s,a]=C();if(y&&!e.sheet||!y&&!s&&!a||(r=a)&&r.message&&r.message.includes("loading")){try{await async function(e,t){return new Promise((n,r)=>{const o=()=>{e.removeEventListener("load",s),e.removeEventListener("error",a),ko.delete(t)},s=()=>{o(),n()},a=()=>{o(),r(`Linkelement ${t} couldn't be loaded. ${e.href}`)};ko.set(t,()=>{o(),r()}),e.addEventListener("load",s,{passive:!0}),e.addEventListener("error",a,{passive:!0}),e.href||a()})}(e,k)}catch(o){w=!0}if(i)return null;[s,a]=C()}if(s&&!m(s,!1))return s;try{t=await vo(e.href)}catch(o){t=""}if(n=ht(e.href),i)return null}else{if(!f())return null;t=e.textContent.trim(),n=ht(location.href)}var r;return await E(t,n),bo.has(e)?bo.get(e).cssRules:null}async function E(t,n){if(t)try{const r=await Co(t,n);if(bo.has(e))(yo.get(e)??0)<r.length&&(bo.get(e).replaceSync(r),yo.set(e,r.length));else{const t=new CSSStyleSheet;t.replaceSync(r),bo.set(e,t)}}catch(r){}}let v=!1;function C(){try{return null==e.sheet?[null,null]:[e.sheet.cssRules,null]}catch(t){return[null,t]}}function _(){const[e,t]=C();return t?null:e}const R=ho(e,_,t,l);function x(){d.disconnect(),i=!0,a&&a.stop(),R.stop()}let A=0;return{details:function(e){const o=g();return o?{rules:o}:(e.secondRound||b||w||(b=!0,n(),S().then(e=>{b=!1,r(),e&&t()}).catch(e=>{b=!1,r()})),null)},render:function(n,r){const d=g();function h(){s||(s=e instanceof SVGStyleElement?document.createElementNS("http://www.w3.org/2000/svg","style"):document.createElement("style"),s.classList.add("darkreader"),s.classList.add("darkreader--sync"),s.media="screen",e.title&&(s.title=e.title),po.add(s)),a&&a.stop(),p(),null==s.sheet&&(s.textContent="");return function(e){if(e)for(let t=e.cssRules.length-1;t>=0;t--)e.deleteRule(t)}(s.sheet),a?a.run():"next"===o&&(a=He(s,"prev-sibling",()=>{v=!0,f()})),s.sheet}function f(){const e=v;v=!1,u.modifySheet({prepareSheet:h,sourceCSSRules:d,theme:n,ignoreImageAnalysis:r,force:e,isAsyncCancelled:l}),c=!s.sheet||0===s.sheet.cssRules.length,u.shouldRebuildStyle()&&Ze(()=>t())}d&&(i=!1,f())},pause:x,destroy:function(){if(x(),bo.delete(e),Be(s),r(),ko.has(k)){const e=ko.get(k);ko.delete(k),e&&e()}},watch:function(){d.observe(e,h),e instanceof HTMLStyleElement&&R.start()},restore:function(){s&&(A++,A>10||(p(),a&&a.skip(),c||(v=!0,t())))}}}function Eo(e){return dt(e.substring(7).trim().replace(/;$/,"").replace(/screen$/,""))}async function vo(e){if(e.startsWith("data:"))return await(await fetch(e)).text();const t=function(e){const t=`${nn}${e}`;try{return sessionStorage.getItem(t)??null}catch(n){}return null}(e);if(t)return t;const n=new URL(e);let r;return r=n.origin===location.origin?await async function(e,t,n){const r=await _(e,t,n);return await r.text()}(e,"text/css",location.origin):await dn({url:e,responseType:"text",mimeType:"text/css",origin:location.origin}),n.origin===location.origin&&function(e,t){const n=`${nn}${e}`;try{sessionStorage.setItem(n,t)}catch(r){}}(e,r),r}async function Co(e,t,n=new Map){e=lo(e),e=function(e,t){return e.replace(lt,e=>{try{const n=dt(e);return`url('${G(t,n).replaceAll("'","\\'")}')`}catch(n){return e}})}(e=e.replace(ft,""),t);const r=function(e,t,n=0){const r=[];let o;for(;o=e.exec(t);)r.push({text:o[n],offset:o.index});return r}(ut,e);let o=null,s=!1,a=0;for(const c of r){let r;const l=o?o.offset+o.text.length:0,u=c.offset,d=e.indexOf("{",l),h=e.indexOf("}",l);if(s||d>=0&&d<u&&h>=0&&h<u)s=!0,r="";else{const e=G(t,Eo(c.text));if(n.has(e))r=n.get(e);else try{r=await vo(e),n.set(e,r),r=await Co(r,ht(e),n)}catch(i){je(),r=""}}e=e.substring(0,c.offset+a)+r+e.substring(c.offset+c.text.length+a),a+=r.length-c.text.length,o=c}return e=e.trim()}function _o(e,t){document.dispatchEvent(new CustomEvent("__darkreader__inlineScriptsAllowed"));const n=[];function r(e,t,r){document.addEventListener(e,t,r),n.push(()=>document.removeEventListener(e,t))}function o(e,t,r){const o=e.prototype,s=Object.getOwnPropertyDescriptor(o,t);if(!s)return;const a={...s};Object.keys(r).forEach(e=>{const t=r[e];a[e]=t(s[e])}),Object.defineProperty(o,t,a),n.push(()=>Object.defineProperty(o,t,s))}function s(e,t,n){o(e,t,{value:n})}function a(e){return e?.classList?.contains("darkreader")}function i(e){return a(e.ownerNode)}r("__darkreader__cleanUp",function(){n.forEach(e=>e()),n.splice(0)}),r("__darkreader__disableConflictingPlugins",function(){window?.WPDarkMode?.deactivate&&window.WPDarkMode.deactivate()});const c=new CustomEvent("__darkreader__updateSheet"),l=new CustomEvent("__darkreader__adoptedStyleSheetChange"),u=new CustomEvent("__darkreader__shadowDomAttaching",{bubbles:!0}),d=new WeakMap,h=new WeakMap;function f(e){const t=d.get(e);t?.forEach(e=>{e.isConnected?e.dispatchEvent(l):t.delete(e)})}function m(e){e.ownerNode&&!i(e)&&e.ownerNode.dispatchEvent(c),d.has(e)&&f(e)}s(CSSStyleSheet,"addRule",e=>function(t,n,r){return e.call(this,t,n,r),m(this),-1}),s(CSSStyleSheet,"insertRule",e=>function(t,n){const r=e.call(this,t,n);return m(this),r}),s(CSSStyleSheet,"deleteRule",e=>function(t){e.call(this,t),m(this)}),s(CSSStyleSheet,"removeRule",e=>function(t){e.call(this,t),m(this)}),s(CSSStyleSheet,"replace",e=>function(t){const n=e.call(this,t);return function(e,t){const{ownerNode:n}=e;n&&!i(e)&&t&&t instanceof Promise&&t.then(()=>n.dispatchEvent(c)),d.has(e)&&t&&t instanceof Promise&&t.then(()=>f(e))}(this,n),n}),s(CSSStyleSheet,"replaceSync",e=>function(t){e.call(this,t),m(this)}),s(Element,"attachShadow",e=>function(t){return this.dispatchEvent(u),e.call(this,t)});("baidu.com"===location.hostname||location.hostname.endsWith(".baidu.com"))&&s(Element,"getElementsByTagName",e=>function(t){if("style"!==t)return e.call(this,t);const n=()=>{const n=e.call(this,t);return Object.setPrototypeOf([...n].filter(e=>e&&!a(e)),NodeList.prototype)};let r=n();return r=new Proxy(r,{get:function(e,t){return n()[Number(t)||t]}}),r});function g(e){customElements.whenDefined(e).then(()=>{document.dispatchEvent(new CustomEvent("__darkreader__isDefined",{detail:{tag:e}}))})}["brilliant.org","www.vy.no"].includes(location.hostname)&&o(Node,"childNodes",{get:e=>function(){const t=e.call(this);return Object.setPrototypeOf([...t].filter(e=>!a(e)),NodeList.prototype)}}),r("__darkreader__addUndefinedResolver",e=>g(e.detail.tag)),t&&s(CustomElementRegistry,"define",e=>function(t,n,r){g(t),e.call(this,t,n,r)});let p=null;function b(){document.dispatchEvent(new CustomEvent("__darkreader__blobURLCheckResponse",{detail:{blobURLAllowed:p}}))}r("__darkreader__blobURLCheckRequest",function(){if(null!=p)return void document.dispatchEvent(new CustomEvent("__darkreader__blobURLCheckResponse",{detail:{blobURLAllowed:p}}));const e='<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"><rect width="1" height="1" fill="transparent"/></svg>',t=new Uint8Array(114);for(let s=0;s<114;s++)t[s]=e.charCodeAt(s);const n=new Blob([t],{type:"image/svg+xml"}),r=URL.createObjectURL(n),o=new Image;o.onload=()=>{p=!0,b()},o.onerror=()=>{p=!1,b()},o.src=r}),e&&o(Document,"styleSheets",{get:e=>function(){const t=()=>{const t=[...e.call(this)].filter(e=>e.ownerNode&&!i(e));return t.item=e=>t[e],Object.setPrototypeOf(t,StyleSheetList.prototype)};let n=t();return n=new Proxy(n,{get:function(e,n){return t()[n]}}),n}});{const e=new WeakMap,t=new WeakMap,n=new CustomEvent("__darkreader__adoptedStyleSheetsChange"),r=new WeakSet,a=new WeakMap,i=e=>!(!e||!e.cssRules)&&(!!r.has(e)||!!(e.cssRules.length>0&&e.cssRules[0].cssText.startsWith("#__darkreader__adoptedOverride"))&&(r.add(e),!0)),c=(e,t)=>e.length===t.length&&e.every((e,n)=>e===t[n]),l=e=>{const t=a.get(e),r=(e.adoptedStyleSheets||[]).filter(e=>!i(e));a.set(e,r),t&&c(t,r)||(r.forEach(t=>{d.has(t)||d.set(t,new Set),d.get(t).add(e);for(const e of t.cssRules){const n=e.style;n&&h.set(n,t)}}),e.dispatchEvent(n))},u=(n,r)=>{if(t.has(r))return r;if(e.has(r))return e.get(r);const o=new Proxy(r,{deleteProperty:(e,t)=>(delete e[t],!0),set:(e,t,r)=>(e[t]=r,"length"===t&&l(n),!0)});return e.set(r,o),t.set(o,r),o};[Document,ShadowRoot].forEach(e=>{o(e,"adoptedStyleSheets",{get:e=>function(){const t=e.call(this);return u(this,t)},set:e=>function(n){t.has(n)&&(n=t.get(n)),e.call(this,n),l(this)}})});const f=new CustomEvent("__darkreader__adoptedStyleDeclarationChange");["setProperty","removeProperty"].forEach(e=>{s(CSSStyleDeclaration,e,e=>function(...t){const n=e.apply(this,t),r=h.get(this);if(r){const e=d.get(r);e&&e.forEach(e=>{e.dispatchEvent(f)})}return n})})}}const Ro=new Set,xo=new Map;let Ao;function $o(e){let t=e.tagName.toLowerCase();if(!t.includes("-")){const n=e.getAttribute("is");if(!n)return;t=n}xo.has(t)||(xo.set(t,new Set),async function(e){if(Ro.has(e))return;return new Promise(t=>{if(window.customElements&&"function"==typeof customElements.whenDefined)customElements.whenDefined(e).then(()=>t());else if(Mo)Lo.has(e)?Lo.get(e).push(t):Lo.set(e,[t]),document.dispatchEvent(new CustomEvent("__darkreader__addUndefinedResolver",{detail:{tag:e}}));else{const n=()=>{const r=xo.get(e);r&&r.size>0&&(r.values().next().value.matches(":defined")?t():requestAnimationFrame(n))};requestAnimationFrame(n)}})}(t).then(()=>{if(Ao){const e=xo.get(t);xo.delete(t),Ao(Array.from(e))}})),xo.get(t).add(e)}function To(e){v&&Q(e.querySelectorAll(":not(:defined)"),$o)}let Mo=!1;document.addEventListener("__darkreader__inlineScriptsAllowed",()=>{Mo=!0},{once:!0,passive:!0});const Vo=new Set;document.addEventListener("__darkreader__shadowDomAttaching",e=>{const t=e.target;0===Vo.size&&queueMicrotask(()=>{const e=[...Vo].filter(e=>e.shadowRoot);Ao?.(e),Vo.clear()}),Vo.add(t)});const Lo=new Map;function Do(e){Mo=!0;const t=e.detail.tag;if(Ro.add(t),Lo.has(t)){const e=Lo.get(t);Lo.delete(t),e.forEach(e=>e())}}const Po=[];let Oo,Wo;function No(e,t,n){Fo();const r=new WeakMap,o=e=>(r.has(e)||r.set(e,new Set),r.get(e));e.forEach(e=>{let t=e;for(;t=t.parentNode;)if(t===document||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE){o(t).add(e);break}});const s=new WeakMap,a=new WeakMap;function i(e){s.set(e,e.previousElementSibling),a.set(e,e.nextElementSibling)}function c(e,n){const{createdStyles:r,removedStyles:c,movedStyles:l}=n;r.forEach(e=>i(e)),l.forEach(e=>i(e)),c.forEach(e=>{return t=e,s.delete(t),void a.delete(t);var t});const u=o(e);r.forEach(e=>u.add(e)),c.forEach(e=>u.delete(e)),r.size+c.size+l.size>0&&t({created:Array.from(r),removed:Array.from(c),moved:Array.from(l),updated:[]})}function l(e,{additions:t,moves:n,deletions:r}){const o=new Set,s=new Set,a=new Set;t.forEach(e=>go(e).forEach(e=>o.add(e))),r.forEach(e=>go(e).forEach(e=>s.add(e))),n.forEach(e=>go(e).forEach(e=>a.add(e))),c(e,{createdStyles:o,removedStyles:s,movedStyles:a}),t.forEach(e=>{m(e),To(e)}),t.forEach(e=>{return!(!(t=e).tagName.includes("-")&&!t.getAttribute("is"))&&$o(e);var t}),t.forEach(e=>Jn(e))}function u(e){const t=new Set(go(e)),n=new Set,r=new Set,i=new Set,l=o(e);t.forEach(e=>{l.has(e)||n.add(e)}),l.forEach(e=>{t.has(e)||r.add(e)}),t.forEach(e=>{var t;n.has(e)||r.has(e)||(t=e).previousElementSibling===s.get(t)&&t.nextElementSibling===a.get(t)||i.add(e)}),c(e,{createdStyles:n,removedStyles:r,movedStyles:i}),m(e),To(e),Jn(e)}function d(e){const n=new Set,r=new Set;e.forEach(e=>{const{target:t}=e;t.isConnected&&(mo(t)?n.add(t):t instanceof HTMLLinkElement&&t.disabled&&r.add(t))}),n.size+r.size>0&&t({updated:Array.from(n),created:[],removed:Array.from(r),moved:[]})}function h(e){if(Oo.has(e))return;const t=nt(e,{onMinorMutations:l,onHugeMutations:u}),n=new MutationObserver(d);n.observe(e,{attributeFilter:["rel","disabled","media","href"],subtree:!0}),Po.push(t,n),Oo.add(e)}function f(e){const{shadowRoot:t}=e;null==t||Oo.has(t)||(h(t),n(t))}function m(e){Ge(e,f)}e.forEach(i),h(document),m(document.documentElement),Ao=e=>{e=e.filter(e=>!Wo.has(e));const n=[];e.forEach(e=>K(n,go(e.shadowRoot))),t({created:n,updated:[],removed:[],moved:[]}),e.forEach(e=>{const{shadowRoot:t}=e;null!=t&&(f(e),m(t),To(t))}),e.forEach(e=>Wo.add(e))},document.addEventListener("__darkreader__isDefined",Do),To(document)}function Fo(){Po.forEach(e=>e.disconnect()),Po.splice(0,Po.length),Oo=new WeakSet,Wo=new WeakSet,Ao=null,xo.clear(),document.removeEventListener("__darkreader__isDefined",Do)}const Io=Pe(),Uo=new Map,qo=[],jo=new Map,Bo=new WeakMap;let Ho=null,Go=null,zo=null,Qo=[],Ko=[],Yo=new WeakMap;function Jo(e,t=document.head||document){let n=t.querySelector(`.${e}`);Yo.has(t)||Yo.set(t,new Map);const r=Yo.get(t);return n?r.set(e,n):r.has(e)?n=r.get(e):(n=document.createElement("style"),n.classList.add("darkreader"),n.classList.add(e),n.media="screen",n.textContent="",r.set(e,n)),n}const Xo=new Map;function Zo(e,t,n,r){const o=Mr();"next"===o?(document.head.insertBefore(e,t?t.nextSibling:document.head.firstChild),function(e,t,n){Xo.has(t)&&Xo.get(t).stop(),Xo.set(t,He(e,"head",n))}(e,n,r)):"away"===o&&Pr(e)}function es(){const e=Jo("darkreader--fallback",document);e.textContent=In(Ho,{strict:!0}),Zo(e,null,"fallback");const t=Jo("darkreader--user-agent");t.textContent=Nn(Ho,zo,Ho.styleSystemControls),Zo(t,e,"user-agent");const n=Jo("darkreader--text");Ho.useFont||Ho.textStroke>0?n.textContent=function(e){const t=[];return t.push(`*:not(${z.join(", ")}) {`),e.useFont&&e.fontFamily&&t.push(`  font-family: ${e.fontFamily} !important;`),e.textStroke>0&&(t.push(`  -webkit-text-stroke: ${e.textStroke}px !important;`),t.push(`  text-stroke: ${e.textStroke}px !important;`)),t.push("}"),t.join("\n")}(Ho):n.textContent="",Zo(n,t,"text");const r=Jo("darkreader--invert");Go&&Array.isArray(Go.invert)&&Go.invert.length>0?r.textContent=[`${Go.invert.join(", ")} {`,`    filter: ${re({...Ho,contrast:0===Ho.mode?Ho.contrast:J(Ho.contrast-10,0,100)})} !important;`,"}"].join("\n"):r.textContent="",Zo(r,n,"invert");const o=Jo("darkreader--inline");o.textContent=qr(),Zo(o,r,"inline");const s=Jo("darkreader--variables"),a=Ho?.selectionColor?Fn(Ho):null,i=It(le("#ffffff"),Ho),c=Ht(le("#000000"),Ho);s.textContent=[":root {",`   --darkreader-neutral-background: ${i};`,`   --darkreader-neutral-text: ${c};`,`   --darkreader-selection-background: ${a?.backgroundColorSelection??"initial"};`,`   --darkreader-selection-text: ${a?.foregroundColorSelection??"initial"};`,"}"].join("\n"),Zo(s,o,"variables",()=>Rt(s.sheet)),Rt(s.sheet);const l=Jo("darkreader--root-vars");Zo(l,s,"root-vars");const u=!(Go&&Go.disableStyleSheetsProxy),d=!(Go&&Go.disableCustomElementRegistryProxy);document.dispatchEvent(new CustomEvent("__darkreader__cleanUp"));{const e=function(e,t=document.head||document){let n=t.querySelector(`.${e}`);return n||(n=document.createElement("script"),n.classList.add("darkreader"),n.classList.add(e)),n}("darkreader--proxy");e.append(`(${_o})(${u}, ${d})`),document.head.insertBefore(e,l.nextSibling),e.remove()}const h=Jo("darkreader--override");h.textContent=Go&&Go.css?os(Go.css):"",Zo(h,document.head.lastChild,"override")}const ts=new Set;function ns(e){const t=Jo("darkreader--inline",e);t.textContent=qr(),e.insertBefore(t,e.firstChild);const n=Jo("darkreader--override",e);n.textContent=Go&&Go.css?os(Go.css):"",e.insertBefore(n,t.nextSibling);const r=Jo("darkreader--invert",e);Go&&Array.isArray(Go.invert)&&Go.invert.length>0?r.textContent=[`${Go.invert.join(", ")} {`,`    filter: ${re({...Ho,contrast:0===Ho.mode?Ho.contrast:J(Ho.contrast-10,0,100)})} !important;`,"}"].join("\n"):r.textContent="",e.insertBefore(r,n.nextSibling),ts.add(e)}function rs(e){const t=null===e.firstChild;ns(e),t&&function(e){new MutationObserver((t,n)=>{n.disconnect();for(const{type:r,removedNodes:o}of t)if("childList"===r)for(const{nodeName:t,className:n}of o)if("STYLE"===t&&["darkreader darkreader--inline","darkreader darkreader--override","darkreader darkreader--invert"].includes(n))return void ns(e)}).observe(e,{childList:!0})}(e)}function os(e){return e.replace(/\${(.+?)}/g,(e,t)=>{const n=le(t);if(n){return $e(n.r,n.g,n.b)>.5?It(n,Ho):Ht(n,Ho)}return t})}function ss(){const e=Yo.get(document.head)?.get("darkreader--fallback")||Yo.get(document)?.get("darkreader--fallback")||document.querySelector(".darkreader--fallback");e&&(e.textContent="")}function as(){hs();const e=go(document).filter(e=>!Uo.has(e)).map(e=>ls(e));e.map(e=>e.details({secondRound:!1})).filter(e=>e&&e.rules.length>0).forEach(e=>{nr.addRulesForMatching(e.rules)}),nr.matchVariablesAndDependents(),nr.setOnRootVariableChange(()=>{const e=Jo("darkreader--root-vars");nr.putRootVars(e,Ho)});const t=Jo("darkreader--root-vars");nr.putRootVars(t,Ho),Uo.forEach(e=>e.render(Ho,Qo)),0===cs.size&&ss(),e.forEach(e=>e.watch());const n=function(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}(document.querySelectorAll(Ur));if(Ge(document.documentElement,e=>{rs(e.shadowRoot);const t=e.shadowRoot.querySelectorAll(Ur);t.length>0&&K(n,t)}),n.forEach(e=>no(e,Ho,Ko,Qo)),ps(document),nr.matchVariablesAndDependents(),b){const e=e=>{const{sheets:t}=e.detail;if(!Array.isArray(t)||0===t.length)return;t.forEach(({sheet:e})=>{const{cssRules:t}=e;nr.addRulesForMatching(t)}),nr.matchVariablesAndDependents();const n=[];var r,o;t.forEach(({sheetId:e,sheet:t})=>{const r=function(e){let t=jo.get(e);t||(t=function(){let e=!1;const t=new $r;return{render:function(n){Cr().modifySheet({prepareSheet:()=>(t.replaceSync(""),t),sourceCSSRules:n.cssRules,theme:n.theme,ignoreImageAnalysis:n.ignoreImageAnalysis,force:!1,isAsyncCancelled:()=>e})},destroy:function(){e=!0},commands:function(){const e=t.getDeepCSSCommands();return t.clearDeepCSSCommands(),e}}}(),jo.set(e,t));return t}(t),o=t.cssRules;r.render({theme:Ho,ignoreImageAnalysis:Qo,cssRules:o});const s=r.commands();n.push({sheetId:e,commands:s})}),r=function(e){if(Bo.has(e))return Bo.get(e);const t=Symbol();return Bo.set(e,t),t}(t[0].sheet),o=()=>{document.dispatchEvent(new CustomEvent("__darkreader__adoptedStyleSheetCommands",{detail:JSON.stringify(n)}))},De.has(r)||(De.add(r),requestAnimationFrame(()=>{De.delete(r),o()}))};document.addEventListener("__darkreader__adoptedStyleSheetsChange",e),_s.push(()=>document.removeEventListener("__darkreader__adoptedStyleSheetsChange",e)),document.dispatchEvent(new CustomEvent("__darkreader__startAdoptedStyleSheetsWatcher"))}}let is=0;const cs=new Set;function ls(e){const t=++is;const n=So(e,{update:function(){const e=n.details({secondRound:!0});e&&(nr.addRulesForMatching(e.rules),nr.matchVariablesAndDependents(),n.render(Ho,Qo))},loadingStart:function(){if(!ze()||!Ue()){cs.add(t),cs.size;const e=Jo("darkreader--fallback");e.textContent||(e.textContent=In(Ho,{strict:!1}))}},loadingEnd:function(){cs.delete(t),cs.size,0===cs.size&&ze()&&ss()}});return Uo.set(e,n),n}function us(e){const t=Uo.get(e);t&&(t.destroy(),Uo.delete(e))}const ds=Le(e=>{Uo.forEach(e=>e.render(Ho,Qo)),qo.forEach(e=>e.render(Ho,Qo)),e&&e()}),hs=function(){ds.cancel()};function fs(){0!==cs.size||ss()}function ms(){as(),No(Array.from(Uo.keys()),({created:e,updated:t,removed:n,moved:r})=>{const o=n,s=e.concat(t).concat(r).filter(e=>!Uo.has(e)),a=r.filter(e=>Uo.has(e));o.forEach(e=>us(e));const i=s.map(e=>ls(e));i.map(e=>e.details({secondRound:!1})).filter(e=>e&&e.rules.length>0).forEach(e=>{nr.addRulesForMatching(e.rules)}),nr.matchVariablesAndDependents(),i.forEach(e=>e.render(Ho,Qo)),i.forEach(e=>e.watch()),a.forEach(e=>Uo.get(e).restore())},e=>{rs(e),ps(e)}),function(e,t){Hr(document,e,t),Ge(document.documentElement,n=>{Hr(n.shadowRoot,e,t)})}(e=>{if(no(e,Ho,Ko,Qo),e===document.documentElement&&(e.getAttribute("style")||"").includes("--")){nr.matchVariablesAndDependents();const e=Jo("darkreader--root-vars");nr.putRootVars(e,Ho)}},e=>{rs(e);const t=e.querySelectorAll(Ur);t.length>0&&Q(t,e=>no(e,Ho,Ko,Qo))}),Ke(fs)}function gs(){es(),Ue()||Ho.immediateModify?ms():Fe(ms),function(e){const t=document.querySelector(oo);t?io(t,e):(ao&&ao.disconnect(),ao=new MutationObserver(t=>{e:for(let n=0;n<t.length;n++){const{addedNodes:r}=t[n];for(let t=0;t<r.length;t++){const n=r[t];if(n instanceof HTMLMetaElement&&n.name===ro){ao.disconnect(),ao=null,io(n,e);break e}}}}),ao.observe(document.head,{childList:!0}))}(Ho)}function ps(e){if(!b&&function(e){return Array.isArray(e.adoptedStyleSheets)}(e)){e.adoptedStyleSheets.forEach(e=>{nr.addRulesForMatching(e.cssRules)});const t=Ar(e);qo.push(t),t.render(Ho,Qo),t.watch(e=>{e.forEach(e=>{nr.addRulesForMatching(e.cssRules)}),nr.matchVariablesAndDependents(),t.render(Ho,Qo)})}}function bs(){Uo.forEach(e=>e.pause()),Q(Xo.values(),e=>e.stop()),Xo.clear(),Fo(),jr.forEach(e=>e.disconnect()),Br.forEach(e=>e.disconnect()),jr.clear(),Br.clear(),Ye(fs),Xe.clear()}let ys,ws=null;function ks(){const e=document.querySelector('meta[name="darkreader"]');return e?e.content!==Io:(function(){const e=document.createElement("meta");e.name="darkreader",e.content=Io,document.head.appendChild(e)}(),ys=new MutationObserver(()=>{document.querySelector('meta[name="darkreader-lock"]')&&(ys.disconnect(),Rs())}),ys.observe(document.head,{childList:!0,subtree:!0}),!1)}let Ss=2;let Es=null,vs=null;function Cs(e,t,n){Ho=e,Go=t;const r=["brightness","contrast","darkSchemeBackgroundColor","darkSchemeTextColor","grayscale","lightSchemeBackgroundColor","lightSchemeTextColor","sepia"];if(Es&&vs){const e=new Set([...Object.keys(Ho),...Object.keys(Es)]);let t=!0;for(const n of e)if(Ho[n]!==Es[n]&&!r.includes(n)){t=!1;break}if(t&&JSON.stringify(Go)!==JSON.stringify(vs)&&(t=!1),t){const e=function(){const e=[],t=[],n=[];return _t.forEach(r=>{r.background&&e.push(r.parsed),r.border&&t.push(r.parsed),r.text&&n.push(r.parsed)}),{background:e,border:t,text:n}}();return At(),e.background.forEach(e=>It(e,Ho)),e.text.forEach(e=>Ht(e,Ho)),void e.border.forEach(e=>Qt(e,Ho))}At()}Go?(Qo=Array.isArray(Go.ignoreImageAnalysis)?Go.ignoreImageAnalysis:[],Ko=Array.isArray(Go.ignoreInlineStyle)?Go.ignoreInlineStyle:[]):(Qo=[],Ko=[]),Ho.immediateModify&&(ze=()=>!0),zo=n;const o=()=>{const e=()=>{!function(){if(document.documentElement.hasAttribute("data-wp-dark-mode-preset")){const e=()=>{document.dispatchEvent(new CustomEvent("__darkreader__disableConflictingPlugins")),document.documentElement.classList.remove("wp-dark-mode-active"),document.documentElement.removeAttribute("data-wp-dark-mode-active")};e(),new MutationObserver(()=>{(document.documentElement.classList.contains("wp-dark-mode-active")||document.documentElement.hasAttribute("data-wp-dark-mode-active"))&&e()}).observe(document.documentElement,{attributes:!0,attributeFilter:["class","data-wp-dark-mode-active"]})}}(),document.documentElement.setAttribute("data-darkreader-mode","dynamic"),document.documentElement.setAttribute("data-darkreader-scheme",Ho.mode?"dark":"dimmed"),gs()},t=()=>{Rs()};null!=document.querySelector('meta[name="darkreader-lock"]')?Be(document.querySelector(".darkreader--fallback")):ks()?function({success:e,failure:t}){if(--Ss<=0)return void t();const n=document.head.querySelector('meta[name="darkreader"]');if(!n||n.content===Io)return;const r=document.createElement("meta");r.name="darkreader-lock",document.head.append(r),queueMicrotask(()=>{r.remove(),e()})}({success:e,failure:t}):e()};if(document.head)o();else{if(!b){const e=Jo("darkreader--fallback");document.documentElement.appendChild(e),e.textContent=In(Ho,{strict:!0})}ws?.disconnect(),ws=new MutationObserver(()=>{document.head&&(ws?.disconnect(),o())}),_s.push(()=>{ws?.disconnect(),ws=null}),ws.observe(document,{childList:!0,subtree:!0})}Es=Ho,vs=Go}const _s=[];function Rs(){if(document.documentElement.removeAttribute("data-darkreader-mode"),document.documentElement.removeAttribute("data-darkreader-scheme"),nr.clear(),j.clear(),Ie(),hs(),bs(),er(),ie.clear(),ce.clear(),Ct=null,At(),Es=null,vs=null,Be(document.querySelector(".darkreader--fallback")),document.head){const e=[".darkreader--user-agent",".darkreader--text",".darkreader--invert",".darkreader--inline",".darkreader--override",".darkreader--variables",".darkreader--root-vars",'meta[name="darkreader"]'];!function(){ao&&(ao.disconnect(),ao=null);const e=document.querySelector(oo);e&&so&&(e.content=so)}(),e.forEach(e=>Be(document.head.querySelector(e))),Yo=new WeakMap,document.dispatchEvent(new CustomEvent("__darkreader__cleanUp")),Be(document.head.querySelector(".darkreader--proxy"))}ts.forEach(e=>{Be(e.querySelector(".darkreader--inline")),Be(e.querySelector(".darkreader--override"))}),ts.clear(),Q(Uo.keys(),e=>us(e)),cs.clear(),ko.clear(),Q(document.querySelectorAll(".darkreader"),Be),Lr?.disconnect(),Dr?.disconnect(),document.querySelector(".darkreader-style-container")?.remove(),qo.forEach(e=>e.destroy()),qo.splice(0),jo.forEach(e=>e.destroy()),jo.clear(),ys&&ys.disconnect(),_s.forEach(e=>e()),_s.splice(0)}let xs=!1;const As=(()=>{try{return window.self!==window.top}catch(e){return!0}})();function $s(e={},t=null){const n={...W,...e};if(n.engine!==M.dynamicTheme)throw new Error("Theme engine is not supported.");Cs(n,t,As),xs=!0}function Ts(){return xs}function Ms(){Rs(),xs=!1}"function"==typeof matchMedia&&matchMedia("(prefers-color-scheme: dark)");export{Ms as d,$s as e,Ts as i};
